{"version":3,"sources":["GAListener/GAListenerActive.js","ErrorCatcher.jsx","Backends/Base/Common.js","Backends/Base/ByDate.js","Backends/Base/Live.js","Backends/Rac1/Rac1ByDate.js","Backends/Rac1/Rac1Live.js","Throtle.js","Players/Base/Button.jsx","Players/Base/Volume.jsx","Players/Base/Controls.jsx","Players/Base/MediaSession.jsx","Players/Base/AudioWrapper.jsx","Players/Base/PodcastsList.jsx","Players/Base/Podcast.jsx","Players/Base/Playlist.jsx","Players/Base/PodcastCover.jsx","Players/ByDate.jsx","Players/Live.jsx","i18n/en-en.lang.js","i18n/ca-es.lang.js","i18n/es-es.lang.js","i18n/available.js","App.js","AppMenu.jsx","ModalRouter.jsx","Cookies.jsx","About.jsx","Help.jsx","botCheck.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js","GAListener/GAEventContext.js","GAListener/GAListener.jsx","GAListener/withGAEvent.js","GAListener/ReportWebVitals.jsx","GAListener/index.js","withLocationAndHistory.jsx"],"names":["GAListenerActive","manageHistory","history","props","sendPageView","location","listen","pathname","hash","page","console","log","ReactGA","set","pageview","sendLanguage","language","PageLanguage","loadGoogleTag","GACode","global","dataLayer","gtag","push","arguments","Date","scriptTag","document","createElement","src","async","onload","onScriptLoad","body","appendChild","onLoad","removeGA","_ga","ga","this","initialize","titleCase","prevProps","children","React","Component","defaultProps","withLocationAndHistory","ErrorCatcher","reloadApp","sendEvent","window","reload","state","hasError","errorMessage","errorStack","info","error","setState","componentStack","event","origin","t","onClick","style","padding","icon","faRefresh","margin","textAlign","whiteSpace","message","stack","PureComponent","translate","withGAEvent","noop","Common","name","controller","AbortController","handleFetchErrors","response","ok","Promise","reject","Error","statusText","catchFetchErrors","err","onError","onUpdate","abort","ByDate","podcastsData","pages","pagesUuids","previousListUpdate","setDate","date","undefined","updateList","pageNumber","handleListUpdate","getPodcastsUUIDs","then","podcasts","getMissingPodcasts","catch","map","podcast","uuid","getPodcastData","podcastData","handlePodcastUpdate","newList","filter","completed","dateToString","d","getFullYear","getMonth","getDate","filterByDates","d1","d2","forEach","pageUuids","podcastPage","find","allCompleted","every","podcastNew","index","getPage","dataRaw","parsePage","uuidsPage","length","reverse","fetch","pageUrl","signal","text","resolve","podcastUrl","data","json","parsePodcast","warn","hour","minute","title","titleFull","author","path","programUrl","schedule","image","Live","updateTimeout","updateUrl","updateOptions","timer","parseResponse","clearTimeout","timeout","setTimeout","checkUpdate","parseData","launchTimer","baseURL","pad2","num","format_date","day","month","year","join","Rac1","dataAttrsFind","dataAttrsClean","searchData","dataScheduleFixScheduleHour","next","getTime","dateNext","parameters","programId","sectionId","from","to","parameters_str","Object","keys","key","split","line","test","v","replace","trim","Number","dateTime","startsWith","audio","time","appTabletTitle","section","program","url","subtitle","images","kind","imageVersion","person","Rac1Live","dataTagContent","dataTagContents","dataFilenameClean","includes","match","Throtle","clear","force","func","start","ButtonLegacy","Set","toUpperCase","shiftKey","help","action","className","restProps","styleButton","borderRadius","helpExtra","keysString","bind","aria-label","fontSize","fontWeight","minWidth","Function","color","ButtonsGroup","keyHandlerFocusForced","args","keyHandlerFocus","buttons","display","justifyContent","control","Button","onMouseUp","e","Volume","onSetVolume","value","onClickButton","onSetMuted","muted","volume","faVolume","faVolumeMute","faVolumeOff","faVolumeDown","faVolumeUp","flexDirection","width","height","alignItems","paddingTop","onAfterChange","onChange","vertical","Controls","controls","faFastForward","flip","onPlayPrev","group","faForward","player","currentTime","position","left","isPlaying","faPause","faPlay","paused","play","pause","onPlayNext","incrementVolume","setMuted","showAdvanced","faEyeSlash","faEye","onShowAdvancedChange","_keyHandlerFocus","doFocus","relatedTarget","allowFocus","_keyHandler","focus","runAction","getPlayer","current","setVolume","handleKey","stopPropagation","key_orig","mod","Boolean","preventDefault","noKeys","extraControls","concat","c","_action","navigator","userAgent","hideButtons","volumeAsAdvanced","reduce","res","filterButtonsGroup","advanced","basic","volumeComponent","role","border","bottom","right","backgroundColor","cursor","ref","element","onKeyUp","onBlur","increment","volumeNew","status","MediaSession","render","setActions","setMetadata","mediaSession","setActionHandler","onPlay","onPause","onSeekBackward","onSeekForward","artist","album","artwork","artworkReal","sizes","type","metadata","MediaMetadata","AudioWrapper","_player","createRef","audioEl","handleSeekBackward","controlsRunAction","handleSeekForward","handlePlay","handlePause","handlePlayPrev","handlePlayNext","onSetVolumeAndMuted","currentTarget","isSeekable","duration","Infinity","getHideButtons","onLoadedMetadata","show","showAdvancedControls","handlePlayStatusChangeTrue","handlePlayStatusChange","handlePlayStatusChangeFalse","refPlayer","el","refControls","controlsKeyHandlerFocus","removeEventListener","autoPlay","titleHead","onEnded","controlsList","preload","onVolumeChanged","PodcastsList","child","marginLeft","textIndent","styles","listStyleType","paddingLeft","matches","columnCount","Math","floor","renderChildren","Podcast","handleClick","href","textDecoration","UpdateButton","marginBottom","Playlist","handleDateChange","setHours","setMinutes","onDateChange","handleDateBlur","onDateBlur","completedDownload","minDate","maxDate","required","clearIcon","calendarIcon","faCalendar","onClickUpdate","disabled","onClickPodcast","PodcastCover","flexWrap","target","rel","alignSelf","alt","handleError","handleHistoryChange","dateNew","getDateFromParams","getHours","getMinutes","currentUUID","selectPodcastByDate","waitingUpdate","waitingUpdateNext","throtle","run","historyPush","backend","findCurrentPodcast","playPodcast","retry","handleClickUpdate","handleClickPodcast","findPodcastByUUID","handlePodcastsLastRemove","slice","params","unlisten","dateText","autoplay","currentPodcast","currentPath","newPath","found","findIndex","handleUpdate","actions","Key","Keys","SHIFT","PageUp","PageDown","ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Space","Enter","Prev","Next","More","Less","Play","Pause","Mute","Unmute","symbol","orig","item","common","About","Help","Yes","No","or","tracking","translations","locale","App","AppMenu","Language","lang","Update","ModalRouter","Dialog","Author","Cookies","trans","available","en","en_en","ca","ca_es","es","withErrorCatcher","AboutWithErrorCatcher","HelpWithErrorCatcher","CookiesWithErrorCatcher","LiveWithErrorCatcher","ByDateWithErrorCatcher","AppHelmet","useTranslate","titleTemplate","defaultTitle","AppProviders","trackOptIn","id","RedirectToToday","useLocation","todayStr","handleStopInitializing","initializing","handleTrackingSeenChange","trackingSeen","handleTrackOptInChange","appElement","dnt","handleLanguageChange","isBot","process","parent","prefix","blacklist","onParentStateHydrated","exact","onTrackingSeen","onTrackOptIn","onLanguageChange","defaultLanguage","prototype","hasOwnProperty","call","AppWrapper","useMemo","botCheck","navDNT","doNotTrack","msDoNotTrack","useState","setLanguage","useEffect","decoded","decodeURIComponent","handleMenuIsOpenChange","isOpen","handleMenuStateChange","closeMenu","handleClickModal","handleLanguageSectionClick","isLanguageOpen","handleClickLanguage","onLoadNewServiceWorkerAccept","newServiceWorkerDetected","background","backgroundSize","backgroundRepeat","backgroundPosition","isActive","faByDate","marginRight","faLive","faAbout","faHelp","faCookies","checkedChildren","unCheckedChildren","checked","faUpgrade","faLanguage","faCaretDown","faCaretRight","marginTop","code","extraClass","Menu","BigMenu","SmallMenu","pageWrapId","outerContainerId","onStateChange","disableCloseOnEsc","renderLinks","withServiceWorkerUpdater","persistenceService","LocalStoragePersistenceService","Modal","setAppElement","CloseModal","useHistory","cancelTimeout","ModalRouterInner","openModal","modalIsOpen","closeModal","propsClose","getPathState","autoForce","forced","initialPath","prevState","onAfterOpen","onRequestClose","contentLabel","closeTimeoutMS","aria","labelledby","describedby","overlay","zIndex","content","top","maxHeight","minHeight","maxWidth","faClose","ModalRouterHidrated","rest","handleClickTrackOptIn","dangerouslySetInnerHTML","__html","optIn","k","Arrow","faArrow","re","RegExp","isLocalhost","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","onSuccess","reportWebVitals","onPerfEntry","onCLS","onINP","onFCP","onLCP","onTTFB","ReactDOM","StrictMode","getElementById","URL","addEventListener","headers","contentType","get","indexOf","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration","onServiceWorkerUpdate","detail","CustomEvent","dispatchEvent","dispatchCustomEvent","GAEventContext","createContext","GAListener","createEvent","assign","category","label","Provider","GAEvent","forwardedRef","Consumer","forwarded","forwardRef","listener","round","nonInteraction","handleWebVitals","useParams"],"mappings":"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","file":"static/js/main.99c719b6.chunk.js","sourcesContent":["import React from \"react\";\nimport { PropTypes } from \"prop-types\";\nimport ReactGA from \"react-ga\";\nimport withLocationAndHistory from \"../withLocationAndHistory\";\n\nclass GAListenerActive extends React.Component {\n  componentDidMount() {\n    const { GACode } = this.props;\n\n    this.loadGoogleTag(GACode);\n    ReactGA.initialize(GACode, {\n      titleCase: false,\n    });\n  }\n\n  // Detect language change\n  componentDidUpdate(prevProps) {\n    if (prevProps.language !== this.props.language) {\n      this.sendLanguage();\n    }\n  }\n\n  manageHistory = () => {\n    const { history } = this.props;\n    this.sendPageView(history.location);\n    history.listen(this.sendPageView);\n  };\n\n  // Fired on route change\n  sendPageView = ({ pathname, hash }) => {\n    const page = `${pathname}${hash}`;\n    console.log(`event: Navigated to '${page}'`);\n    ReactGA.set({ page });\n    ReactGA.pageview(page);\n  };\n\n  sendLanguage = () => {\n    const { language } = this.props;\n    console.log(`event: Change language to '${language}'`);\n    ReactGA.set({ PageLanguage: language });\n  };\n\n  loadGoogleTag = (GACode) => {\n    // Global site tag (gtag.js) - Google Analytics\n    global.dataLayer = global.dataLayer || [];\n    global.gtag = function () {\n      global.dataLayer.push(arguments);\n    };\n\n    global.gtag(\"js\", new Date());\n    global.gtag(\"config\", GACode);\n\n    // Load GTag script async\n    const scriptTag = document.createElement(\"script\");\n    scriptTag.src = `https://www.googletagmanager.com/gtag/js?id=${GACode}`;\n    scriptTag.async = true;\n    scriptTag.onload = this.onScriptLoad;\n    document.body.appendChild(scriptTag);\n  };\n\n  onScriptLoad = () => {\n    this.sendLanguage();\n    this.manageHistory();\n    this.props.onLoad();\n  };\n\n  removeGA = () => {\n    this._ga = ReactGA.ga;\n    ReactGA.ga = null;\n    global.gtag = [];\n    global.dataLayer = [];\n  };\n\n  render() {\n    return this.props.children;\n  }\n}\n\nGAListenerActive.defaultProps = {\n  language: \"en-en\",\n  onLoad: () => {},\n};\n\nGAListenerActive.propTypes = {\n  language: PropTypes.string.isRequired,\n  match: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n  onLoad: PropTypes.func.isRequired,\n};\n\nexport default withLocationAndHistory(GAListenerActive);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSyncAlt as faRefresh } from \"@fortawesome/free-solid-svg-icons\";\nimport { translate } from \"react-translate\";\nimport { withGAEvent } from \"./GAListener\";\n\n// Catches unhandled errors:\n// - Show it to user\n// - Send them to GA to help improve app\nclass ErrorCatcher extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      errorMessage: \"\",\n      errorStack: \"\",\n      info: \"\",\n    };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return {\n      hasError: true,\n      errorMessage: error.message,\n      errorStack: error.stack,\n    };\n  }\n\n  // Catch unhandled errors and send them to help improving the app\n  componentDidCatch(error, info) {\n    this.setState({\n      info: info.componentStack,\n    });\n\n    this.sendEvent(\"Unhandled Error\");\n  }\n\n  reloadApp = () => {\n    this.sendEvent(\"Reload from Error\");\n\n    // Reload app\n    window.location.reload();\n  };\n\n  // Send event to GA\n  sendEvent(event) {\n    this.props.sendEvent(event, this.props.origin, this.state.errorMessage);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      const { t } = this.props;\n      const { errorMessage, errorStack } = this.state;\n\n      // Show error to user\n      return (\n        <>\n          <h1>{t(\"Something went wrong :(\")}</h1>\n          <button onClick={this.reloadApp} style={{ padding: \"1em\" }}>\n            <FontAwesomeIcon\n              icon={faRefresh}\n              style={{ margin: \"0 .8em 0 .2em\" }}\n            />\n            {t(\"Try reloading the app to recover from it\")}\n          </button>\n          <div style={{ textAlign: \"left\" }}>\n            <h3>{errorMessage}</h3>\n            <details style={{ whiteSpace: \"pre-wrap\" }}>{errorStack}</details>\n          </div>\n        </>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nErrorCatcher.defaultProps = {\n  origin: \"No name\",\n};\n\nErrorCatcher.propTypes = {\n  origin: PropTypes.string.isRequired,\n};\n\nexport default translate(\"ErrorCatcher\")(withGAEvent(ErrorCatcher));\n","const noop = () => {};\n\nclass Common {\n  // Visible backend name\n  // Change when subclassing\n  name = \"Common\";\n\n  // Abort controller\n  // Used to stop pending fetches when user changes the date\n  controller = new AbortController();\n\n  constructor(props) {\n    this.onUpdate = props.onUpdate || noop;\n    this.onError = props.onError || noop;\n  }\n\n  // Abort the abort controller and clean it up creating a new one for next fetches\n  // Add here all side-effects cancelling (fetches, timers, etc)\n  // Remember to call super() when subclassing\n  abort() {\n    this.controller.abort();\n    this.controller = new AbortController();\n  }\n\n  // Raises exception on response error\n  handleFetchErrors = (response) => {\n    // Raise succeeded non-ok responses\n    if (!response.ok) {\n      return Promise.reject(\n        Error(`${this.name} backend: ${response.statusText}`)\n      );\n    }\n    return response;\n  };\n\n  // Catches fetch errors, original or 'self-raised', and throws to `onError` prop\n  // Filters out non-error \"Connection aborted\"\n  catchFetchErrors = (err) => {\n    if (err.name === \"AbortError\") {\n      console.log(\"Connection aborted\", err);\n    } else {\n      err.message = `${this.name} backend: ${err.message}`;\n      this.onError(err);\n    }\n  };\n}\n\nexport default Common;\n","import Common from './Common'\n\nclass ByDate extends Common {\n  name = 'By Date'\n\n  // Cache for UUID => podcast\n  podcastsData = {}\n\n  // List of pages to parse: 0, 1, 2, ...\n  pages = []\n\n  // Cache for pageNumber => UUIDs\n  pagesUuids = []\n\n  // Cache for reloads\n  previousListUpdate = []\n\n  constructor (props) {\n    super(props)\n    this.setDate(props.date)\n  }\n\n  setDate (date) {\n    if (this.date !== date && this.date !== undefined) {\n      this.previousListUpdate = []\n      this.abort()\n    }\n    this.date = date\n    this.updateList()\n  }\n\n  // Download podcasts UUIDs and then, each podcast data\n  updateList (pageNumber = 0) {\n    if (pageNumber === 0) {\n      this.pagesUuids = []\n      this.pages = [0] // Add first (this) page\n      this.handleListUpdate()\n    }\n\n    // Get list of UUIDs\n    return (\n      this.getPodcastsUUIDs(pageNumber)\n\n        // Download podcast data if needed\n        .then((podcasts) => this.getMissingPodcasts(pageNumber, podcasts))\n\n        // Trigger event for list updated\n        .then(() => this.handleListUpdate())\n\n        // Catch Exceptions\n        .catch(this.catchFetchErrors)\n    )\n  }\n\n  getMissingPodcasts (pageNumber, podcasts) {\n    return podcasts.map((podcast) => {\n      // If it's a podcast and is not in the cache\n      if (podcast.uuid !== '...' && !(podcast.uuid in this.podcastsData)) {\n        // Download podcast data and then trigger\n        // update event when updated\n        this.getPodcastData(podcast.uuid)\n          .then((podcastData) =>\n            this.handlePodcastUpdate(pageNumber, podcastData)\n          )\n          .catch(this.catchFetchErrors)\n      }\n\n      return podcast\n    })\n  }\n\n  // Creates a list with all known podcast or UUIDs\n  // and fires event onUpdate with that\n  // () => null\n  handleListUpdate () {\n    let newList = [\n      ...this.previousListUpdate.filter((podcast) => podcast.uuid !== '...')\n    ]\n    let completed = true\n\n    // Helper functions\n    const dateToString = (d) =>\n      `${d.getFullYear()}/${d.getMonth() + 1}/${d.getDate()}`\n    const compareDates = (d1, d2) => dateToString(d1) === dateToString(d2)\n    const filterByDates = (podcast) =>\n      !('date' in podcast) || compareDates(podcast.date, this.date)\n\n    // Create a virtual list of all podcasts correctly ordered\n    this.pages.forEach((page) => {\n      // Get UUIDs from the pages cache\n      const pageUuids = this.pagesUuids[page]\n\n      // Set temporal UUID for unresolved pages\n      if (pageUuids === undefined) {\n        newList.push({ uuid: '...' })\n        completed = false\n      } else {\n        // Add this page's podcasts to the list\n        pageUuids\n\n          // Filter out already added podcasts\n          .filter(\n            (podcastPage) =>\n              newList.find((podcast) => podcast.uuid === podcastPage.uuid) ===\n              undefined\n          )\n\n          // Filter out podcasts from other dates\n          .filter(filterByDates)\n\n          // Add remaining podcasts to the list\n          .forEach((podcast) => newList.push(podcast))\n      }\n    })\n\n    // Get cached data if available\n    newList = newList\n      .map((podcast) => this.podcastsData[podcast.uuid] || podcast)\n      // Filter out podcasts from other dates\n      .filter(filterByDates)\n\n    // Save complete list on finish\n    if (completed) {\n      this.previousListUpdate = newList\n    }\n\n    // See if all podcasts have already been downloaded\n    const allCompleted =\n      completed && newList.every((podcast) => 'path' in podcast)\n\n    // Trigger update event\n    this.onUpdate(newList, allCompleted)\n\n    return newList\n  }\n\n  // Saves the new podcast to the pages cache and fires onPodcastUpdate\n  // (pageNumber, podcastNew) => null\n  handlePodcastUpdate (page, podcastNew) {\n    try {\n      podcastNew.page = page\n\n      this.pagesUuids[page].forEach((podcast, index) => {\n        if (podcast.uuid === podcastNew.uuid) {\n          this.pagesUuids[page][index] = podcastNew\n        }\n      })\n\n      // Trigger update event\n      this.handleListUpdate()\n    } catch (err) {\n      console.log(\n        `Podcast data arrived after pages clean. Discarding data for page ${page}.`\n      )\n    }\n  }\n\n  // Gets all the podcasts UUIDs of a page\n  // and, if pageNumer is 0, calls to do the same for the rest of pages\n  // (pageNumber) => Promise(Array(String(UUID)))\n  getPodcastsUUIDs (pageNumber = 0) {\n    return this.getPage(pageNumber)\n      .then((dataRaw) => this.parsePage(dataRaw))\n      .then(({ uuidsPage, pages }) => {\n        // If it's the first page, call to process the rest of pages, if any\n        if (pageNumber === 0) {\n          // Save the list of pages, in reverse order\n          // If there are no pages (only one page), create a one element array,\n          // with page zero in it's first element\n          this.pages = pages.length > 0 ? pages.reverse() : [0]\n          if (pages.find((page) => page === 0) === undefined) pages.push(0)\n\n          // Resolve first the last page, so we have first the first day's UUIDs\n          // Don't call again the first page\n          this.pages.forEach((page) => page !== 0 && this.updateList(page))\n        }\n\n        // Save in reversed order, along with the page number\n        this.pagesUuids[pageNumber] = uuidsPage\n          .reverse()\n          .map((uuid) => ({ uuid, page: pageNumber }))\n\n        return this.pagesUuids[pageNumber]\n      })\n  }\n\n  // Gets a page with HTML containning a list of podcasts from the server\n  // (pageNumber) => Promise(String)\n  getPage (pageNumber = 0) {\n    return fetch(this.pageUrl(pageNumber), {\n      signal: this.controller.signal\n    })\n      .then(this.handleFetchErrors)\n\n      .then((response) => response.text())\n  }\n\n  // Downloads podcast JSON\n  // (uuid) => Promise(podcastJSON)\n  getPodcastData (uuid) {\n    // Return cached version if we've got it\n    if (uuid in this.podcastsData) {\n      // Return podcast as an immediatelly resolved Promise,\n      // as it is what's expected\n      return Promise.resolve(this.podcastsData[uuid])\n    }\n\n    return fetch(this.podcastUrl(uuid), { signal: this.controller.signal })\n      .then(this.handleFetchErrors)\n      .then((data) => data.json())\n      .then((podcast) => this.parsePodcast(uuid, podcast))\n      .then((podcast) => {\n        // Save to cache\n        this.podcastsData[uuid] = podcast\n\n        return podcast\n      })\n  }\n\n  /****************************\n    Virtual/Abstract functions\n    Must override on subclass\n  */\n  /*\n     Generates the page URL from its page number\n     (pageNumber) => String(URL)\n  */\n  pageUrl () {\n    console.warn(`Need to subclass 'pageUrl' on ${this.name} backend class`)\n    return ''\n  }\n\n  /*\n     Parses a page and returns the containing podcasts UUIDs and linked pages\n     (dataRaw) => {\n       uuidsPage: [],\n       pages: []\n     }\n  */\n  parsePage () {\n    console.warn(`Need to subclass 'parsePage' on ${this.name} backend class`)\n    return {\n      uuidsPage: [],\n      pages: []\n    }\n  }\n\n  /*\n     Generates the podcast URL from its UUID\n     (uuid) => String(URL)\n  */\n  podcastUrl () {\n    console.warn(`Need to subclass 'podcastUrl' on ${this.name} backend class`)\n    return ''\n  }\n\n  /*\n     Generates the podcast common object from the data obtained from the web\n     (uuid, podcast) => {\n       uuid: '',\n       date: new Date(),\n       hour: 0,\n       minute: 0,\n       title: '',\n       titleFull: '',\n       author: '',\n       path: '',\n       programUrl: '',\n       schedule: '',\n       image: ''\n     }\n  */\n  parsePodcast () {\n    console.warn(\n      `Need to subclass 'parsePodcast' on ${this.name} backend class`\n    )\n    return {\n      uuid: '',\n      date: new Date(),\n      hour: 0,\n      minute: 0,\n      title: '',\n      titleFull: '',\n      author: '',\n      path: '',\n      programUrl: '',\n      schedule: '',\n      image: ''\n    }\n  }\n}\n\nexport default ByDate\n","import Common from \"./Common\";\n\nclass Live extends Common {\n  name = \"Live\";\n  updateTimeout = 5 * 60 * 1000; // Check update in 5 minutes\n  updateUrl = \"\";\n  updateOptions = {};\n  podcastData = {};\n  timer = false;\n\n  // Stop the timer on abort\n  abort() {\n    if (this.timer !== false) {\n      clearTimeout(this.timer);\n      this.timer = false;\n    }\n    super.abort();\n  }\n\n  // Launch a timer to check updates on live podcast info\n  launchTimer(timeout = 0) {\n    if (this.timer === false) {\n      this.timer = setTimeout(() => {\n        this.timer = false;\n        this.checkUpdate();\n      }, timeout);\n    }\n  }\n\n  checkUpdate() {\n    return fetch(this.updateUrl, {\n      signal: this.controller.signal,\n      ...this.updateOptions,\n    })\n      .then(this.handleFetchErrors)\n\n      .then((response) => this.parseResponse(response))\n\n      .then((dataRaw) => this.parseData(dataRaw))\n\n      .then((podcast) => {\n        if (podcast.programUrl !== this.podcastData.programUrl) {\n          this.podcastData = podcast;\n          this.onUpdate(this.podcastData);\n          this.launchTimer(this.updateTimeout);\n        }\n      })\n\n      .catch(this.catchFetchErrors);\n  }\n\n  parseResponse = (response) => response.text();\n\n  // Virtual/Abstract function\n  // Must override on subclass\n  parseData(dataRaw) {\n    const [path, programUrl, title, author, schedule, image] = [\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n    ];\n\n    console.warn(`Need to subclass 'parseData' on ${this.name} backend class`);\n\n    return {\n      path,\n      programUrl,\n      title,\n      author,\n      schedule,\n      image,\n    };\n  }\n}\n\nexport default Live;\n","import { ByDate } from '../Base'\n\nconst baseURL = 'https://api.audioteca.rac1.cat'\n\n// Format day and month to 2 digits 0 padded strings\nconst pad2 = (num) => `${num < 10 ? '0' : ''}${num}`\n\n// Format date as expected by the backend\nconst format_date = (day, month, year) =>\n  [pad2(day), pad2(month), year].join('/')\n\nclass Rac1 extends ByDate {\n  name = 'Rac1 by date'\n\n  pageUrl (pageNumber) {\n    const date = format_date(\n      this.date.getDate(),\n      1 + this.date.getMonth(),\n      this.date.getFullYear()\n    )\n\n    // Set next day's date and string\n    const next = new Date(this.date.getTime())\n    next.setDate(next.getDate() + 1)\n    let dateNext = ''\n\n    // Don't use next day date if it's 2018's last day\n    if (\n      !(\n        next.getFullYear() === 2019 &&\n        next.getMonth() === 0 &&\n        next.getDate() === 1\n      )\n    ) {\n      dateNext = format_date(\n        next.getDate(),\n        1 + next.getMonth(),\n        next.getFullYear()\n      )\n    }\n\n    const parameters = {\n      text: '',\n      programId: '',\n      sectionId: 'HOUR',\n      from: date,\n      to: dateNext,\n      pageNumber\n    }\n    const parameters_str = Object.keys(parameters)\n      .map((key) => `${key}=${parameters[key]}`)\n      .join('&')\n\n    return `${baseURL}/a-la-carta/cerca?${parameters_str}`\n  }\n\n  // Cached/compiled regexps & strings for parsing HTML\n  dataAttrsFind = / data-(audio-id|audioteca-search-page)=\"[^\"]*\"/\n  dataAttrsClean = /.* (data-(audio-id|audioteca-search-page))=\"([^\"]*)\".*/\n  searchData = ['data-audio-id', 'data-audioteca-search-page']\n  dataScheduleFixScheduleHour = /(\\d)\\s+h\\b/g\n\n  // Parses a page raw HTML to obtain audio UUIDs and the list of pages\n  // (dataRawHTML) => {uuidsPage: Array(String), pages: Array(Number)}\n  parsePage (dataRaw) {\n    const data = dataRaw\n      .split('\\n')\n\n      // Filter by class, eliminating sidebar unwanted info\n      .filter((line) => this.dataAttrsFind.test(line))\n\n      // Get relevant data-* attributes\n      .map((v) => v.replace(this.dataAttrsClean, '$1=$3'))\n\n      // Convert to an array of 2 strings separating attr name and it's value\n      .map((line) => line.split('='))\n\n    return {\n      // Filter audio UUID's\n      uuidsPage: data\n        .filter((v) => v[0] === this.searchData[0])\n        .map((v) => v[1].trim(' \\n\\r\\t')),\n\n      // Filter page numbers\n      pages: data\n        .filter((v) => v[0] === this.searchData[1])\n        .map((v) => Number(v[1]))\n    }\n  }\n\n  podcastUrl = (uuid) => `${baseURL}/piece/audio?id=${uuid}`\n\n  parsePodcast (uuid, podcast) {\n    // Fix server bug on year's last day, in which gives dates in the future\n    if (\n      podcast.dateTime.startsWith(\n        `${this.date.getFullYear() + 1}-${this.date.getMonth() + 1}`\n      )\n    ) {\n      podcast.dateTime = podcast.dateTime.replace(\n        `${this.date.getFullYear() + 1}`,\n        `${this.date.getFullYear()}`\n      )\n      console.log('Podcast date in future. Fixing to: ', podcast.dateTime)\n    }\n\n    // Add some processed data to the podcast\n    podcast.uuid = uuid\n    podcast.date = new Date(podcast.dateTime)\n    podcast.hour = Number(podcast.audio.time.split(':')[0])\n    podcast.minute = Number(podcast.audio.time.split(':')[1])\n    podcast.title = podcast.appTabletTitle.replace(/ \\d\\d\\/.*/, '')\n    podcast.titleFull = podcast.appTabletTitle\n    podcast.programUrl = podcast.audio.section.program.url\n    podcast.author = (podcast.audio.section.program.subtitle || '').replace(\n      /^amb /,\n      ''\n    )\n    podcast.schedule = (podcast.audio.section.program.schedule || '').replace(\n      this.dataScheduleFixScheduleHour,\n      '$1h'\n    )\n\n    Object.keys(podcast.audio.section.program.images).forEach(\n      (kind) =>\n        (podcast.audio.section.program.images[\n          kind\n        ] = `${baseURL}/${podcast.audio.section.program.images[kind]}?v${podcast.audio.section.program.imageVersion}`)\n    )\n    podcast.image = podcast.audio.section.program.images.person\n\n    // Prevent a redirect of 400ms :/\n    podcast.path = podcast.path\n      .replace(/\\/get\\//, '/file/')\n      .replace(/\\/(\\d)\\//, '/$1/-/')\n\n    return podcast\n  }\n}\n\nexport default Rac1\n","import { Live } from \"../Base\";\n\nclass Rac1Live extends Live {\n  name = \"Rac1 live\";\n  updateUrl = \"https://api.audioteca.rac1.cat/directe\";\n  podcastUrl = \"https://streaming.rac1.cat/;*.nsv\";\n\n  dataAttrsFind =\n    /\\s(data-ajax-href=|class=\"(program-header-title-link|program-listed-author|story-image))/;\n  dataAttrsClean = /.*\\s(src|alt|href|data-ajax-href)=\"([^\"]*)\".*/;\n  dataTagContent = /<?[^<>]*>([^<]*)<\\/[^>]*>/;\n  dataTagContents =\n    /\\s*<?[^<>]*>(?:amb )?([^<]*?)<\\/[^>]*>\\s*<?[^<>]*>([^<]*?)<\\/[^>]*>/g;\n  dataFilenameClean = /^.*[^/.].png$/;\n  dataScheduleFixScheduleHour = /(\\d)\\s+h\\b/g;\n\n  parseData(dataRaw) {\n    const data = dataRaw\n      .split(\"\\n\")\n\n      // Get only interesting lines\n      .filter((line) => this.dataAttrsFind.test(line));\n\n    // Compute data\n    const programUrl = data\n      .find((line) => line.includes(\"program-header-title-link\"))\n      .replace(this.dataAttrsClean, \"$2\")\n      .replace(/a-la-carta/, \"programes\");\n    const title = data\n      .filter((line) => !line.includes(\"program-next-link\"))\n      .find((line) => line.includes(\"data-ajax-href\"))\n      .replace(this.dataTagContent, \"$1\")\n      .trim(\" \\n\\t\\r\");\n    const [author, schedule] = data\n      .find((line) => line.includes(\"program-listed-author\"))\n      .replace(\n        this.dataTagContents,\n        (match, author, schedule) =>\n          `${author}\\n${schedule.replace(\n            this.dataScheduleFixScheduleHour,\n            \"$1h\"\n          )}`\n      )\n      .split(\"\\n\");\n    const image = data\n      .find((line) => line.includes(\"thumbnail\"))\n      .replace(this.dataAttrsClean, \"$2\");\n\n    return {\n      // Constant ;)\n      path: this.podcastUrl,\n\n      // Get previously computed values\n      programUrl,\n      title,\n      author,\n      schedule,\n      image,\n    };\n  }\n}\n\nexport default Rac1Live;\n","// KISS Throtle\n// Ensures a function is not called more than once every timeout\n// - Run is banned while timer is on\n// - Run is ensured the first time (no timer is on) and when forced (you know it's the last time). In this case, timer is also cleared\n// - A last run IS NOT ensured if you don't recall after timer is out or manually forced\n// You can manually clear the timer if you want to ensure next run\nclass Throtle {\n  timer = false;\n\n  // Starts Throtle timer (bans running, except if forced)\n  start(timeout) {\n    this.timer = setTimeout(this.clear, timeout);\n  }\n\n  // Clear Throtle timer (allows running)\n  clear = () => {\n    if (this.timer !== false) {\n      clearTimeout(this.timer);\n      this.timer = false;\n    }\n  };\n\n  // Run function, if not throtled or if force == true\n  run(force, timeout, func) {\n    if (force) {\n      this.clear();\n    }\n\n    if (this.timer === false) {\n      this.start(timeout);\n      func();\n    }\n  }\n}\n\nexport default Throtle;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { translate } from \"react-translate\";\n\nclass ButtonLegacy extends React.PureComponent {\n  keysString() {\n    if (this.props.keys.length === 0) {\n      return \"\";\n    }\n\n    // Transform ' ' to 'Space'\n    // Transform letters (not texts) to uppercase\n    // Uniq with [...new Set()]\n    const { t } = this.props;\n    const keys = [\n      ...new Set(\n        this.props.keys\n          .map((key) => (typeof key === \"string\" ? { key } : key))\n          .map((key) => (key.key === \" \" ? { ...key, key: \"Space\" } : key))\n          .map((key) => {\n            return {\n              ...key,\n              key: key.key.length === 1 ? key.key.toUpperCase() : t(key.key),\n            };\n          })\n          .map((key) => (key.shiftKey ? ` ${t(\"SHIFT\")} + ` : \"\") + key.key)\n      ),\n    ];\n    return ` | ${t(`Key${keys.length > 1 ? \"s\" : \"\"}`)}: ${keys.join(\", \")}`;\n  }\n\n  render() {\n    const {\n      text,\n      help,\n      icon,\n      action,\n      keys,\n      style,\n      className,\n      t,\n      ...restProps\n    } = this.props;\n\n    const styleButton = {\n      borderRadius: \"1em\",\n      padding: \".5em\",\n      margin: \".5em\",\n      ...style,\n    };\n\n    const helpExtra = t(help) + this.keysString();\n\n    return (\n      <button\n        onClick={action.bind(this, \"Button pressed\")}\n        aria-label={helpExtra}\n        title={helpExtra}\n        className={\"rac1-controls-button\" + (className ? ` ${className}` : \"\")}\n        style={styleButton}\n        {...restProps}\n      >\n        <div\n          style={{\n            fontSize: \"calc(1em + 2.5vmin)\",\n            fontWeight: \"bold\",\n            minWidth: \"1.5em\",\n          }}\n        >\n          {icon instanceof Function ? icon() : icon}\n        </div>\n        <span\n          style={{\n            fontSize: \"calc(8px + 1vmin)\",\n            color: \"#333\",\n          }}\n        >\n          {t(text instanceof Function ? text() : text)}\n        </span>\n      </button>\n    );\n  }\n}\n\nButtonLegacy.defaultProps = {\n  action: () => {},\n  keys: [],\n};\n\nButtonLegacy.propTypes = {\n  text: PropTypes.oneOfType([PropTypes.func, PropTypes.node]).isRequired,\n  icon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]).isRequired,\n  action: PropTypes.func.isRequired,\n  help: PropTypes.string.isRequired,\n\n  // Get keys to let user know how to access the button\n  keys: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.shape({\n        key: PropTypes.string.isRequired,\n        shiftKey: PropTypes.bool,\n        altKey: PropTypes.bool,\n        ctrlKey: PropTypes.bool,\n        metaKey: PropTypes.bool,\n      }),\n    ])\n  ),\n};\n\nclass ButtonsGroup extends React.PureComponent {\n  keyHandlerFocusForced = (...args) =>\n    this.props.keyHandlerFocus(true, ...args);\n\n  render() {\n    const { buttons, children } = this.props;\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        {buttons.map((control, index) => (\n          <Button\n            key={index}\n            onMouseUp={this.keyHandlerFocusForced}\n            action={control.action}\n            help={control.help}\n            text={\n              control.text instanceof Function ? control.text() : control.text\n            }\n            icon={\n              control.icon instanceof Function ? control.icon() : control.icon\n            }\n            keys={control.keys}\n          />\n        ))}\n        {children}\n      </div>\n    );\n  }\n}\n\nButtonsGroup.defaultProps = {\n  keyHandlerFocus: (e, force) => {},\n};\n\nButtonsGroup.propTypes = {\n  keyHandlerFocus: PropTypes.func.isRequired,\n  buttons: PropTypes.arrayOf(PropTypes.shape(ButtonLegacy.propTypes)),\n};\n\nconst Button = translate(\"Button\")(ButtonLegacy);\nexport { Button, ButtonsGroup };\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Slider from \"rc-slider\";\nimport \"rc-slider/assets/index.css\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faVolumeUp,\n  faVolumeDown,\n  faVolumeOff,\n  faVolumeMute,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport { Button } from \"./Button\";\n\nclass Volume extends React.PureComponent {\n  title = \"Volume handler | Keys: Shift + Arrow Up, Shift + Arrow Down\";\n\n  onSetVolume = (value) => this.props.onSetVolume(value / 100);\n  keyHandlerFocusForced = (e) => this.props.keyHandlerFocus(e, true);\n  onClickButton = () => this.props.onSetMuted(!this.props.muted);\n\n  render() {\n    const { volume, muted } = this.props;\n\n    // Select volume icon\n    const faVolume = muted\n      ? faVolumeMute\n      : volume === 0\n      ? faVolumeOff\n      : volume < 0.5\n      ? faVolumeDown\n      : faVolumeUp;\n\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"flex-end\",\n        }}\n      >\n        <div\n          style={{\n            width: \"100%\",\n            minWidth: 40,\n            height: 100,\n            display: \"flex\",\n            alignItems: \"center\",\n            flexDirection: \"column\",\n            paddingTop: \".3em\",\n          }}\n        >\n          <Slider\n            onAfterChange={this.props.keyHandlerFocus}\n            onChange={this.onSetVolume}\n            value={volume * 100}\n            vertical\n            aria-label={this.title}\n            title={this.title}\n          />\n        </div>\n        <div>\n          <Button\n            onMouseUp={this.keyHandlerFocusForced}\n            action={this.onClickButton}\n            help={\"Toggle mute status\"}\n            text={muted ? \"Unmute\" : \"Mute\"}\n            icon={<FontAwesomeIcon icon={faVolume} />}\n            keys={[\"M\"]}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nVolume.defaultProps = {\n  keyHandlerFocus: () => {},\n  onSetVolume: (volume) => {},\n  onSetMuted: (muted) => {},\n  volume: 1,\n  muted: false,\n};\n\nVolume.propTypes = {\n  keyHandlerFocus: PropTypes.func.isRequired,\n  onSetVolume: PropTypes.func.isRequired,\n  onSetMuted: PropTypes.func.isRequired,\n  volume: PropTypes.number.isRequired,\n  muted: PropTypes.bool.isRequired,\n};\n\nexport default Volume;\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faPlay,\n  faPause,\n  faForward,\n  faFastForward,\n  faEye,\n  faEyeSlash\n} from '@fortawesome/free-solid-svg-icons'\n\nimport { Button, ButtonsGroup } from './Button'\nimport Volume from './Volume'\nimport { withGAEvent } from '../../GAListener'\n\nclass Controls extends React.Component {\n  // Controls definitions:\n  // - Only button\n  // - Only key binding\n  // - Both\n  controls = [\n    {\n      icon: <FontAwesomeIcon icon={faFastForward} flip='horizontal' />,\n      text: 'Prev',\n      help: 'Play previous podcast',\n      action: () => this.props.onPlayPrev(),\n      keys: [{ key: 'Enter', shiftKey: true }],\n      group: 'basic'\n    },\n    {\n      icon: (\n        <span style={{ whiteSpace: 'nowrap' }}>\n          <FontAwesomeIcon icon={faForward} flip='horizontal' />\n          <FontAwesomeIcon icon={faForward} flip='horizontal' />\n        </span>\n      ),\n      text: '-10m',\n      help: 'Go backwards 10 minutes',\n      action: () => {\n        this.player().currentTime -= 600\n        return `Current time: ${this.player().currentTime}`\n      },\n      keys: ['PageUp'],\n      group: 'advanced prev'\n    },\n    {\n      icon: (\n        <span style={{ whiteSpace: 'nowrap' }}>\n          <FontAwesomeIcon\n            icon={faForward}\n            flip='horizontal'\n            style={{ position: 'relative', left: '.25em' }}\n          />\n          <FontAwesomeIcon\n            icon={faForward}\n            flip='horizontal'\n            style={{ position: 'relative', left: '-.25em' }}\n          />\n        </span>\n      ),\n      text: '-60s',\n      help: 'Go backwards 1 minute',\n      action: () => {\n        this.player().currentTime -= 60\n        return `Current time: ${this.player().currentTime}`\n      },\n      keys: ['ArrowUp'],\n      group: 'advanced prev'\n    },\n    {\n      icon: <FontAwesomeIcon icon={faForward} flip='horizontal' />,\n      text: '-10s',\n      help: 'Go backwards 10 seconds',\n      action: () => {\n        this.player().currentTime -= 10\n        return `Current time: ${this.player().currentTime}`\n      },\n      keys: ['ArrowLeft'],\n      group: 'advanced prev'\n    },\n    {\n      icon: () =>\n        this.props.isPlaying\n          ? (\n            <FontAwesomeIcon icon={faPause} />\n            )\n          : (\n            <FontAwesomeIcon icon={faPlay} />\n            ),\n      text: () => (this.props.isPlaying ? 'Pause' : 'Play'),\n      help: 'Toggle Play/Pause',\n      action: () => {\n        this.player().paused ? this.player().play() : this.player().pause()\n        return `Current pause status: ${this.player().paused}`\n      },\n      keys: [' ', 'p', 'P'],\n      group: 'basic'\n    },\n    {\n      icon: <FontAwesomeIcon icon={faForward} />,\n      text: '+10s',\n      help: 'Go forward 10 seconds',\n      action: () => {\n        this.player().currentTime += 10\n        return `Current time: ${this.player().currentTime}`\n      },\n      keys: ['ArrowRight'],\n      group: 'advanced next'\n    },\n    {\n      icon: (\n        <span style={{ whiteSpace: 'nowrap' }}>\n          <FontAwesomeIcon\n            icon={faForward}\n            style={{ position: 'relative', left: '.25em' }}\n          />\n          <FontAwesomeIcon\n            icon={faForward}\n            style={{ position: 'relative', left: '-.25em' }}\n          />\n        </span>\n      ),\n      text: '+60s',\n      help: 'Go forward 1 minute',\n      action: () => {\n        this.player().currentTime += 60\n        return `Current time: ${this.player().currentTime}`\n      },\n      keys: ['ArrowDown'],\n      group: 'advanced next'\n    },\n    {\n      icon: (\n        <span style={{ whiteSpace: 'nowrap' }}>\n          <FontAwesomeIcon icon={faForward} />\n          <FontAwesomeIcon icon={faForward} />\n        </span>\n      ),\n      text: '+10m',\n      help: 'Go forward 10 minutes',\n      action: () => {\n        this.player().currentTime += 600\n        return `Current time: ${this.player().currentTime}`\n      },\n      keys: ['PageDown'],\n      group: 'advanced next'\n    },\n    {\n      icon: <FontAwesomeIcon icon={faFastForward} />,\n      text: 'Next',\n      help: 'Play next podcast',\n      action: () => this.props.onPlayNext(),\n      keys: ['Enter'],\n      group: 'basic'\n    },\n    {\n      help: 'Decrement volume 5%',\n      action: () => {\n        this.incrementVolume(-0.05)\n        return `Current volume: ${this.player().volume}`\n      },\n      keys: ['/', { key: 'ArrowDown', shiftKey: true }]\n    },\n    {\n      help: 'Increment volume 5%',\n      action: () => {\n        this.incrementVolume(0.05)\n        return `Current volume: ${this.player().volume}`\n      },\n      keys: ['*', { key: 'ArrowUp', shiftKey: true }]\n    },\n    {\n      help: 'Toggle mute status',\n      action: () => {\n        this.setMuted(!this.player().muted)\n        return `Current mute status: ${this.player().muted}`\n      },\n      keys: ['m', 'M']\n    },\n    {\n      text: () => (this.props.showAdvanced ? 'Less' : 'More'),\n      icon: () => (\n        <FontAwesomeIcon icon={this.props.showAdvanced ? faEyeSlash : faEye} />\n      ),\n      help: 'Toggle advanced controls visibility',\n      action: () => this.props.onShowAdvancedChange(!this.props.showAdvanced),\n      keys: ['a', 'A'],\n      group: 'do-advanced'\n    }\n  ]\n\n  constructor (props) {\n    super()\n\n    // Keybindings disabled by default\n    // Enable for anything but mobiles\n    this.state = {\n      noKeys: true\n    }\n\n    // Add extra controls\n    if (props.extraControls.length) {\n      this.controls = this.controls.concat(props.extraControls)\n    }\n\n    // Wrap control action to send event to GA on action execution\n    this.controls.forEach((c) => {\n      c._action = c.action\n      c.action = (origin) => this.sendEvent(origin, c.help, c._action())\n    })\n  }\n\n  keyHandlerFocus = () => {}\n  keyHandlerFocusForced = () => {}\n  _keyHandlerFocus = (e, force) => {\n    let doFocus = true\n\n    // Allow datepicker to get focus\n    if (e?.relatedTarget && this.props.allowFocus(e.relatedTarget)) {\n      doFocus = false\n    }\n\n    if (doFocus || force) {\n      this.timer = setTimeout(() => this._keyHandler.focus(), 100)\n    }\n  }\n\n  componentDidMount () {\n    let noKeys = true\n\n    // Disable key handler on mobile devices (enable on the rest)\n    if (!/Mobi|Android/i.test(navigator.userAgent)) {\n      noKeys = false\n      this.keyHandlerFocus = this._keyHandlerFocus.bind(this)\n      this.keyHandlerFocusForced = this._keyHandlerFocus.bind(this, true)\n      this.keyHandlerFocus()\n    }\n\n    this.setState({\n      noKeys\n    })\n  }\n\n  componentWillUnmount () {\n    clearTimeout(this.timer)\n  }\n\n  filterButtonsGroup (controls, group) {\n    const { hideButtons } = this.props\n    const { noKeys } = this.state\n\n    return (\n      controls\n\n        // Filter controls without button attributes\n        .filter((control) => 'icon' in control && 'text' in control)\n\n        // Filter hidden buttons\n        .filter((control) => !hideButtons.includes(control.text))\n\n        // Filter buttons by group\n        .filter((control) => control.group.split(' ').includes(group))\n\n        // Remove keys info if keys are disabled\n        .map((control) => {\n          if (noKeys) {\n            const { keys, ...rest } = control\n            return rest\n          }\n          return control\n        })\n    )\n  }\n\n  // Allow runnning actions from parent component\n  // Tip: Arrow functions are bound to this automatically\n  runAction = (text, origin = 'runAction') => {\n    return (\n      this.controls\n        // Filter controls without button attributes\n        .filter((control) => 'text' in control)\n\n        // Find action\n        .find(\n          (control) =>\n            (control.text instanceof Function\n              ? control.text()\n              : control.text) === text\n        )\n\n        // Run it\n        .action(origin)\n    )\n  }\n\n  render () {\n    const { showAdvanced, volumeAsAdvanced, volume, muted } = this.props\n    const { noKeys } = this.state\n\n    // Separate control buttons into 2 groups\n    const buttons = ['basic', 'advanced'].reduce((res, group) => {\n      res[group] = this.filterButtonsGroup(this.controls, group)\n      return res\n    }, {})\n\n    if (buttons.advanced.length) {\n      buttons.basic.push(\n        ...this.filterButtonsGroup(this.controls, 'do-advanced')\n      )\n    }\n\n    const volumeComponent = (\n      <Volume\n        volume={volume}\n        muted={muted}\n        onSetVolume={this.setVolume}\n        onSetMuted={this.setMuted}\n        keyHandlerFocus={this.keyHandlerFocus}\n      />\n    )\n\n    return (\n      <div\n        role='toolbar'\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center'\n        }}\n      >\n        {buttons.basic.length\n          ? (\n            <div\n              style={{\n                display: 'flex',\n                alignItems: 'flex-end'\n              }}\n            >\n              <ButtonsGroup\n                buttons={buttons.basic}\n                keyHandlerFocus={this.keyHandlerFocus}\n              />\n              {!volumeAsAdvanced ? volumeComponent : null}\n            </div>\n            )\n          : null}\n        <div style={{ display: 'flex' }}>\n          {showAdvanced && buttons.advanced.length\n            ? (\n              <div\n                style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  justifyContent: 'space-around'\n                }}\n              >\n                <ButtonsGroup\n                  buttons={this.filterButtonsGroup(buttons.advanced, 'prev')}\n                  keyHandlerFocus={this.keyHandlerFocus}\n                />\n                <ButtonsGroup\n                  buttons={this.filterButtonsGroup(buttons.advanced, 'next')}\n                  keyHandlerFocus={this.keyHandlerFocus}\n                />\n              </div>\n              )\n            : null}\n          {showAdvanced && volumeAsAdvanced ? volumeComponent : null}\n        </div>\n        {noKeys ? null : (\n          <input\n            name='player-key-handler'\n            style={{\n              // Almost invisible ;)\n              width: '1px',\n              height: '1px',\n              border: 0,\n              margin: 0,\n              padding: 0,\n              bottom: 0,\n              right: 0,\n              position: 'fixed',\n              backgroundColor: 'transparent',\n              color: 'transparent',\n              cursor: 'default'\n            }}\n            ref={(element) => {\n              this._keyHandler = element\n            }}\n            onKeyUp={this.handleKey}\n            onBlur={this.keyHandlerFocus}\n            aria-label='Key input handler'\n          />\n        )}\n      </div>\n    )\n  }\n\n  player = () => this.props.getPlayer().current\n\n  setMuted = (muted) => {\n    this.player().muted = muted\n    this.props.onSetMuted(muted)\n  }\n\n  setVolume = (volume) => {\n    this.player().volume = volume\n    this.props.onSetVolume(volume)\n  }\n\n  incrementVolume (increment) {\n    const { volume } = this.props\n    let volumeNew = volume\n\n    // Increment\n    if (increment > 0 && volume < 1) {\n      volumeNew = volume <= 1 - increment ? volume + increment : 1\n    }\n\n    // Decrement\n    if (increment < 0 && volume > 0) {\n      volumeNew = volume >= -increment ? volume + increment : 0\n    }\n\n    // Prevent updating volume if limit reached\n    if (volumeNew !== volume) {\n      this.setVolume(volumeNew)\n    }\n  }\n\n  // Send event to GA: get this func from GAListener HOC `withGAEvent`\n  sendEvent (origin, help, status) {\n    this.props.sendEvent(origin, help, status)\n  }\n\n  handleKey = (e) => {\n    let stopPropagation = false\n\n    // Handle controls keys\n    this.controls.forEach((control) => {\n      (control.keys || []).forEach((key_orig) => {\n        // Understand plain string or custom key object\n        const key = typeof key_orig === 'string' ? { key: key_orig } : key_orig\n\n        // If it's exact key match\n        if (\n          e.key === key.key &&\n          ['shiftKey', 'altKey', 'ctrlKey', 'metaKey'].every(\n            (mod) => Boolean(e[mod]) === Boolean(key[mod])\n          )\n        ) {\n          stopPropagation = true\n          control.action('Key pressed')\n        }\n      })\n    })\n\n    if (stopPropagation) {\n      e.stopPropagation()\n      e.preventDefault()\n    }\n  }\n}\n\nControls.defaultProps = {\n  onSetVolume: (e) => {},\n  onSetMuted: (e) => {},\n  onPlayPrev: (e) => {},\n  onPlayNext: (e) => {},\n  allowFocus: (e) => {},\n  onShowAdvancedChange: (e) => {},\n  sendEvent: (origin, help, status) => {},\n  extraControls: [],\n  hideButtons: [],\n  volume: 1,\n  muted: false,\n  isPlaying: false,\n  showAdvanced: false,\n  volumeAsAdvanced: false\n}\n\nControls.propTypes = {\n  getPlayer: PropTypes.func.isRequired,\n  volume: PropTypes.number.isRequired,\n  muted: PropTypes.bool.isRequired,\n  allowFocus: PropTypes.func.isRequired,\n  onSetVolume: PropTypes.func.isRequired,\n  onSetMuted: PropTypes.func.isRequired,\n  onPlayPrev: PropTypes.func.isRequired,\n  onPlayNext: PropTypes.func.isRequired,\n  isPlaying: PropTypes.bool.isRequired,\n  volumeAsAdvanced: PropTypes.bool.isRequired,\n  showAdvanced: PropTypes.bool.isRequired,\n  onShowAdvancedChange: PropTypes.func.isRequired,\n  hideButtons: PropTypes.arrayOf(\n    PropTypes.oneOf([\n      'Prev',\n      'Next',\n      '-10m',\n      '-60s',\n      '-10s',\n      '+10m',\n      '+60s',\n      '+10s',\n      'Play/Pause'\n    ])\n  ).isRequired,\n  extraControls: PropTypes.arrayOf(\n    // As a button, but `text` and `icon` are not required\n    PropTypes.shape({\n      ...Button.propTypes,\n      text: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n      icon: PropTypes.oneOfType([PropTypes.func, PropTypes.node])\n    })\n  ).isRequired,\n  sendEvent: PropTypes.func.isRequired\n}\n\nexport default withGAEvent(Controls)\n","import { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass MediaSession extends Component {\n  constructor (props) {\n    super()\n    this.setActions(props)\n    this.setMetadata(props)\n  }\n\n  setActions (props) {\n    if ('mediaSession' in navigator) {\n      navigator.mediaSession.setActionHandler('play', props.onPlay)\n      navigator.mediaSession.setActionHandler('pause', props.onPause)\n      navigator.mediaSession.setActionHandler(\n        'seekbackward',\n        props.onSeekBackward\n      )\n      navigator.mediaSession.setActionHandler(\n        'seekforward',\n        props.onSeekForward\n      )\n      navigator.mediaSession.setActionHandler(\n        'previoustrack',\n        props.onPlayPrev\n      )\n      navigator.mediaSession.setActionHandler('nexttrack', props.onPlayNext)\n    }\n  }\n\n  setMetadata (props) {\n    const { title, artist, album, image, artwork } = props\n    const artworkReal = artwork?.length\n      ? artwork\n      : image?.length\n        ? [\n            {\n              src: image,\n              sizes: '512x512',\n              type: 'image/png'\n            }\n          ]\n        : undefined\n    navigator.mediaSession.metadata = new window.MediaMetadata({\n      title,\n      artist,\n      album,\n      artwork: artworkReal\n    })\n  }\n\n  componentDidUpdate (prevProps) {\n    if (\n      this.props.onSeekBackward !== prevProps.onSeekBackward ||\n      this.props.onSeekForward !== prevProps.onSeekForward ||\n      this.props.onPlayPrev !== prevProps.onPlayPrev ||\n      this.props.onPlayNext !== prevProps.onPlayNext\n    ) {\n      this.setActions(this.props)\n    }\n    if (\n      this.props.title !== prevProps.title ||\n      this.props.artist !== prevProps.artist ||\n      this.props.album !== prevProps.album\n    ) {\n      this.setMetadata(this.props)\n    }\n  }\n\n  componentWillUnmount () {\n    // Set all actions and metadata to undefined\n    this.setActions({})\n    this.setMetadata({})\n  }\n\n  render = () => null\n}\n\nMediaSession.defaultProps = {}\n\nMediaSession.propTypes = {\n  title: PropTypes.string,\n  artist: PropTypes.string,\n  album: PropTypes.string,\n  image: PropTypes.string,\n  artwork: PropTypes.array,\n  onPlay: PropTypes.func,\n  onPause: PropTypes.func,\n  onPlayPrev: PropTypes.func,\n  onPlayNext: PropTypes.func,\n  onSeekBackward: PropTypes.func,\n  onSeekForward: PropTypes.func\n}\n\nexport default MediaSession\n","import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { Helmet } from 'react-helmet-async'\n\nimport ReactAudioPlayer from 'react-audio-player'\nimport Controls from './Controls'\nimport MediaSession from './MediaSession'\n\nclass AudioWrapper extends PureComponent {\n  _player = React.createRef()\n\n  constructor (props) {\n    super()\n    // Initial state\n    this.state = {\n      volume: 1,\n      muted: false,\n      isPlaying: false,\n      showAdvancedControls: false,\n      ...this.getHideButtons()\n    }\n  }\n\n  componentWillUnmount () {\n    // Unregister player event listeners\n    const player = this.getPlayer().current\n    if (player?.removeEventListener) {\n      player.removeEventListener('play', this.handlePlayStatusChangeTrue)\n      player.removeEventListener('pause', this.handlePlayStatusChangeFalse)\n    }\n  }\n\n  componentDidUpdate (prevProps) {\n    if (prevProps.path !== this.props.path) {\n      // Force status to pause. If it will autoplay,\n      // it will change again to playing = true\n      this.handlePlayStatusChangeFalse()\n      this.setState(this.getHideButtons())\n    }\n  }\n\n  /// //////////////////////////\n  // Actions for our Controls\n  // Bound to this when needed\n  /// //////////////////////////\n  getPlayer = () => this._player?.audioEl\n\n  // Actions activated through MediaSession\n  // Call Controls.runAction to ensure all work coherently:\n  // - Logs\n  // - Tracking\n  // - No duplicated code\n  handleSeekBackward = () => this.controlsRunAction('-10s', 'MediaSession')\n  handleSeekForward = () => this.controlsRunAction('+10s', 'MediaSession')\n  handlePlay = () => this.controlsRunAction('Play', 'MediaSession')\n  handlePause = () => this.controlsRunAction('Pause', 'MediaSession')\n  handlePlayPrev = () => this.controlsRunAction('Prev', 'MediaSession')\n  handlePlayNext = () => this.controlsRunAction('Next', 'MediaSession')\n\n  // Play status may change from our Constrols button or from the <audio> tag\n  // itself (or whatever associated, as from notifications screen controls)\n  handlePlayStatusChange (isPlaying) {\n    this.setState({ isPlaying })\n  }\n\n  onSetVolume = (volume) => this.setState({ volume })\n  onSetMuted = (muted) => this.setState({ muted })\n\n  onSetVolumeAndMuted = (e) => {\n    this.onSetVolume(e.currentTarget.volume)\n    this.onSetMuted(e.currentTarget.muted)\n  }\n\n  isSeekable = () => {\n    const player = this.getPlayer()\n    return player?.current?.duration !== Infinity\n  }\n\n  getHideButtons = () => {\n    return {\n      hideButtons: [\n        ...(this.isSeekable()\n          ? []\n          : ['-10m', '-60s', '-10s', '+10m', '+60s', '+10s']),\n        ...(!this.props || !this.props.onPlayNext ? ['Next'] : []),\n        ...(!this.props || !this.props.onPlayPrev ? ['Prev'] : [])\n      ]\n    }\n  }\n\n  onLoadedMetadata = () => this.setState(this.getHideButtons())\n  onShowAdvancedChange = (show) => {\n    this.setState({ showAdvancedControls: show })\n    return `${show ? 'Show' : 'Hide'} advanced buttons`\n  }\n\n  // Create bound functions for setting specific playing status\n  handlePlayStatusChangeTrue = this.handlePlayStatusChange.bind(this, true)\n  handlePlayStatusChangeFalse = this.handlePlayStatusChange.bind(this, false)\n\n  // Bound functions for getting refs from Controls and audio player\n  refPlayer = (el) => {\n    this._player = el\n  }\n\n  refControls = (el) => {\n    if (el) {\n      this.controlsKeyHandlerFocus = el.keyHandlerFocus\n      this.controlsRunAction = el.runAction\n    }\n  }\n\n  render () {\n    const { volume, muted, isPlaying, showAdvancedControls, hideButtons } =\n      this.state\n    const {\n      autoPlay,\n      title,\n      titleHead,\n      path,\n      allowFocus,\n      onEnded,\n      onPlayNext,\n      onPlayPrev,\n      extraControls,\n      volumeAsAdvanced,\n      artist,\n      album,\n      image\n    } = this.props\n    const isSeekable = this.isSeekable()\n\n    return (\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          padding: '.5em'\n        }}\n      >\n        <Helmet>\n          <title>{titleHead}</title>\n        </Helmet>\n        <MediaSession\n          title={titleHead}\n          artist={artist}\n          album={album}\n          image={image}\n          /*\n             Set actions for MediaSession (for controls on\n             notification screen and similars).\n             Undefined actions are not shown.\n          */\n          onPlay={this.handlePlay}\n          onPause={this.handlePause}\n          onPlayPrev={onPlayPrev ? this.handlePlayPrev : undefined}\n          onPlayNext={onPlayNext ? this.handlePlayNext : undefined}\n          onSeekBackward={isSeekable ? this.handleSeekBackward : undefined}\n          onSeekForward={isSeekable ? this.handleSeekForward : undefined}\n        />\n        <h3>{title}</h3>\n        <Controls\n          getPlayer={this.getPlayer}\n          volume={volume}\n          muted={muted}\n          allowFocus={allowFocus}\n          onPlayNext={onPlayNext}\n          onPlayPrev={onPlayPrev}\n          onSetVolume={this.onSetVolume}\n          onSetMuted={this.onSetMuted}\n          showAdvanced={showAdvancedControls}\n          volumeAsAdvanced={volumeAsAdvanced}\n          onShowAdvancedChange={this.onShowAdvancedChange}\n          isPlaying={isPlaying}\n          ref={this.refControls}\n          extraControls={extraControls}\n          hideButtons={hideButtons}\n        />\n        <ReactAudioPlayer\n          ref={this.refPlayer}\n          style={{ width: '100%' }}\n          src={path}\n          autoPlay={autoPlay}\n          title={title}\n          controls\n          controlsList='nodownload'\n          preload={autoPlay ? 'auto' : 'metadata'}\n          onEnded={onEnded}\n          volume={volume}\n          muted={muted}\n          onPlay={this.handlePlayStatusChangeTrue}\n          onPause={this.handlePlayStatusChangeFalse}\n          onVolumeChanged={this.onSetVolumeAndMuted}\n          onLoadedMetadata={this.onLoadedMetadata}\n        />\n      </div>\n    )\n  }\n}\n\nAudioWrapper.propTypes = {\n  onPlayPrev: PropTypes.func,\n  onPlayNext: PropTypes.func,\n  allowFocus: PropTypes.func,\n  extraControls: Controls.propTypes.extraControls,\n  volumeAsAdvanced: PropTypes.bool,\n  autoPlay: PropTypes.bool,\n  path: PropTypes.string,\n  title: PropTypes.string,\n  titleHead: PropTypes.string,\n  artist: PropTypes.string,\n  album: PropTypes.string\n}\n\nexport default AudioWrapper\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport MediaQuery from 'react-responsive'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPlay } from '@fortawesome/free-solid-svg-icons'\n\nclass PodcastsList extends React.PureComponent {\n  renderChildren () {\n    const { children, current } = this.props\n    return children.length === 0\n      ? null\n      : children.map((child, index) => (\n        <li\n          key={child.key}\n          style={{\n            position: 'relative',\n            marginLeft: '2.5em',\n            textIndent: '-1.5em',\n            padding: '1pt 0'\n          }}\n        >\n          {index === current ? (\n            <FontAwesomeIcon\n              icon={faPlay}\n              style={{\n                position: 'absolute',\n                left: '-2.75em',\n                padding: '1pt 0'\n              }}\n            />\n          ) : null}\n          {child}\n        </li>\n      ))\n  }\n\n  render () {\n    const { children } = this.props\n    const styles = {\n      listStyleType: 'none',\n      marginLeft: 0,\n      paddingLeft: 0,\n      textAlign: 'left'\n    }\n\n    return children.length === 0 ? null : (\n      <MediaQuery minWidth={1024}>\n        {(matches) => {\n          return (\n            <ul\n              style={{\n                ...styles,\n                columnCount: matches\n                  ? Math.floor(children.length / 10) || 1\n                  : 1\n              }}\n            >\n              {this.renderChildren()}\n            </ul>\n          )\n        }}\n      </MediaQuery>\n    )\n  }\n}\n\nPodcastsList.defaultProps = {\n  children: []\n}\n\nPodcastsList.propTypes = {\n  children: PropTypes.arrayOf(PropTypes.element),\n  current: PropTypes.number.isRequired\n}\n\nexport default PodcastsList\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst pad2 = (num) => (num < 10 ? \"0\" : \"\") + num;\n\nclass Podcast extends React.PureComponent {\n  render() {\n    const { path, uuid, hour, minute, title } = this.props;\n\n    return (\n      <span>\n        {!path ? (\n          <span>{uuid}</span>\n        ) : (\n          <a\n            href={path}\n            onClick={this.handleClick}\n            style={{ textDecoration: \"none\" }}\n          >\n            {hour}h{minute ? pad2(minute) : \"\"}: {title}\n          </a>\n        )}\n      </span>\n    );\n  }\n\n  handleClick = (e) => this.props.onClick(this.props.uuid, e);\n}\n\nPodcast.defaultProps = {\n  onClick: (e) => {},\n};\n\nPodcast.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  path: PropTypes.string,\n  title: PropTypes.string,\n  hour: PropTypes.number,\n  minute: PropTypes.number,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Podcast;\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { translate } from 'react-translate'\nimport DatePicker from 'react-date-picker'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faSyncAlt as faRefresh,\n  faCalendarAlt as faCalendar\n} from '@fortawesome/free-solid-svg-icons'\n\nimport PodcastsList from './PodcastsList'\nimport Podcast from './Podcast'\n\nimport 'react-date-picker/dist/DatePicker.css'\nimport 'react-calendar/dist/Calendar.css'\n\nconst UpdateButton = translate('UpdateButton')((props) => {\n  const { t, ...restProps } = props\n  const text = t('Update')\n  return (\n    <button\n      {...restProps}\n      aria-label={text}\n      style={{\n        borderRadius: '.5em',\n        padding: '.25em',\n        margin: '0 0 0 1em'\n      }}\n    >\n      <div\n        style={{\n          fontSize: 'calc(.5em + 2vmin)',\n          fontWeight: 'bold',\n          marginBottom: '-.25em'\n        }}\n      >\n        <FontAwesomeIcon icon={faRefresh} />\n      </div>\n      <span\n        style={{\n          fontSize: 'calc(5px + 1vmin)',\n          color: '#333'\n        }}\n      >\n        {text}\n      </span>\n    </button>\n  )\n})\n\nclass Playlist extends React.PureComponent {\n  render () {\n    const { completedDownload, date, podcasts, current, minDate, maxDate } =\n      this.props\n\n    return (\n      <div\n        role='list'\n        style={{\n          color: '#333',\n          backgroundColor: 'white',\n          padding: '2em',\n          borderRadius: '10px',\n          textAlign: 'left',\n          fontSize: 'large'\n        }}\n      >\n        <div\n          style={{\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center'\n          }}\n        >\n          <DatePicker\n            onChange={this.handleDateChange}\n            onBlur={this.handleDateBlur}\n            minDate={minDate}\n            maxDate={maxDate}\n            required\n            value={date}\n            clearIcon={null}\n            calendarIcon={<FontAwesomeIcon icon={faCalendar} />}\n          />\n          <UpdateButton\n            onClick={this.props.onClickUpdate}\n            disabled={!completedDownload}\n          />\n        </div>\n        <div\n          style={{\n            textAlign: 'center'\n          }}\n        >\n          <PodcastsList current={current}>\n            {podcasts.map((podcast, index) => (\n              <Podcast\n                key={podcast.uuid !== '...' ? podcast.uuid : `..._${index}`}\n                {...podcast}\n                onClick={this.props.onClickPodcast}\n              />\n            ))}\n          </PodcastsList>\n        </div>\n      </div>\n    )\n  }\n\n  handleDateChange = (date) => {\n    date.setHours(0)\n    date.setMinutes(0)\n    this.props.onDateChange(date)\n  }\n\n  // Trigger onDateBlur only if not originated by an element with one of those classNames:\n  // - calendar, date, date-picker\n  //\n  // Those are used to navigate within the date picker, so date picker is\n  // still beeing used and needing the focus\n  handleDateBlur = (e) => {\n    if (\n      !(\n        e?.relatedTarget &&\n        e.relatedTarget.className.match(/(calendar|date-?picker)/)\n      )\n    ) {\n      this.props.onDateBlur(e)\n    }\n  }\n}\n\nPlaylist.defaultProps = {\n  onClickUpdate: (e) => {},\n  onDateBlur: (e) => {},\n  onDateChange: (e) => {},\n  completedDownload: true,\n  date: new Date(),\n  maxDate: new Date(),\n  podcasts: []\n}\n\nPlaylist.propTypes = {\n  onClickUpdate: PropTypes.func.isRequired,\n  onClickPodcast: PropTypes.func.isRequired,\n  onDateBlur: PropTypes.func.isRequired,\n  onDateChange: PropTypes.func.isRequired,\n  completedDownload: PropTypes.bool.isRequired,\n  date: PropTypes.instanceOf(Date).isRequired,\n  minDate: PropTypes.instanceOf(Date).isRequired,\n  maxDate: PropTypes.instanceOf(Date).isRequired,\n  podcasts: PropTypes.array.isRequired,\n  current: PropTypes.number.isRequired\n}\n\nexport default Playlist\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { translate } from 'react-translate'\nimport MediaQuery from 'react-responsive'\n\nfunction PodcastCover (props) {\n  const { minWidth, image, programUrl, title, author, schedule, t } = props\n\n  return (\n    <MediaQuery minWidth={minWidth}>\n      {(matches) => (\n        <article\n          style={{\n            display: 'flex',\n            flexDirection: matches ? 'row' : 'column',\n            flexWrap: matches ? 'nowrap' : 'wrap',\n            justifyContent: 'center',\n            backgroundColor: 'white',\n            color: '#333',\n            padding: '1em',\n            borderRadius: '10px'\n          }}\n        >\n          <header\n            style={{\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center'\n            }}\n          >\n            <h3>\n              <a href={programUrl} target='_blank' rel='noopener noreferrer'>\n                {title}\n              </a>\n            </h3>\n            <div style={{ marginBottom: '.5em' }}>{schedule}</div>\n            <h4>{author}</h4>\n          </header>\n          <div\n            style={{\n              alignSelf: 'center'\n            }}\n          >\n            <figure\n              style={{ position: 'relative' }}\n              aria-label={`${t('Author')}: ${author}`}\n            >\n              <img\n                src={image}\n                style={{ width: '100%' }}\n                alt={`${t('Author')}: ${author}`}\n              />\n            </figure>\n          </div>\n        </article>\n      )}\n    </MediaQuery>\n  )\n}\n\nPodcastCover.defaultProps = {\n  minWidth: 1440\n}\n\nPodcastCover.propTypes = {\n  image: PropTypes.string.isRequired,\n  programUrl: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  author: PropTypes.string.isRequired,\n  schedule: PropTypes.string.isRequired,\n  t: PropTypes.func.isRequired,\n  minWidth: PropTypes.number\n}\n\nexport default translate('PodcastCover')(PodcastCover)\n","import React, { Component } from \"react\";\n\nimport { translate } from \"react-translate\";\nimport MediaQuery from \"react-responsive\";\n\nimport withLocationAndHistory from \"../withLocationAndHistory\";\n\nimport { Rac1 } from \"../Backends\";\nimport Throtle from \"../Throtle\";\n\nimport AudioWrapper from \"./Base/AudioWrapper\";\nimport Playlist from \"./Base/Playlist\";\nimport PodcastCover from \"./Base/PodcastCover\";\n\n// 1st date with HOUR podcasts\nconst minDate = new Date(2015, 5, 1);\n\nclass ByDate extends Component {\n  getDateFromParams(props) {\n    const date = props.match.params;\n    return new Date(\n      date.year,\n      date.month - 1,\n      date.day,\n      date.hour || 0,\n      date.minute || 0,\n    );\n  }\n\n  constructor(props) {\n    super();\n\n    this.history = props.history;\n\n    // Initial state\n    this.state = {\n      podcasts: [{ uuid: \"...\" }],\n      currentUUID: \"\",\n      date: this.getDateFromParams(props),\n      maxDate: new Date(),\n      completed: false,\n      waitingUpdate: false,\n      hasError: false,\n      error: {},\n    };\n\n    // Add keybinding for list updating\n    this.extraControls = [\n      {\n        help: \"Update playlist\",\n        action: this.handleClickUpdate,\n        keys: [\"r\", \"R\"],\n      },\n    ];\n\n    // Used to throtle list updates\n    this.throtle = new Throtle();\n\n    // Debugging on development\n    if (process.env.NODE_ENV === \"development\") {\n      // Log state changes\n      this._setState = this.setState;\n      this.setState = (props) => {\n        console.log({\n          a0_prev: JSON.parse(JSON.stringify(this.state)),\n          a1_next: JSON.parse(JSON.stringify(props)),\n        });\n        this._setState(props);\n      };\n\n      // Add a button to remove the last podcast in the list\n      this.extraControls.push({\n        icon: \"RL\",\n        text: \"Remove last\",\n        help: \"Remove last podcast from playlist\",\n        action: this.handlePodcastsLastRemove,\n        group: \"advanced basic\",\n      });\n    }\n  }\n\n  // Saves errors from backend into state so they\n  // can be reraised into ReactDOM tree and catched correctly\n  handleError = (error) => {\n    error.message = `Rac1ByDate: ${error.message}`;\n    this.setState({\n      hasError: true,\n      error,\n    });\n  };\n\n  // Handle focus when key handler is active\n  controlsKeyHandlerFocus = null; // Updated by React ref at this.refControls()\n  keyHandlerFocus = (e) => {\n    if (typeof this.controlsKeyHandlerFocus === \"function\") {\n      return this.controlsKeyHandlerFocus(e);\n    }\n  };\n\n  componentDidMount() {\n    // Register history change event listener\n    this.unlisten = this.history.listen(this.handleHistoryChange);\n\n    // Initiate backend library\n    this.backend = new Rac1({\n      date: this.state.date,\n      onUpdate: this.handleListUpdate,\n      // Get errors from backend\n      onError: this.handleError,\n    });\n  }\n\n  componentWillUnmount() {\n    // Unregister history change event listener\n    this.unlisten();\n\n    // Abort backend fetches\n    this.backend.abort();\n\n    // Stop throtle mechanism\n    this.throtle.clear();\n  }\n\n  render() {\n    const { podcasts, completed, date, maxDate, hasError, error } = this.state;\n\n    // If we have a backend error, reraise into ReactDOM tree\n    if (hasError) {\n      throw Error(error);\n    }\n\n    const dateText =\n      date instanceof Date\n        ? `${date.getDate()}/${1 + date.getMonth()}/${date.getFullYear()}`\n        : \"...\";\n\n    // Find current podcast (selected by uuid instead of just position)\n    const current = this.findCurrentPodcast();\n    const autoplay = current > 0;\n    const currentPodcast =\n      podcasts !== undefined &&\n      podcasts.length > current &&\n      \"path\" in podcasts[current]\n        ? podcasts[current]\n        : undefined;\n    const currentPath = currentPodcast !== undefined ? currentPodcast.path : \"\";\n    const title =\n      !currentPodcast || !currentPodcast.titleFull\n        ? dateText\n        : currentPodcast.titleFull;\n\n    return (\n      <MediaQuery minWidth={1024}>\n        {(matches) => (\n          <div\n            style={{\n              padding: \".5em\",\n              display: \"flex\",\n              alignItems: \"stretch\",\n              ...(matches\n                ? {\n                    justifyContent: \"space-evenly\",\n                  }\n                : {\n                    flexDirection: \"column\",\n                  }),\n            }}\n          >\n            <AudioWrapper\n              autoPlay={autoplay}\n              title={title}\n              titleHead={title}\n              path={currentPath}\n              allowFocus={this.allowFocus}\n              onEnded={this.handlePlayNext}\n              onPlayNext={this.handlePlayNext}\n              onPlayPrev={this.handlePlayPrev}\n              extraControls={this.extraControls}\n              volumeAsAdvanced\n              artist={currentPodcast?.author}\n              album={currentPodcast?.schedule}\n              image={currentPodcast?.image}\n            />\n            <Playlist\n              date={date}\n              minDate={minDate}\n              maxDate={maxDate}\n              completedDownload={completed}\n              podcasts={podcasts}\n              current={current}\n              onClickPodcast={this.handleClickPodcast}\n              onClickUpdate={this.handleClickUpdate}\n              onDateBlur={this.keyHandlerFocus}\n              onDateChange={this.handleDateChange}\n            />\n            {currentPodcast !== undefined ? (\n              <>\n                <div style={{ width: \".5em\", height: \".5em\" }} />\n                <PodcastCover\n                  image={currentPodcast.image}\n                  programUrl={currentPodcast.programUrl}\n                  title={currentPodcast.title}\n                  author={currentPodcast.author}\n                  schedule={currentPodcast.schedule}\n                />\n              </>\n            ) : null}\n          </div>\n        )}\n      </MediaQuery>\n    );\n  }\n\n  handleHistoryChange = (location, action) => {\n    const dateNew = this.getDateFromParams(this.props);\n    const { date } = this.state;\n\n    // Do nothing when change is made by us\n    if (action !== \"POP\") {\n      return;\n    }\n\n    /*\n     * Determine action depending on what changed\n     */\n\n    // Date changed\n    if (\n      date.getFullYear() !== dateNew.getFullYear() ||\n      date.getMonth() !== dateNew.getMonth() ||\n      date.getDate() !== dateNew.getDate()\n    ) {\n      this.handleDateChange(dateNew);\n    }\n\n    // Podcast changed\n    else if (\n      date.getHours() !== dateNew.getHours() ||\n      date.getMinutes() !== dateNew.getMinutes()\n    ) {\n      // Save new date to state\n      this.setState({\n        currentUUID: \"\",\n        dateNew,\n      });\n      this.selectPodcastByDate(dateNew, false);\n    }\n  };\n\n  historyPush(date, replace = false) {\n    const newPath = `/${date.getFullYear()}/${\n      1 + date.getMonth()\n    }/${date.getDate()}/${date.getHours()}/${date.getMinutes()}`;\n\n    // Only PUSH or REPLACE if something have to change\n    if (this.history.location.pathname !== newPath) {\n      if (!replace) {\n        this.history.push(newPath + this.history.location.hash);\n      } else {\n        this.history.replace(newPath + this.history.location.hash);\n      }\n    }\n  }\n\n  allowFocus = (el) =>\n    el.className.match(/date-?picker|rc-slider-handle|ReactModal/);\n\n  handleListUpdate = (podcasts, completed) => {\n    // Stop waiting if completed\n    const { waitingUpdate, currentUUID, date } = this.state;\n    const waitingUpdateNext =\n      waitingUpdate && completed ? false : waitingUpdate;\n\n    // Only update the podcasts lists if start, completed or every 500ms\n    this.throtle.run(completed, 1000, () => {\n      this.setState({\n        podcasts,\n        completed,\n        waitingUpdate: waitingUpdateNext,\n        maxDate: new Date(),\n      });\n    });\n\n    // If there is no podcast selected on update completed, select one\n    if (completed && currentUUID === \"\") {\n      this.selectPodcastByDate(date);\n    }\n\n    // Play next podcast if stop waiting, but without retrying download\n    if (waitingUpdate === true && waitingUpdateNext === false) {\n      this.handlePlayNext(false);\n    }\n  };\n\n  handleDateChange = (date) => {\n    if (date !== this.state.date) {\n      // Save new date to state\n      this.setState({\n        currentUUID: \"\",\n        date,\n      });\n\n      // If it's a valid date, trigger state change\n      if (date !== null) {\n        // Push new date to URL and history\n        this.historyPush(date);\n\n        // Abort backend fetches\n        this.backend.abort();\n\n        // Stop throtle mechanism\n        this.throtle.clear();\n\n        // Call in background to prevent list update's state overwrite\n        setTimeout(() => this.backend.setDate(date), 50);\n      }\n    }\n  };\n\n  // Select a podcast from list using date&time argument\n  selectPodcastByDate(date) {\n    // Find all podcasts matching >= date\n    const found = this.state.podcasts.filter((podcast) => {\n      return (\n        podcast.hour >= date.getHours() &&\n        (podcast.hour > date.getHours() || podcast.minute >= date.getMinutes())\n      );\n    });\n\n    // Play first matched podcast\n    if (found.length > 0) {\n      this.playPodcast(this.findPodcastByUUID(found[0].uuid));\n    }\n  }\n\n  findPodcastByUUID(uuid) {\n    const index = this.state.podcasts.findIndex(\n      (podcast) => podcast.uuid === uuid,\n    );\n\n    // Return index = 0 (first element in list) if\n    // UUID is not found in the podcasts list\n    return index !== -1 ? index : 0;\n  }\n\n  findCurrentPodcast() {\n    return this.findPodcastByUUID(this.state.currentUUID);\n  }\n\n  playPodcast(index) {\n    const { date, currentUUID } = this.state;\n    const podcast = this.state.podcasts[index];\n\n    // Set podcast hour&minute to date in state\n    if (\n      podcast.hour !== date.getHours() ||\n      podcast.minute !== date.getMinutes()\n    ) {\n      date.setHours(Number(podcast.hour));\n      date.setMinutes(Number(podcast.minute));\n    }\n\n    // Update date in state\n    this.setState({\n      currentUUID: podcast.uuid,\n      date,\n    });\n\n    // Force push&replace if current podcast is not set\n    const replace = currentUUID === \"\";\n    this.historyPush(date, replace);\n  }\n\n  handlePlayPrev = () => {\n    const current = this.findCurrentPodcast();\n    if (current > 0 && \"path\" in this.state.podcasts[current - 1]) {\n      this.playPodcast(current - 1);\n      return `${this.state.podcasts[current - 1].titleFull}`;\n    }\n  };\n\n  handlePlayNext = (retry = true) => {\n    const current = this.findCurrentPodcast();\n\n    // If there is a next podcast and it has path, play it\n    if (\n      current < this.state.podcasts.length - 1 &&\n      \"path\" in this.state.podcasts[current + 1]\n    ) {\n      this.playPodcast(current + 1);\n      return `${this.state.podcasts[current + 1].titleFull}`;\n    } else {\n      // If we are called to retry, update list\n      if (retry) {\n        // If we are not already waiting for update,\n        // set  and trigger a list update\n        if (!this.state.waitingUpdate) {\n          this.handleClickUpdate();\n          this.setState({\n            waitingUpdate: true,\n          });\n          return \"Updating podcasts list\";\n        }\n      }\n    }\n  };\n\n  handleClickPodcast = (uuid, e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    this.playPodcast(this.findPodcastByUUID(uuid));\n  };\n\n  // Updates podcasts list from backend\n  handleClickUpdate = () => {\n    // If there is not already an incomplete update\n    if (this.state.completed) {\n      this.setState({\n        completed: false,\n      });\n\n      // Trigger a list update\n      return this.backend.updateList();\n    }\n  };\n\n  // Removes last podcast from list (for testing purposes)\n  handlePodcastsLastRemove = () => {\n    this.setState({\n      podcasts: [...this.state.podcasts].slice(0, -1),\n    });\n  };\n}\n\nexport default translate(\"ByDate\")(withLocationAndHistory(ByDate));\n","import React, { Component } from 'react'\n\nimport { translate } from 'react-translate'\n\nimport { Rac1Live } from '../Backends'\n\nimport AudioWrapper from './Base/AudioWrapper'\nimport PodcastCover from './Base/PodcastCover'\n\nclass Live extends Component {\n  extraControls = []\n\n  // Initial state\n  state = {\n    podcast: false,\n    hasError: false,\n    error: {}\n  }\n\n  constructor (props) {\n    super()\n\n    this.backend = new Rac1Live({\n      // Get data from backend\n      onUpdate: this.handleUpdate,\n\n      // Get errors from backend\n      onError: this.handleError\n    })\n  }\n\n  componentDidMount () {\n    this.backend.launchTimer()\n  }\n\n  componentWillUnmount () {\n    // Abort backend fetches\n    this.backend.abort()\n  }\n\n  handleUpdate = (podcast) => {\n    this.setState({ podcast })\n  }\n\n  // Saves errors from backend into state so they\n  // can be reraised into ReactDOM tree and catched correctly\n  handleError = (error) => {\n    error.message = `Live: ${error.message}`\n    this.setState({\n      hasError: true,\n      error\n    })\n  }\n\n  render () {\n    const { podcast, hasError, error } = this.state\n\n    // If we have a backend error, reraise into ReactDOM tree\n    if (hasError) {\n      throw Error(error)\n    }\n\n    const { t } = this.props\n    const currentPath = podcast !== undefined ? podcast.path : ''\n    const titleHead =\n      (!podcast || !podcast.title ? '' : `${podcast.title} | `) +\n      t(this.backend.name)\n    const title =\n      t(this.backend.name) +\n      (!podcast || !podcast.title ? '' : `: ${podcast.title}`)\n\n    return (\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n          flexWrap: 'wrap',\n          justifyContent: 'space-evenly'\n        }}\n      >\n        <AudioWrapper\n          autoPlay\n          title={title}\n          path={currentPath}\n          allowFocus={this.allowFocus}\n          extraControls={this.extraControls}\n          volumeAsAdvanced={false}\n          titleHead={titleHead}\n          artist={podcast.author}\n          album={podcast.schedule}\n          image={podcast.image}\n        />\n        {podcast !== false\n          ? (\n            <>\n              <div style={{ width: '.5em', height: '.5em' }} />\n              <PodcastCover\n                minWidth={708}\n                image={podcast.image}\n                programUrl={podcast.programUrl}\n                title={podcast.title}\n                author={podcast.author}\n                schedule={podcast.schedule}\n              />\n            </>\n            )\n          : null}\n      </div>\n    )\n  }\n\n  allowFocus = (el) => el.className.match(/rc-slider-handle|ReactModal/)\n}\n\nexport default translate('Live')(Live)\n","const actions = {\n  Key: 'Key',\n  Keys: 'Keys',\n  SHIFT: 'SHIFT',\n  PageUp: 'Page up',\n  PageDown: 'Page down',\n  ArrowUp: 'Arrow up',\n  ArrowDown: 'Arrow down',\n  ArrowRight: 'Arrow right',\n  ArrowLeft: 'Arrow left',\n  Space: 'Espace',\n  Enter: 'Enter',\n  Prev: 'Prev',\n  Next: 'Next',\n  More: 'More',\n  Less: 'Less',\n  Play: 'Play',\n  Pause: 'Pause',\n  Mute: 'Mute',\n  Unmute: 'Unmute',\n  'Remove last': 'Remove last',\n  'Remove last podcast from playlist': 'Remove last podcast from playlist',\n  'Play previous podcast': 'Play previous podcast',\n  'Play next podcast': 'Play next podcast',\n  'Toggle mute status': 'Toggle mute status',\n  'Toggle Play/Pause': 'Toggle Play/Pause',\n  'Update the list of podcasts': 'Update the list of podcasts',\n  'Show more controls': 'Show more controls',\n  'Show less controls': 'Show less controls',\n  ...[\n    { symbol: '10s', orig: '10 seconds' },\n    { symbol: '60s', orig: '1 minute' },\n    { symbol: '10m', orig: '10 minutes' }\n  ].reduce((res, item) => {\n    return {\n      ...res,\n      [`-${item.symbol}`]: `-${item.symbol}`,\n      [`+${item.symbol}`]: `+${item.symbol}`,\n      [`Go backwards ${item.orig}`]: `Go backwards ${item.orig}`,\n      [`Go forward ${item.orig}`]: `Go forward ${item.orig}`\n    }\n  }, {})\n}\n\nconst common = {\n  'Rac1 Radio Podcasts Player': 'Rac1 Radio Podcasts Player',\n  Live: 'Live',\n  About: 'About',\n  Help: 'Help',\n  'Privacy policy': 'Privacy policy',\n  Yes: 'Yes',\n  No: 'No',\n  or: 'or'\n}\n\nconst tracking = {\n  'Allow tracking': 'Allow tracking',\n  'Allow tracking user interactions for usage analysis':\n    'Allow tracking user interactions for usage analysis'\n}\n\nconst translations = {\n  locale: 'en-en',\n\n  App: {\n    ...common\n  },\n\n  AppMenu: {\n    ...common,\n    ...tracking,\n    'By date': 'By date',\n    'Update!': 'Update!',\n    'New version available!': 'New version available!',\n    Language: 'Language',\n    'Change application language': 'Change application language',\n    ...['Català', 'Castellano', 'English'].reduce((res, lang) => {\n      return {\n        ...res,\n        [`Change language to ${lang}`]: `Change language to ${lang}`\n      }\n    }, {})\n  },\n\n  ErrorCatcher: {\n    'Something went wrong :(': 'Something went wrong :(',\n    'Try reloading the app to recover from it':\n      'Try reloading the app to recover from it'\n  },\n\n  ByDate: {\n    ...common\n  },\n\n  Live: {\n    ...common,\n    'Rac1 live': 'Rac1 Live'\n  },\n\n  UpdateButton: {\n    Update: 'Update'\n  },\n\n  Button: {\n    ...actions\n  },\n\n  ModalRouter: {\n    'Close modal': 'Close modal',\n    Dialog: 'Dialog'\n  },\n\n  About: {\n    ...common,\n    'Play Rac1 catalan radio station podcasts or live emission.':\n      'Play Rac1 catalan radio station podcasts or live emission.',\n    'I made this app for fun and for learning how to use the React library.':\n      'I made this app for fun and for learning how to use the React library.',\n    'This app is served using GitHub Pages.':\n      'This app is served using GitHub Pages.',\n    'Want more information?': 'Want more information?',\n    'The source code is publicly available.':\n      'The source code is publicly available.',\n    'There, you can find more information about how it has been done, licence and credits.':\n      'There, you can find more information about how it has been done, licence and credits.',\n    'Found a bug? Have a petition?': 'Found a bug? Have a petition?',\n    'Create an issue at GitHub.': 'Create an issue at GitHub.'\n  },\n\n  Help: {\n    ...common,\n    ...actions,\n    'Key bindings:': 'Key bindings:',\n    'Good UI controls for use with mobile devices: big buttons, disabled key bindings.':\n      'Good UI controls for use with mobile devices: big buttons, disabled key bindings.'\n  },\n\n  PodcastCover: {\n    Author: 'Author'\n  },\n\n  Cookies: {\n    ...common,\n    ...tracking,\n    'This site uses cookies and other tracking technologies to assist with navigation and your ability to provide feedback, analyse your use of our products and services, assist with our promotional and marketing efforts, and provide content from third parties.':\n      'This site uses cookies and other tracking technologies to assist with navigation and your ability to provide feedback, analyse your use of our products and services, assist with our promotional and marketing efforts, and provide content from third parties.',\n    'We need to reload the page when you change this option in order to ensure it is taken completely into account.':\n      'We need to reload the page when you change this option in order to ensure it is taken completely into account.'\n  }\n}\n\nexport default translations\n","const actions = {\n  Key: 'Tecla',\n  Keys: 'Tecles',\n  SHIFT: 'MAJÚS',\n  PageUp: 'Pàgina amunt',\n  PageDown: 'Pàgina avall',\n  ArrowUp: 'Fletxa amunt',\n  ArrowDown: 'Fletxa avall',\n  ArrowRight: 'Fletxa dreta',\n  ArrowLeft: 'Fletxa esquerra',\n  Space: 'Espai',\n  Enter: 'Enter',\n  Prev: 'Ant.',\n  Next: 'Seg.',\n  More: 'Més',\n  Less: 'Menys',\n  Play: 'Play',\n  Pause: 'Pausa',\n  Mute: 'Silenciar',\n  Unmute: 'Act. so',\n  'Adjust volume': 'Adjusta el volum',\n  'Remove last': 'Elimina últ',\n  'Remove last podcast from playlist':\n    \"Elimina l'últim podcast de la llista de reproducció\",\n  'Play previous podcast': 'Reprodueix el podcast anterior',\n  'Play next podcast': 'Reprodueix el podcast següent',\n  'Toggle mute status': \"Canvia l'estat del silenci\",\n  'Toggle Play/Pause': 'Canvia Reprodueix/Pausa',\n  'Update the list of podcasts': 'Actualitza la llista de podcasts',\n  'Show more controls': 'Mostra més controls',\n  'Show less controls': 'Mostra menys controls',\n  ...[\n    { symbol: '10s', orig: '10 seconds', trans: '10 segons' },\n    { symbol: '60s', orig: '1 minute', trans: '1 minut' },\n    { symbol: '10m', orig: '10 minutes', trans: '10 minuts' }\n  ].reduce((res, item) => {\n    return {\n      ...res,\n      [`-${item.symbol}`]: `-${item.symbol}`,\n      [`+${item.symbol}`]: `+${item.symbol}`,\n      [`Go backwards ${item.orig}`]: `Retrocedir ${item.trans}`,\n      [`Go forward ${item.orig}`]: `Avançar ${item.trans}`\n    }\n  }, {})\n}\n\nconst common = {\n  'Rac1 Radio Podcasts Player': 'Reproductor de podcasts de Rac1',\n  Live: 'En directe',\n  About: 'Quant a...',\n  Help: 'Ajuda',\n  'Privacy policy': 'Política de privacitat',\n  Yes: 'Si',\n  No: 'No',\n  or: 'o'\n}\n\nconst tracking = {\n  'Allow tracking': 'Seguiment',\n  'Allow tracking user interactions for usage analysis':\n    \"Permet el seguiment de les accions de l'usuari amb fins d'anàlisi d'ús\"\n}\n\nconst translations = {\n  locale: 'fr', // :(\n\n  App: {\n    ...common\n  },\n\n  AppMenu: {\n    ...common,\n    ...tracking,\n    'By date': 'Per data',\n    'Update!': 'Actualitza!',\n    'New version available!': 'Nova versió disponible!',\n    Language: 'Idioma',\n    'Change application language': \"Canvia l'idioma de l'aplicació\",\n    ...['Català', 'Castellano', 'English'].reduce((res, lang) => {\n      return {\n        ...res,\n        [`Change language to ${lang}`]: `Canvia l'idioma a ${lang}`\n      }\n    }, {})\n  },\n\n  ErrorCatcher: {\n    'Something went wrong :(': 'Alguna cosa ha anat malament :(',\n    'Try reloading the app to recover from it':\n      \"Intenta recarregar l'aplicació per a continuar\"\n  },\n\n  ByDate: {\n    ...common\n  },\n\n  Live: {\n    ...common,\n    'Rac1 live': 'Rac1 en Directe'\n  },\n\n  UpdateButton: {\n    Update: 'Actualitza'\n  },\n\n  Button: {\n    ...actions\n  },\n\n  ModalRouter: {\n    'Close modal': \"Tanca l'emergent\",\n    Dialog: 'Emergent'\n  },\n\n  About: {\n    ...common,\n    'Play Rac1 catalan radio station podcasts or live emission.':\n      \"Reprodueix els podcasts o l'emissió en directe de l'estació de ràdio Rac1\",\n    'I made this app for fun and for learning how to use the React library.':\n      'He fet aquesta aplicació per diversió i per a aprendre a usar la llibreria React.',\n    'This app is served using GitHub Pages.':\n      'Aquesta pàgina es serveix usant GitHub Pages.',\n    'Want more information?': 'Vols més informació?',\n    'The source code is publicly available.':\n      'El codi font està disponible públicament.',\n    'There, you can find more information about how it has been done, licence and credits.':\n      \"Allà trobaràs més informació sobre com s'ha fet, llicències i crèdits.\",\n    'Found a bug? Have a petition?': 'Has trobat un error? Tens una petició?',\n    'Create an issue at GitHub.': 'Crea una incidència a GitHub'\n  },\n\n  Help: {\n    ...common,\n    ...actions,\n    'Key bindings:': 'Associacions del teclat:',\n    'Good UI controls for use with mobile devices: big buttons, disabled key bindings.':\n      \"Bons controls d'interfície per a ús amb dispositius mòbils: grans butons, associacions de teclat deshabilitades.\"\n  },\n\n  PodcastCover: {\n    Author: 'Autor'\n  },\n\n  Cookies: {\n    ...common,\n    ...tracking,\n    'This site uses cookies and other tracking technologies to assist with navigation and your ability to provide feedback, analyse your use of our products and services, assist with our promotional and marketing efforts, and provide content from third parties.':\n      \"Aquest lloc utilitza cookies i altres tecnologies de seguiment per ajudar-vos amb la navegació i la vostra capacitat de proporcionar comentaris, analitzar l'ús dels nostres productes i serveis, ajudar-vos amb els nostres esforços promocionals i de màrqueting i proporcionar continguts de tercers.\",\n    'We need to reload the page when you change this option in order to ensure it is taken completely into account.':\n      'Hem de tornar a carregar la pàgina quan canvieu aquesta opció per assegurar-se que es tingui en compte completament.'\n  }\n}\n\nexport default translations\n","const actions = {\n  Key: 'Tecla',\n  Keys: 'Tecles',\n  SHIFT: 'MAYÚS',\n  PageUp: 'Página arriba',\n  PageDown: 'Página abajo',\n  ArrowUp: 'Flecha arriba',\n  ArrowDown: 'Flecha abajo',\n  ArrowRight: 'Flecha derecha',\n  ArrowLeft: 'Flecha izquierda',\n  Space: 'Espacio',\n  Enter: 'Enter',\n  Prev: 'Ant.',\n  Next: 'Sig.',\n  More: 'Más',\n  Less: 'Menos',\n  Play: 'Play',\n  Pause: 'Pausa',\n  Mute: 'Silenciar',\n  Unmute: 'Act. sonido',\n  'Adjust volume': 'Ajustar el volumen',\n  'Remove last': 'Eliminar últ',\n  'Remove last podcast from playlist':\n    'Eliminar el último podcast de la lista de reproducción',\n  'Play previous podcast': 'Reproducir el podcast anterior',\n  'Play next podcast': 'Reproducir el podcast seguinte',\n  'Toggle mute status': 'Canviar el estado del silencio',\n  'Toggle Play/Pause': 'Canviar Reproducir/Pausa',\n  'Update the list of podcasts': 'Actualizar la lista de podcasts',\n  'Show more controls': 'Mostrar más controles',\n  'Show less controls': 'Mostrar menos controles',\n  ...[\n    { symbol: '10s', orig: '10 seconds', trans: '10 segundos' },\n    { symbol: '60s', orig: '1 minute', trans: '1 minuto' },\n    { symbol: '10m', orig: '10 minutes', trans: '10 minutos' }\n  ].reduce((res, item) => {\n    return {\n      ...res,\n      [`-${item.symbol}`]: `-${item.symbol}`,\n      [`+${item.symbol}`]: `+${item.symbol}`,\n      [`Go backwards ${item.orig}`]: `Retroceder ${item.trans}`,\n      [`Go forward ${item.orig}`]: `Avanzar ${item.trans}`\n    }\n  }, {})\n}\n\nconst common = {\n  'Rac1 Radio Podcasts Player': 'Reproductor de podcasts de Rac1',\n  Live: 'En directo',\n  About: 'Acerca de...',\n  Help: 'Ayuda',\n  'Privacy policy': 'Política de privacidad',\n  Yes: 'Sí',\n  No: 'No',\n  or: 'o'\n}\n\nconst tracking = {\n  'Allow tracking': 'Seguimiento',\n  'Allow tracking user interactions for usage analysis':\n    'Permitir el seguimiento de las acciones del usuario con fines de análisis de uso'\n}\n\nconst translations = {\n  locale: 'es-es',\n\n  App: {\n    ...common\n  },\n\n  AppMenu: {\n    ...common,\n    ...actions,\n    ...tracking,\n    'By date': 'Por fecha',\n    'Update!': '¡Actualiza!',\n    'New version available!': '¡Nueva versión disponible!',\n    Language: 'Idioma',\n    'Change application language': 'Cambiar el idioma de la aplicación',\n    ...['Català', 'Castellano', 'English'].reduce((res, lang) => {\n      return {\n        ...res,\n        [`Change language to ${lang}`]: `Cambiar idioma a ${lang}`\n      }\n    }, {})\n  },\n\n  ErrorCatcher: {\n    'Something went wrong :(': 'Algo ha fallado :(',\n    'Try reloading the app to recover from it':\n      'Intenta recargar la aplicación para continuar'\n  },\n\n  ByDate: {\n    ...common\n  },\n\n  Live: {\n    ...common,\n    'Rac1 live': 'Rac1 en Directo'\n  },\n\n  UpdateButton: {\n    Update: 'Actualizar'\n  },\n\n  Button: {\n    ...actions\n  },\n\n  ModalRouter: {\n    'Close modal': 'Cerrar emergente',\n    Dialog: 'Emergente'\n  },\n\n  About: {\n    ...common,\n    'Play Rac1 catalan radio station podcasts or live emission.':\n      'Reproducir los podcasts o la emisión en directo de la estación de radio Rac1',\n    'I made this app for fun and for learning how to use the React library.':\n      'He hecho esta aplicación por diversión y para aprender a usar la libreria React.',\n    'This app is served using GitHub Pages.':\n      'Esta página se sirve usando GitHub Pages.',\n    'Want more information?': '¿Quieres más información?',\n    'The source code is publicly available.':\n      'El código fuente está disponible públicamente.',\n    'There, you can find more information about how it has been done, licence and credits.':\n      'Allí encontrarás más información sobre como se ha hecho, licències y créditos.',\n    'Found a bug? Have a petition?':\n      '¿Has encontrado un error? ¿Tienes una petición?',\n    'Create an issue at GitHub.': 'Crea una incidencia en GitHub'\n  },\n\n  Help: {\n    ...common,\n    ...actions,\n    'Key bindings:': 'Asociaciones del teclado:',\n    'Good UI controls for use with mobile devices: big buttons, disabled key bindings.':\n      'Buenos controles de interfaz para usar con dispositivos móviles: grandes botones, asociacions de teclado deshabilitadas.'\n  },\n\n  PodcastCover: {\n    Author: 'Autor'\n  },\n\n  Cookies: {\n    ...common,\n    ...tracking,\n    'This site uses cookies and other tracking technologies to assist with navigation and your ability to provide feedback, analyse your use of our products and services, assist with our promotional and marketing efforts, and provide content from third parties.':\n      'Este sitio utiliza cookies y otras tecnologías de seguimiento para ayudar con la navegación y su capacidad de proporcionar comentarios, analizar el uso de nuestros productos y servicios, ayudar con nuestros esfuerzos de promoción y marketing, y proporcionar contenido de terceros.',\n    'We need to reload the page when you change this option in order to ensure it is taken completely into account.':\n      'Necesitamos volver a cargar la página cuando cambie esta opción para garantizar que se tenga en cuenta por completo.'\n  }\n}\n\nexport default translations\n","import en_en from './en-en.lang.js'\nimport ca_es from './ca-es.lang.js'\nimport es_es from './es-es.lang.js'\n\nconst available = {\n  en: en_en,\n  'en-en': en_en,\n  'en-us': en_en,\n  'en-au': en_en,\n  ca: ca_es,\n  'ca-es': ca_es,\n  es: es_es,\n  'es-es': es_es\n}\n\nexport default available\n","import React, { useMemo, useState } from \"react\";\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n  useLocation,\n} from \"react-router-dom\";\n\nimport Storage from \"react-simple-storage\";\nimport { TranslatorProvider, useTranslate } from \"react-translate\";\nimport { Helmet, HelmetProvider } from \"react-helmet-async\";\nimport available from \"./i18n/available\";\n\nimport AppMenu from \"./AppMenu\";\nimport ModalRouter from \"./ModalRouter\";\nimport GAListener, { ReportWebVitals } from \"./GAListener\";\nimport ErrorCatcher from \"./ErrorCatcher\";\nimport { Live, ByDate } from \"./Players\";\nimport Cookies from \"./Cookies\";\nimport About from \"./About\";\nimport Help from \"./Help\";\nimport botCheck from \"./botCheck\";\n\nimport \"./App.css\";\n\n// GoogleAnalytics code taken from env\nconst GACode = process.env.REACT_APP_GA_CODE;\n\n// Template function for catching errors from components\nconst withErrorCatcher = (origin, Component) => (props) => (\n  <ErrorCatcher {...{ origin, key: origin }}>\n    <Component {...props} />\n  </ErrorCatcher>\n);\n\nconst AboutWithErrorCatcher = withErrorCatcher(\"About\", About);\nconst HelpWithErrorCatcher = withErrorCatcher(\"Help\", Help);\nconst CookiesWithErrorCatcher = withErrorCatcher(\"Cookies\", Cookies);\nconst LiveWithErrorCatcher = withErrorCatcher(\"Live\", Live);\nconst ByDateWithErrorCatcher = withErrorCatcher(\"ByDate\", ByDate);\n\n// App Helmet: Controls HTML <head> elements with SideEffect\n// - Set a default title and title template, translated\nconst AppHelmet = function (props) {\n  const t = useTranslate(\"App\");\n  const title = t(\"Rac1 Radio Podcasts Player\");\n  return (\n    <Helmet titleTemplate={`%s | ${title}`} defaultTitle={title}>\n      <html lang={props.language} />\n    </Helmet>\n  );\n};\n\n// Concentrate all providers (4) used in the app into a single component\nconst AppProviders = function (props) {\n  return (\n    <TranslatorProvider translations={props.translations}>\n      <HelmetProvider>\n        <Router>\n          {/* GoogleAnalytics event provider and route change detector */}\n          <GAListener\n            GACode={props.GACode}\n            language={props.language}\n            trackOptIn={props.trackOptIn}\n          >\n            <ReportWebVitals />\n            <div className=\"App\" id=\"router-container\">\n              {props.children}\n            </div>\n          </GAListener>\n        </Router>\n      </HelmetProvider>\n    </TranslatorProvider>\n  );\n};\n\nconst RedirectToToday = function () {\n  const location = useLocation();\n  const date = new Date();\n  const todayStr = `/${date.getFullYear()}/${\n    1 + date.getMonth()\n  }/${date.getDate()}/0/0`;\n\n  return (\n    <Redirect\n      push\n      to={{\n        pathname: todayStr,\n        hash: location.hash.replace(\"#\", \"\"),\n      }}\n    />\n  );\n};\n\nclass App extends React.Component {\n  constructor(props) {\n    super();\n\n    // Save App element to handle modal\n    this.appElement = React.createRef();\n\n    this.state = {\n      initializing: true,\n      trackingSeen: false,\n      trackOptIn: !props.dnt,\n    };\n  }\n\n  handleStopInitializing = () => {\n    this.setState({ initializing: false });\n  };\n\n  handleTrackingSeenChange = (trackingSeen) => {\n    this.setState({ trackingSeen });\n  };\n\n  handleTrackOptInChange = (trackOptIn) => {\n    this.setState({ trackOptIn });\n  };\n\n  render() {\n    const { trackOptIn, trackingSeen, initializing } = this.state;\n    const { language, handleLanguageChange, isBot } = this.props;\n    const translations = available[language];\n\n    return (\n      <AppProviders\n        {...{\n          translations,\n          language,\n          trackOptIn,\n          GACode,\n        }}\n      >\n        {/* Persistent state saver into localStorage */}\n        <Storage\n          parent={this}\n          prefix=\"App\"\n          blacklist={[\"initializing\"]}\n          onParentStateHydrated={this.handleStopInitializing}\n        />\n\n        {initializing ? null : (\n          <>\n            {/*\n                Modal routes hash paths ;)\n                Force initial modal to 'cookies' if all these conditions are true:\n                - Cookies modal not seen yet\n                - App completely initialized\n                - User is not a Bot\n                - User does not have DoNotTrack activated (consider bots as if they have DNT)\n            */}\n            <ModalRouter\n              force={\n                !trackingSeen && !initializing && !isBot ? \"cookies\" : false\n              }\n              appElement={this.appElement.current}\n            >\n              <Route exact path=\"about\">\n                <AboutWithErrorCatcher />\n              </Route>\n              <Route exact path=\"help\">\n                <HelpWithErrorCatcher />\n              </Route>\n              <Route exact path=\"cookies\">\n                <CookiesWithErrorCatcher\n                  {...{ trackOptIn, trackingSeen }}\n                  onTrackingSeen={this.handleTrackingSeenChange}\n                  onTrackOptIn={this.handleTrackOptInChange}\n                />\n              </Route>\n            </ModalRouter>\n\n            {/* Menu */}\n            <ErrorCatcher origin=\"AppMenu\">\n              <AppMenu\n                language={language}\n                onLanguageChange={handleLanguageChange}\n                trackOptIn={trackOptIn}\n              />\n            </ErrorCatcher>\n\n            <AppHelmet language={language} />\n\n            <header ref={this.appElement} className=\"App-header\" id=\"page-wrap\">\n              {/* App Route */}\n              <Switch>\n                <Route exact path=\"/live\">\n                  <LiveWithErrorCatcher />\n                </Route>\n\n                <Route exact path=\"/(directe|directo)\">\n                  <Redirect to={{ pathname: \"live\" }} />\n                </Route>\n\n                <Route\n                  path={\n                    \"/:year(\\\\d{4})/:month(\\\\d{1,2})/:day(\\\\d{1,2})/:hour(\\\\d{1,2})/:minute(\\\\d{1,2})\"\n                  }\n                >\n                  <ByDateWithErrorCatcher />\n                </Route>\n\n                <Route\n                  path={\n                    \"/:year(\\\\d{4})/:month(\\\\d{1,2})/:day(\\\\d{1,2})/:hour(\\\\d{1,2})\"\n                  }\n                >\n                  <ByDateWithErrorCatcher />\n                </Route>\n\n                <Route path={\"/:year(\\\\d{4})/:month(\\\\d{1,2})/:day(\\\\d{1,2})\"}>\n                  <ByDateWithErrorCatcher />\n                </Route>\n\n                {/* Set default date to today */}\n                <Route exact path=\":all(.*)\">\n                  <RedirectToToday />\n                </Route>\n              </Switch>\n            </header>\n          </>\n        )}\n      </AppProviders>\n    );\n  }\n}\n\n// Get DoNotTrack user preference\n// Deactivate tracking by default to users with DNT and to all bots\nconst defaultLanguage = Object.prototype.hasOwnProperty.call(\n  available,\n  global.navigator.language,\n)\n  ? global.navigator.language\n  : \"en-en\";\nconst AppWrapper = function () {\n  const isBot = useMemo(botCheck, [global.navigator.userAgent]);\n  const dnt = useMemo(() => {\n    const navDNT =\n      global.navigator.doNotTrack ||\n      window.doNotTrack ||\n      global.navigator.msDoNotTrack;\n    return (\n      process.env.NODE_ENV === \"test\" ||\n      navDNT === \"1\" ||\n      navDNT === \"yes\" ||\n      isBot\n    );\n  }, [isBot]);\n  const [language, setLanguage] = useState(defaultLanguage);\n\n  React.useEffect(() => {\n    // Fix bad browser encoding HASH\n    const decoded = decodeURIComponent(global.location.hash);\n    if (decoded !== \"\" && decoded !== global.location.hash) {\n      const hash = decoded.replace(/[^#]*(#.*)$/, \"$1\");\n      global.location.replace(hash);\n    }\n  });\n\n  return (\n    <App\n      isBot={isBot}\n      dnt={dnt}\n      language={language}\n      handleLanguageChange={setLanguage}\n    />\n  );\n};\n\nexport default AppWrapper;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { NavLink } from \"react-router-dom\";\n\nimport { translate } from \"react-translate\";\nimport Switch from \"rc-switch\";\nimport \"rc-switch/assets/index.css\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faCalendarAlt as faByDate,\n  faBroadcastTower as faLive,\n  faArrowAltCircleUp as faUpgrade,\n  faInfoCircle as faAbout,\n  faQuestionCircle as faHelp,\n  faBalanceScale as faCookies,\n  faLanguage,\n  faCaretRight,\n  faCaretDown,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport MediaQuery from \"react-responsive\";\nimport { slide as SmallMenu, scaleRotate as BigMenu } from \"react-burger-menu\";\n\nimport { withGAEvent } from \"./GAListener\";\nimport { withServiceWorkerUpdater, LocalStoragePersistenceService } from '@3m1/service-worker-updater'\nimport \"./AppMenu.css\";\n\nclass AppMenu extends React.Component {\n  constructor(props) {\n    super();\n\n    this.state = {\n      isOpen: false,\n      isLanguageOpen: false,\n    };\n  }\n\n  renderLinks() {\n    const { newServiceWorkerDetected, trackOptIn, children, t } = this.props;\n    const { isLanguageOpen } = this.state;\n\n    return (\n      <div\n        style={{\n          padding: \"3em 1em 1em\",\n          background: `url(${process.env.PUBLIC_URL}/logo-rac1.png)`,\n          backgroundSize: 50,\n          backgroundRepeat: \"no-repeat\",\n          backgroundPosition: \"center .5em\",\n        }}\n      >\n        <NavLink\n          className=\"bm-item\"\n          onClick={this.handleClick}\n          isActive={(match, location) =>\n            location.pathname.match(/\\/\\d{4}(\\/\\d{1,2}){2,4}(#.*)?$/)\n          }\n          to=\"/\"\n          title={t(\n            \"Play podcasts filtered by date and ordered chronologically\"\n          )}\n        >\n          <FontAwesomeIcon icon={faByDate} style={{ marginRight: \".5em\" }} />\n          <span>{t(\"By date\")}</span>\n        </NavLink>\n        <NavLink\n          className=\"bm-item\"\n          onClick={this.handleClick}\n          to=\"/live\"\n          title={t(\"Play live stream\")}\n        >\n          <FontAwesomeIcon icon={faLive} style={{ marginRight: \".5em\" }} />\n          <span>{t(\"Live\")}</span>\n        </NavLink>\n        <NavLink\n          className=\"bm-item\"\n          onClick={this.handleClickModal}\n          to=\"#about\"\n          isActive={(match, location) => location.hash === \"#about\"}\n          title={t(\"Information about this app and its author\")}\n        >\n          <FontAwesomeIcon icon={faAbout} style={{ marginRight: \".5em\" }} />\n          <span>{t(\"About\")}</span>\n        </NavLink>\n        <NavLink\n          className=\"bm-item\"\n          onClick={this.handleClickModal}\n          to=\"#help\"\n          isActive={(match, location) => location.hash === \"#help\"}\n          title={t(\"Help using this app\")}\n        >\n          <FontAwesomeIcon icon={faHelp} style={{ marginRight: \".5em\" }} />\n          <span>{t(\"Help\")}</span>\n        </NavLink>\n        <NavLink\n          className=\"bm-item\"\n          onClick={this.handleClickModal}\n          to=\"#cookies\"\n          isActive={(match, location) => location.hash === \"#cookies\"}\n          title={t(\"Allow tracking user interactions for usage analysis\")}\n        >\n          <span\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n            }}\n          >\n            <FontAwesomeIcon icon={faCookies} style={{ marginRight: \".5em\" }} />\n            <span style={{ marginRight: \".5em\" }}>{t(\"Privacy policy\")}</span>\n            <Switch\n              onChange={() => {}}\n              disabled={false}\n              checkedChildren={t(\"Yes\")}\n              unCheckedChildren={t(\"No\")}\n              checked={trackOptIn}\n              style={{ minWidth: \"3.5em\" }}\n            />\n          </span>\n        </NavLink>\n        {newServiceWorkerDetected ? (\n          <a\n            href=\"/\"\n            className=\"bm-item\"\n            style={{ color: \"green\" }}\n            title={t(\"New version available!\")}\n            onClick={this.handleClickUpdate}\n          >\n            <FontAwesomeIcon icon={faUpgrade} style={{ marginRight: \".5em\" }} />\n            <span>{t(\"Update!\")}</span>\n          </a>\n        ) : null}\n        <a\n          href=\"/\"\n          className=\"bm-item\"\n          title={t(\"Change application language\")}\n          onClick={this.handleLanguageSectionClick}\n        >\n          <FontAwesomeIcon icon={faLanguage} style={{ marginRight: \".5em\" }} />\n          <span>{t(\"Language\")}</span>\n          <FontAwesomeIcon\n            icon={isLanguageOpen ? faCaretDown : faCaretRight}\n            style={{ marginLeft: \".5em\" }}\n          />\n        </a>\n        {isLanguageOpen ? (\n          <ul\n            style={{\n              listStyleType: \"none\",\n              marginTop: 0,\n            }}\n          >\n            {[\n              { code: \"ca\", name: \"Català\" },\n              { code: \"es\", name: \"Castellano\" },\n              { code: \"en\", name: \"English\" },\n            ].map((lang) => (\n              <li key={lang.code}>\n                <a\n                  href=\"/\"\n                  className=\"bm-item\"\n                  title={t(`Change language to ${lang.name}`)}\n                  onClick={this.handleClickLanguage.bind(this, lang.code)}\n                >\n                  <span>{lang.name}</span>\n                </a>\n              </li>\n            ))}\n          </ul>\n        ) : null}\n        {children}\n      </div>\n    );\n  }\n\n  render() {\n    const { newServiceWorkerDetected } = this.props;\n    const { isOpen } = this.state;\n    const extraClass = newServiceWorkerDetected ? \" news\" : \"\";\n\n    return (\n      <MediaQuery minWidth={1024}>\n        {(matches) => {\n          const Menu = matches ? BigMenu : SmallMenu;\n\n          return (\n            <div className={`menu-${matches ? \"big\" : \"small\"}${extraClass}`}>\n              <Menu\n                pageWrapId=\"page-wrap\"\n                outerContainerId=\"router-container\"\n                isOpen={isOpen}\n                onStateChange={this.handleMenuStateChange}\n                disableCloseOnEsc\n              >\n                {this.renderLinks()}\n              </Menu>\n            </div>\n          );\n        }}\n      </MediaQuery>\n    );\n  }\n\n  handleMenuIsOpenChange = (isOpen) => {\n    if (isOpen !== this.state.isOpen) {\n      this.setState({\n        isOpen,\n      });\n      this.props.sendEvent(\n        \"Menu\",\n        \"Change open state\",\n        `Menu is open: ${isOpen}`\n      );\n    }\n  };\n\n  handleMenuStateChange = (state) => this.handleMenuIsOpenChange(state.isOpen);\n  closeMenu = () => this.handleMenuIsOpenChange(false);\n\n  handleClick = (e) => {\n    this.closeMenu();\n    this.props.sendEvent(\"Menu\", \"Click link\", `${e.currentTarget.text}`);\n  };\n\n  handleClickModal = (e) => {\n    this.closeMenu();\n    this.props.sendEvent(\"Menu\", \"Click modal\", `${e.currentTarget.text}`);\n  };\n\n  handleLanguageSectionClick = (e) => {\n    const { isLanguageOpen } = this.state;\n    e.preventDefault();\n    this.setState({ isLanguageOpen: !isLanguageOpen });\n  };\n\n  handleClickLanguage = (language, e) => {\n    e.preventDefault();\n    this.closeMenu();\n    this.props.onLanguageChange(language);\n    this.props.sendEvent(\n      \"Menu\",\n      \"Change language\",\n      `Current language: ${language}`\n    );\n  };\n\n  handleClickUpdate = (e) => {\n    e.preventDefault();\n    this.closeMenu();\n    this.props.onLoadNewServiceWorkerAccept();\n    this.props.sendEvent(\"Menu\", \"Update!\");\n  };\n}\n\nAppMenu.defaultProps = {\n  onLoadNewServiceWorkerAccept: () => {},\n  newServiceWorkerDetected: false,\n  onLanguageChange: (language) => {},\n  trackOptIn: false,\n  sendEvent: (origin, help, status) => {},\n};\n\nAppMenu.propTypes = {\n  onLoadNewServiceWorkerAccept: PropTypes.func.isRequired,\n  newServiceWorkerDetected: PropTypes.bool.isRequired,\n  onLanguageChange: PropTypes.func.isRequired,\n  trackOptIn: PropTypes.bool.isRequired,\n  sendEvent: PropTypes.func.isRequired,\n};\n\nexport default translate(\"AppMenu\")(\n  withGAEvent(\n    withServiceWorkerUpdater(\n      AppMenu,\n      { persistenceService: new LocalStoragePersistenceService('Rac1.js') }\n    )\n  )\n);\n","import React from \"react\";\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\n\nimport Modal from \"react-modal\";\nimport { translate } from \"react-translate\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimesCircle as faClose } from \"@fortawesome/free-solid-svg-icons\";\n\nimport withLocationAndHistory from \"./withLocationAndHistory\";\nimport \"./ModalRouter.css\";\n\nif (process.env.NODE_ENV !== \"test\") {\n  Modal.setAppElement(\"#root\");\n}\n\nconst CloseModal = function () {\n  const history = useHistory();\n\n  React.useEffect(() => {\n    if (history.location.hash !== \"\") {\n      const timer = global.setTimeout(() => history.push(\"#\"), 10);\n      return () => global.cancelTimeout(timer);\n    }\n    return null;\n  }, [history]);\n\n  return null;\n};\n\nclass ModalRouterInner extends React.PureComponent {\n  constructor(props) {\n    super();\n\n    // Set initial state\n    this.history = props.history;\n    this.state = {\n      ...this.getPathState(props.location),\n      autoForce: false,\n      forced: props.force,\n    };\n  }\n\n  componentDidMount() {\n    // Register history change event listener\n    this.unlisten = this.history.listen(this.handleHistoryChange);\n  }\n\n  getPathState(location) {\n    const path = location.hash.replace(/[^#]*#(.*)$/, \"$1\");\n    return {\n      modalIsOpen: Boolean(path.length) && path !== \"close\",\n      path,\n      initialPath: this.state ? this.state.initialPath : path,\n    };\n  }\n\n  componentWillUnmount() {\n    // Unregister history change event listener\n    this.unlisten();\n    if (this.timer) {\n      global.clearTimeout(this.timer);\n    }\n  }\n\n  // Force user to different URLs\n  componentDidUpdate(prevProps, prevState) {\n    // Remember old URL when forcing\n    if (\n      this.props.force !== false &&\n      this.props.force !== prevProps.force &&\n      this.state.forced !== this.props.force\n    ) {\n      this.setState({ forced: this.props.force });\n    }\n\n    // Clear autoForce after it has been forced\n    if (this.state.autoForce === this.state.path) {\n      this.setState({ autoForce: false });\n    }\n\n    // Force old modal after forcing another (do auto force)\n    if (\n      prevState.path === this.state.forced &&\n      prevState.path !== this.state.path &&\n      this.state.initialPath !== false &&\n      this.state.initialPath.length > 1 &&\n      this.state.autoForce !== this.state.initialPath\n    ) {\n      this.setState({ autoForce: this.state.initialPath });\n    }\n  }\n\n  openModal = () => this.setState({ modalIsOpen: true });\n\n  closeModal = (propsClose = {}) => {\n    if (!(\"history\" in propsClose) || propsClose.history.location.hash !== \"\") {\n      if (!this.timer) {\n        this.timer = global.setTimeout(() => {\n          this.history.push(\"#\");\n          this.timer = undefined;\n        }, 10);\n      }\n    }\n  };\n\n  handleHistoryChange = (location, action) => {\n    const state = this.getPathState(location);\n    this.setState(state);\n  };\n\n  render() {\n    const { children, initializing, force, appElement, t } = this.props;\n    const { autoForce, path, forced } = this.state;\n\n    if (initializing) {\n      return null;\n    }\n\n    // Redirect to forced URL\n    if (force !== false && force !== path) {\n      return <Redirect push to={{ hash: force }} />;\n    }\n\n    // If previously have been forced when showing a modal,\n    // force to go back there once the forced has been visited\n    if (autoForce !== false && autoForce !== path && forced !== path) {\n      return <Redirect push to={{ hash: autoForce }} />;\n    }\n\n    return (\n      <Modal\n        appElement={appElement}\n        isOpen={this.state.modalIsOpen}\n        onAfterOpen={this.openModal}\n        onRequestClose={this.closeModal}\n        contentLabel={t(\"Dialog\")}\n        closeTimeoutMS={200}\n        aria={{\n          labelledby: \"modal_heading\",\n          describedby: \"modal_description\",\n        }}\n        style={{\n          overlay: {\n            zIndex: 2000,\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          },\n          content: {\n            top: \"auto\",\n            left: \"auto\",\n            right: \"auto\",\n            bottom: \"auto\",\n            borderRadius: \"1em\",\n            padding: \"1em 2em 2em 2em\",\n            margin: \"0 -.25em 0 0\",\n            maxHeight: \"80vh\",\n            minHeight: \"50vh\",\n            maxWidth: \"70vw\",\n            minWidth: \"50vw\",\n            textAlign: \"center\",\n          },\n        }}\n      >\n        <button\n          style={{\n            position: \"absolute\",\n            right: \".5em\",\n            background: \"transparent\",\n            border: \"0\",\n            color: \"#c33\",\n            fontSize: \"20px\",\n            cursor: \"pointer\",\n          }}\n          title={t(\"Close modal\")}\n          aria-label={t(\"Close modal\")}\n          onClick={this.closeModal}\n        >\n          <FontAwesomeIcon icon={faClose} />\n        </button>\n        <Switch location={{ pathname: path }}>\n          {children}\n\n          {/* Close modal if nothing is shown */}\n          <Route>\n            <CloseModal />\n          </Route>\n        </Switch>\n      </Modal>\n    );\n  }\n}\n\nconst ModalRouterHidrated = withLocationAndHistory(ModalRouterInner);\n\nconst ModalRouter = function (props) {\n  const { children, ...rest } = props;\n  return (\n    <Route path=\":path(.*)\">\n      <ModalRouterHidrated {...{ children, ...rest }} />\n    </Route>\n  );\n};\n\nexport default translate(\"ModalRouter\")(ModalRouter);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { translate } from \"react-translate\";\nimport Switch from \"rc-switch\";\nimport \"rc-switch/assets/index.css\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBalanceScale as faCookies } from \"@fortawesome/free-solid-svg-icons\";\n\nimport { withGAEvent } from \"./GAListener\";\n\nimport raw from \"raw.macro\";\nconst legal = raw(\"./legal.html\");\n\nclass Cookies extends React.Component {\n  componentDidMount() {\n    if (!this.props.trackingSeen) {\n      this.props.onTrackingSeen(true);\n    }\n  }\n\n  render() {\n    const { t, trackOptIn } = this.props;\n    return (\n      <>\n        <h1 id=\"modal_heading\">\n          <FontAwesomeIcon icon={faCookies} style={{ marginRight: \".5em\" }} />\n          {t(\"Privacy policy\")}\n        </h1>\n        <div id=\"modal_description\" style={{ textAlign: \"left\" }}>\n          <p>\n            {t(\n              \"This site uses cookies and other tracking technologies to assist with navigation and your ability to provide feedback, analyse your use of our products and services, assist with our promotional and marketing efforts, and provide content from third parties.\"\n            )}\n          </p>\n          <details>\n            <div dangerouslySetInnerHTML={{ __html: legal }} />\n          </details>\n        </div>\n        <p>\n          <span\n            style={{\n              display: \"inline-flex\",\n              alignItems: \"center\",\n            }}\n          >\n            <Switch\n              onChange={this.handleClickTrackOptIn}\n              disabled={false}\n              checkedChildren={t(\"Yes\")}\n              unCheckedChildren={t(\"No\")}\n              checked={trackOptIn}\n            />\n            <a\n              href=\"/\"\n              className=\"bm-item\"\n              title={t(\"Allow tracking user interactions for usage analysis\")}\n              onClick={this.handleClickTrackOptIn}\n              style={{\n                /* Fix WCAG contrast */ color: \"#4e4e48\",\n              }}\n            >\n              {t(\"Allow tracking\")}\n            </a>\n          </span>\n        </p>\n        <p>\n          <i>\n            {t(\n              \"We need to reload the page when you change this option in order to ensure it is taken completely into account.\"\n            )}\n          </i>\n        </p>\n      </>\n    );\n  }\n\n  handleClickTrackOptIn = (e) => {\n    if (typeof e !== \"boolean\" && \"preventDefault\" in e) {\n      e.preventDefault();\n    }\n    this.props.onTrackOptIn(!this.props.trackOptIn);\n    this.props.sendEvent(\n      \"Menu\",\n      \"Change tracking preference\",\n      `Current tracking preference: ${!this.props.trackOptIn}`\n    );\n    window.location.reload();\n  };\n}\n\nCookies.defaultProps = {\n  onTrackOptIn: (optIn) => {},\n  onTrackingSeen: (optIn) => {},\n};\n\nCookies.propTypes = {\n  onTrackingSeen: PropTypes.func.isRequired,\n  trackingSeen: PropTypes.bool.isRequired,\n  onTrackOptIn: PropTypes.func.isRequired,\n  trackOptIn: PropTypes.bool.isRequired,\n};\n\nexport default translate(\"Cookies\")(withGAEvent(Cookies));\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { translate } from 'react-translate'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faInfoCircle as faAbout } from '@fortawesome/free-solid-svg-icons'\n\nfunction About ({ t }) {\n  return (\n    <>\n      <h1 id='modal_heading'>\n        <FontAwesomeIcon icon={faAbout} style={{ marginRight: '.5em' }} />\n        {t('About')}\n      </h1>\n      <div id='modal_description' style={{ textAlign: 'left' }}>\n        <p>{t('Play Rac1 catalan radio station podcasts or live emission.')}</p>\n        <p>\n          <span>\n            {t(\n              'I made this app for fun and for learning how to use the React library.'\n            )}{' '}\n          </span>\n          {t('This app is served using GitHub Pages.')}\n        </p>\n        <h3>{t('Want more information?')}</h3>\n        <p>\n          <a\n            target='_blank'\n            rel='noopener noreferrer'\n            href='https://github.com/emibcn/Rac1.js'\n          >\n            {t('The source code is publicly available.')}\n          </a>{' '}\n          {t(\n            'There, you can find more information about how it has been done, licence and credits.'\n          )}\n        </p>\n        <h3>{t('Found a bug? Have a petition?')}</h3>\n        <p>\n          <a\n            target='_blank'\n            rel='noopener noreferrer'\n            href='https://github.com/emibcn/Rac1.js/issues'\n          >\n            {t('Create an issue at GitHub.')}\n          </a>\n        </p>\n      </div>\n    </>\n  )\n}\n\nAbout.propTypes = {\n  t: PropTypes.func.isRequired\n}\n\nexport default translate('About')(About)\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { translate } from 'react-translate'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faQuestionCircle as faHelp,\n  faPlay as faArrow\n} from '@fortawesome/free-solid-svg-icons'\n\nfunction Key ({ k }) {\n  return (\n    <pre style={{ display: 'inline' }} title={k}>\n      {k}\n    </pre>\n  )\n}\n\nKey.propTypes = {\n  k: PropTypes.string.isRequired\n}\n\nfunction Arrow (props) {\n  return (\n    <FontAwesomeIcon icon={faArrow} {...props} style={{ marginRight: '1em' }} />\n  )\n}\n\nfunction Help ({ t }) {\n  return (\n    <>\n      <h1 id='modal_heading'>\n        <FontAwesomeIcon icon={faHelp} style={{ marginRight: '.5em' }} />\n        {t('Help')}\n      </h1>\n      <div id='modal_description' style={{ textAlign: 'left' }}>\n        <h3>{t('Key bindings:')}</h3>\n        <ul>\n          <li>\n            <Arrow flip='horizontal' />\n            <Key k={t('ArrowLeft')} />: {t('Go backwards 10 seconds')}\n          </li>\n          <li>\n            <Arrow className='fa-rotate-270' />\n            <Key k={t('ArrowUp')} />: {t('Go backwards 1 minute')}\n          </li>\n          <li>\n            <Key k={t('PageUp')} />: {t('Go backwards 10 minutes')}\n          </li>\n          <li>\n            <Arrow />\n            <Key k={t('ArrowRight')} />: {t('Go forward 10 seconds')}\n          </li>\n          <li>\n            <Arrow className='fa-rotate-90' />\n            <Key k={t('ArrowDown')} />: {t('Go forward 1 minute')}\n          </li>\n          <li>\n            <Key k={t('PageDown')} />: {t('Go forward 10 minutes')}\n          </li>\n          <li>\n            <Key k={t('SHIFT')} /> + <Key k={t('ArrowUp')} /> /{' '}\n            <Key k={t('ArrowDown')} /> {t('or')} <Key k='*' /> / <Key k='/' />:{' '}\n            {t('Adjust volume')}\n          </li>\n          <li>\n            <Key k={t('Space')} /> / <Key k='P' />: {t('Toggle Play/Pause')}\n          </li>\n          <li>\n            <Key k='M' />: {t('Mute')} / {t('Unmute')}\n          </li>\n          <li>\n            <Key k={t('Enter')} />: {t('Play next podcast')}\n          </li>\n          <li>\n            <Key k={t('SHIFT')} /> + <Key k={t('Enter')} />:{' '}\n            {t('Play previous podcast')}\n          </li>\n          <li>\n            <Key k='R' />: {t('Update the list of podcasts')}\n          </li>\n        </ul>\n        <p>\n          {t(\n            'Good UI controls for use with mobile devices: big buttons, disabled key bindings.'\n          )}\n        </p>\n      </div>\n    </>\n  )\n}\n\nHelp.propTypes = {\n  t: PropTypes.func.isRequired\n}\n\nexport default translate('Help')(Help)\n","const botPattern =\n  '(googlebot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)'\nconst re = new RegExp(botPattern, 'i')\nconst userAgent = global.navigator.userAgent\n\nconst botCheck = () => {\n  if (re.test(userAgent)) {\n    return true\n  }\n\n  return false\n}\n\nexport default botCheck\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker === null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              )\n\n              // Execute callback\n              if (config?.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config?.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType !== null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister()\n      })\n      .catch((error) => {\n        console.error(error.message)\n      })\n  }\n}\n","// Only needed with TS:\n// import { MetricType } from \"web-vitals\"\n\nconst reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ onCLS, onINP, onFCP, onLCP, onTTFB }) => {\n      onCLS(onPerfEntry)\n      onINP(onPerfEntry)\n      onFCP(onPerfEntry)\n      onLCP(onPerfEntry)\n      onTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import 'react-app-polyfill/stable'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration'\nimport reportWebVitals from './reportWebVitals'\nimport { onServiceWorkerUpdate } from '@3m1/service-worker-updater'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// Creates a custom event and fires it on the document\n// Internal components can listen to it\nconst dispatchCustomEvent = (name, detail) => {\n  const event = new CustomEvent(name, { detail })\n  document.dispatchEvent(event)\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register({\n  // When new ServiceWorker is available, trigger an event on `document`,\n  // passing `registration` as extra data\n  // Send message to internal components through document custom event\n  onUpdate: onServiceWorkerUpdate\n})\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// Send message to internal components through document custom event\nreportWebVitals((args) => dispatchCustomEvent('webVitals', args))\n","import React from 'react'\n\nconst GAEventContext = React.createContext(() => {})\n\nexport default GAEventContext\n","import React from \"react\";\nimport { PropTypes } from \"prop-types\";\nimport ReactGA from \"react-ga\";\n\nimport GAEventContext from \"./GAEventContext\";\nimport GAListenerActive from \"./GAListenerActive\";\n\n// Renders GA+children in production, only children for the rest\nclass GAListener extends React.Component {\n  createEvent = (...args) => {\n    const event = {};\n\n    if (args.length > 1) {\n      // Generate a React-GA event from arguments\n      const [origin, help, status] = args;\n      Object.assign(event, {\n        category: origin,\n        action: help,\n      });\n\n      if (typeof status === \"string\") {\n        event.label = status;\n      }\n    } else {\n      // Arguments is already a React-GA event\n      Object.assign(event, args[0]);\n    }\n\n    console.log(\"event:\", event);\n\n    return event;\n  };\n\n  sendEvent = (...args) => ReactGA.event(this.createEvent(...args));\n\n  render() {\n    const { children, trackOptIn, ...props } = this.props;\n\n    // Disable GA unless user has opt'ed in to tracking\n    return trackOptIn ? (\n      <GAEventContext.Provider value={this.sendEvent}>\n        <GAListenerActive {...props}>{children}</GAListenerActive>\n      </GAEventContext.Provider>\n    ) : (\n      <GAEventContext.Provider value={this.createEvent}>\n        {children}\n      </GAEventContext.Provider>\n    );\n  }\n}\n\nGAListener.defaultProps = {\n  ...GAListenerActive.defaultProps,\n  trackOptIn: false,\n};\n\nGAListener.propTypes = {\n  ...GAListenerActive.propTypes,\n  trackOptIn: PropTypes.bool.isRequired,\n};\n\nexport default GAListener;\n","import React from 'react'\n\nimport GAEventContext from './GAEventContext'\n\n// HOC to add `sendEvent` function respecting refs\nexport function withGAEvent (Component) {\n  // Wrapper component\n  function GAEvent (props) {\n    const { forwardedRef, ...restProps } = props\n\n    // Get `sendEvent` from context and pass it to the wrapped\n    // component, along with ref and the rest of props\n    return (\n      <GAEventContext.Consumer>\n        {(sendEvent) => (\n          <Component ref={forwardedRef} {...restProps} {...{ sendEvent }} />\n        )}\n      </GAEventContext.Consumer>\n    )\n  }\n\n  // Return wrapper respecting ref\n  const forwarded = React.forwardRef((props, ref) => {\n    return <GAEvent {...props} forwardedRef={ref} />\n  })\n  forwarded.propTypes = Component.propTypes\n  forwarded.defaultProps = Component.defaultProps\n\n  return forwarded\n}\n\nexport default withGAEvent\n","import React from 'react'\nimport withGAEvent from './withGAEvent'\n\n// Returns a function which uses `sendEvent`\n// to send webVitals events to GA\n// See `/index.js`\nconst handleWebVitals =\n  (sendEvent) =>\n  // Send webVitals to GA\n  // Use `event.detail` to get webVitals details\n    ({ detail: { id, name, value } }) => {\n    // https://create-react-app.dev/docs/measuring-performance/\n      sendEvent({\n        category: 'Web Vitals',\n        action: name,\n        value: Math.round(name === 'CLS' ? value * 1000 : value), // values must be integers\n        label: id, // id unique to current page load\n        nonInteraction: true // avoids affecting bounce rate\n      })\n    }\n\n// Simple functional component to (un)subscribe from document\n// event listener `webVitals` (see `/index.js` )\nconst ReportWebVitals = ({ sendEvent }) => {\n  React.useEffect(() => {\n    const listener = handleWebVitals(sendEvent)\n    document.addEventListener('webVitals', listener)\n    return () => document.removeEventListener('webVitals', listener)\n  }, [sendEvent])\n\n  return null\n}\n\nexport default withGAEvent(ReportWebVitals)\n","import GAListener from './GAListener'\nimport withGAEvent from './withGAEvent'\nimport ReportWebVitals from './ReportWebVitals'\n\nexport { withGAEvent, ReportWebVitals }\nexport default GAListener\n","import React from \"react\";\nimport { useLocation, useHistory, useParams } from \"react-router-dom\";\n\nconst withLocationAndHistory = (Component) => (props) => {\n  const location = useLocation();\n  const history = useHistory();\n  const params = useParams();\n\n  return <Component {...{ history, location, match: { params }, ...props }} />;\n};\n\nexport default withLocationAndHistory;\n"],"sourceRoot":""}