{"version":3,"sources":["Button.jsx","Volume.jsx","Controls.jsx","Playlist.jsx","PodcastsList.jsx","Podcast.jsx","rac1.js","Rac1ByDate.jsx","GAListener/GAListenerActive.js","ErrorCatcher.jsx","i18n/en-en.lang.js","i18n/ca-es.lang.js","i18n/es-es.lang.js","i18n/available.js","App.js","AppMenu.jsx","ModalRouter.jsx","Rac1Directe.jsx","Cookies.jsx","About.jsx","Help.jsx","botCheck.js","serviceWorker.js","index.js","GAListener/GAEventContext.js","GAListener/GAListener.jsx","GAListener/withGAEvent.js","GAListener/index.js"],"names":["ButtonLegacy","this","props","keys","length","t","Set","map","key","toUpperCase","shiftKey","join","text","help","icon","action","style","className","restProps","styleButton","borderRadius","padding","margin","helpExtra","keysString","onClick","bind","aria-label","title","fontSize","fontWeight","minWidth","Function","color","React","PureComponent","defaultProps","ButtonsGroup","buttons","keyHandlerFocus","children","display","justifyContent","width","control","index","Button","onMouseUp","e","force","translate","Volume","volume","muted","faVolume","faVolumeMute","faVolumeOff","faVolumeDown","faVolumeUp","flexDirection","height","alignItems","paddingTop","onAfterChange","onChange","value","onSetVolume","vertical","onSetMuted","Component","Controls","controls","faFastForward","flip","onPlayPrev","group","whiteSpace","faForward","player","currentTime","position","left","isPlaying","faPause","faPlay","paused","play","pause","onPlayNext","incrementVolume","setMuted","_keyHandlerFocus","doFocus","relatedTarget","allowFocus","timer","setTimeout","_keyHandler","focus","getPlayer","state","noKeys","extraControls","concat","forEach","c","_action","origin","sendEvent","test","navigator","userAgent","setState","clearTimeout","hideButtons","filter","includes","split","showAdvanced","volumeAsAdvanced","reduce","res","filterButtonsGroup","handleShowAdvancedChange","faEyeSlash","faEye","setVolume","name","border","bottom","right","backgroundColor","cursor","ref","element","onKeyUp","handleKey","onBlur","increment","volumeNew","status","stopPropagation","key_orig","every","mod","preventDefault","event","onShowAdvancedChange","withGAEvent","ReloadButton","marginBottom","faRefresh","Playlist","completedDownload","date","minDate","maxDate","textAlign","handleDateChange","handleDateBlur","required","clearIcon","calendarIcon","faCalendar","onClickReload","disabled","setHours","setMinutes","onDateChange","match","onDateBlur","Date","PodcastsList","current","undefined","child","marginLeft","textIndent","styles","listStyleType","paddingLeft","matches","columnCount","Math","floor","renderChildren","Podcast","handleClick","num","path","uuid","hour","minute","href","textDecoration","Rac1","_podcastsData","_pages_uuids","_previous_uuids","controller","AbortController","antiCorsBackends","url","parser","response","a","extraOptions","credentials","encodeURIComponent","json","http_code","contents","Error","dataAttrsFind","dataAttrsClean","searchData","noop","onListUpdate","onError","setDate","abort","ok","statusText","callback","err","console","log","message","Promise","reject","updateList","pageNumber","pages","handleListUpdate","getPodcastsUUIDs","then","getPodcasts","catch","catchFetchErrors","podcasts","podcast","getPodcastData","handlePodcastUpdate","newList","w","completed","dateToString","d","getFullYear","getMonth","getDate","filterByDates","d1","d2","page","pageUuids","push","podcastPage","allCompleted","podcastNew","getPage","dataRaw","parsePage","uuidsPage","reverse","backend","pad2","next","getTime","dateNext","fetch","signal","handleFetchErrors","error","data","line","v","replace","Number","resolve","dateTime","startsWith","audio","time","appTabletTitle","titleFull","Rac1ByDate","history","initialTitle","document","currentUUID","getDateFromParams","waitingUpdate","showAdvancedControls","hasError","handleClickReload","params","year","month","day","unlisten","listen","handleHistoryChange","rac1","handleError","_player","removeEventListener","handlePlayStatusChange","dateText","findCurrentPodcast","autoplay","currentPath","el","playNext","playPrev","show","src","autoPlay","controlsList","preload","onEnded","onPlay","onPause","onVolumeChanged","currentTarget","playlist","handlePodcastClick","Fragment","location","dateNew","getHours","getMinutes","selectPodcastByDate","newPath","pathname","hash","waitingUpdateNext","historyPush","slice","found","playPodcast","findPodcastByUUID","retry","audioEl","GAListenerActive","loadGoogleTag","ReactGA","initialize","titleCase","sendPageView","set","PageLanguage","language","prevProps","pageview","GACode","global","dataLayer","gtag","arguments","scriptTag","createElement","body","appendChild","_ga","ga","withRouter","ErrorCatcher","errorMessage","errorStack","info","componentStack","window","reload","reloadApp","stack","actions","symbol","orig","item","common","tracking","locale","AppMenu","lang","Rac1Directe","About","Help","Cookies","trans","en_en","ca_es","es_es","App","isBot","botCheck","dnt","doNotTrack","msDoNotTrack","decoded","decodeURIComponent","registration","initializing","newServiceWorkerDetected","available","hasOwnProperty","trackingSeen","trackOptIn","addEventListener","handleNewServiceWorker","detail","todayStr","translations","withErrorCatcher","component","id","parent","prefix","blacklist","onParentStateHydrated","exact","render","onTrackingSeen","seen","onTrackOptIn","track","onLoadNewServiceWorkerAccept","handleLoadNewServiceWorkerAccept","onLanguageChange","handleLanguageChange","to","isOpen","isLanguageOpen","background","process","backgroundSize","backgroundRepeat","backgroundPosition","isActive","faByDate","marginRight","faLive","handleClickModal","faAbout","faHelp","faCookies","checkedChildren","unCheckedChildren","checked","handleClickUpdate","faUpgrade","handleLanguageSectionClick","faLanguage","faCaretDown","faCaretRight","marginTop","code","handleClickLanguage","extraClass","Menu","BigMenu","SmallMenu","pageWrapId","outerContainerId","onStateChange","handleMenuStateChange","disableCloseOnEsc","renderLinks","Modal","setAppElement","CloseModal","ModalRouterInner","getPathState","autoForce","forced","modalIsOpen","initialPath","prevState","propsClose","onAfterOpen","openModal","onRequestClose","closeModal","contentLabel","closeTimeoutMS","aria","labelledby","describedby","overlay","zIndex","content","top","maxHeight","minHeight","maxWidth","aeia-label","faClose","ModalRouter","rest","dangerouslySetInnerHTML","__html","handleClickTrackOptIn","optIn","target","rel","Key","k","Arrow","faArrow","re","RegExp","isLocalhost","Boolean","hostname","register","config","URL","swUrl","contentType","headers","get","indexOf","serviceWorker","ready","unregister","registerValidSW","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","onUpdate","onSuccess","ReactDOM","preventDevToolsReloadLoop","waiting","postMessage","getElementById","CustomEvent","dispatchEvent","GAEventContext","createContext","GAListener","category","label","Provider","GAEvent","forwardedRef","Consumer","forwardRef"],"mappings":"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","file":"static/js/main.56e19003.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from \"react-translate\"\n\nclass ButtonLegacy extends React.PureComponent {\n  keysString() {\n    if ( this.props.keys.length === 0 ) {\n      return '';\n    }\n\n    // Transform ' ' to 'Space'\n    // Transform letters (not texts) to uppercase\n    // Uniq with [...new Set()]\n    const { t } = this.props;\n    const keys = [\n      ...new Set(\n        this.props.keys\n          .map( key => typeof key === 'string' ? { key } : key )\n          .map( key => key.key === ' ' ? {...key, key: 'Space' } : key )\n          .map( key => { return { ...key, key: key.key.length === 1 ? key.key.toUpperCase() : t(key.key) } } )\n          .map( key => ( key.shiftKey ? ` ${ t('SHIFT') } + ` : '' ) + key.key )\n      )];\n    return ` | ${ t(`Key${ keys.length > 1 ? 's' : '' }`) }: ${ keys.join(', ') }`\n  }\n\n  render() {\n    const {\n      text,\n      help,\n      icon,\n      action,\n      keys,\n      style,\n      className,\n      t,\n      ...restProps\n    } = this.props;\n\n    const styleButton = {\n      borderRadius: '1em',\n      padding: '.5em',\n      margin: '.5em',\n      ...style,\n    };\n\n    const helpExtra = t(help) + this.keysString();\n\n    return (\n      <button\n        onClick={ action.bind(this, \"Button pressed\") }\n        aria-label={ helpExtra }\n        title={ helpExtra }\n        className={ 'rac1-controls-button' + (className ? ` ${className}` : '') }\n        style={ styleButton }\n        { ...restProps }\n      >\n        <div style={{\n          fontSize: 'calc(1em + 2.5vmin)',\n          fontWeight: 'bold',\n          minWidth: '1.5em',\n        }} >\n          { icon instanceof Function ? icon() : icon }\n        </div>\n        <span style={{\n          fontSize: 'calc(8px + 1vmin)',\n          color: '#333'\n        }}>\n          { t(text instanceof Function ? text() : text) }\n        </span>\n      </button>\n    )\n  }\n}\n\nButtonLegacy.defaultProps = {\n  action: () => {},\n  keys: [],\n};\n\nButtonLegacy.propTypes = {\n  text: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.node,\n  ]).isRequired,\n  icon: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.node,\n  ]).isRequired,\n  action: PropTypes.func.isRequired,\n  help: PropTypes.string.isRequired,\n\n  // Get keys to let user know how to access the button\n  keys: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.shape({\n        key: PropTypes.string.isRequired,\n        shiftKey: PropTypes.bool,\n        altKey: PropTypes.bool,\n        ctrlKey: PropTypes.bool,\n        metaKey: PropTypes.bool,\n      }),\n    ])\n  ),\n};\n\nclass ButtonsGroup extends React.PureComponent {\n  render() {\n    const { buttons, keyHandlerFocus, children } = this.props;\n    return (\n      <div style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        width: '100%',\n      }}>\n        { buttons.map( (control, index) => {\n            return <Button\n              key={ index }\n              onMouseUp={ e => keyHandlerFocus(e, true) }\n              action={ control.action.bind(this) }\n              help={ control.help }\n              text={ control.text }\n              icon={ control.icon }\n              keys={ control.keys }\n            />\n          })\n        }\n        { children }\n      </div>\n    )\n  }\n}\n\nButtonsGroup.defaultProps = {\n  keyHandlerFocus: (e, force) => {},\n};\n\nButtonsGroup.propTypes = {\n  keyHandlerFocus: PropTypes.func.isRequired,\n  buttons: PropTypes.arrayOf( PropTypes.shape( ButtonLegacy.propTypes ) )\n};\n\nconst Button = translate('Button')(ButtonLegacy);\nexport { Button, ButtonsGroup };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faVolumeUp,\n  faVolumeDown,\n  faVolumeOff,\n  faVolumeMute,\n} from '@fortawesome/free-solid-svg-icons'\n\nimport { Button } from './Button';\n\nclass Volume extends React.Component {\n  render() {\n    const { volume, muted } = this.props;\n    const title = \"Volume handler | Keys: Shift + Arrow Up, Shift + Arrow Down\";\n\n    // Select volume icon\n    const faVolume =\n      muted        ? faVolumeMute :\n      volume === 0 ? faVolumeOff  :\n      volume < .5  ? faVolumeDown : faVolumeUp;\n\n    return (\n      <div style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-end',\n      }}>\n        <div style={{\n          width: '100%',\n          minWidth: 40,\n          height: 100,\n          display: 'flex',\n          alignItems: 'center',\n          flexDirection: 'column',\n          paddingTop: '.3em',\n        }}>\n          <Slider\n            onAfterChange={ () => this.props.keyHandlerFocus() }\n            onChange={ value => this.props.onSetVolume(value / 100) }\n            value={ volume * 100 }\n            vertical\n            aria-label={ title }\n            title={ title }\n          />\n        </div>\n        <div>\n          <Button\n            onMouseUp={ e => this.props.keyHandlerFocus(e, true) }\n            action={ () => this.props.onSetMuted( !muted ) }\n            help={ 'Toggle mute status' }\n            text={ muted ? 'Unmute' : 'Mute' }\n            icon={ <FontAwesomeIcon icon={ faVolume } /> }\n            keys={ [ 'M' ] }\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nVolume.defaultProps = {\n  keyHandlerFocus: () => {},\n  onSetVolume:     volume => {},\n  onSetMuted:      muted => {},\n  volume:          1,\n  muted:           false,\n};\n\nVolume.propTypes = {\n  keyHandlerFocus: PropTypes.func.isRequired,\n  onSetVolume: PropTypes.func.isRequired,\n  onSetMuted: PropTypes.func.isRequired,\n  volume: PropTypes.number.isRequired,\n  muted: PropTypes.bool.isRequired,\n};\n\nexport default Volume;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faPlay,\n  faPause,\n  faForward,\n  faFastForward,\n  faEye,\n  faEyeSlash,\n} from '@fortawesome/free-solid-svg-icons'\n\nimport { Button, ButtonsGroup } from './Button';\nimport Volume from './Volume';\nimport { withGAEvent } from './GAListener';\n\nclass Controls extends React.Component {\n\n  // Controls definitions:\n  // - Only button\n  // - Only key binding\n  // - Both\n  controls = [\n    {\n      icon: <FontAwesomeIcon icon={ faFastForward } flip=\"horizontal\" />,\n      text: 'Prev',\n      help: 'Play previous podcast',\n      action: () => this.props.onPlayPrev(),\n      keys: [\n        {key: 'Enter', shiftKey: true}\n      ],\n      group: 'basic',\n    },\n    {\n      icon: (\n        <span style={{ whiteSpace: 'nowrap' }}>\n          <FontAwesomeIcon icon={ faForward } flip=\"horizontal\" />\n          <FontAwesomeIcon icon={ faForward } flip=\"horizontal\" />\n        </span>\n      ),\n      text: '-10m',\n      help: 'Go backwards 10 minutes',\n      action: () => {\n        this.player().currentTime -= 600;\n        return `Current time: ${this.player().currentTime}`\n      },\n      keys: [ 'PageUp' ],\n      group: 'advanced prev',\n    },\n    {\n      icon: (\n        <span style={{ whiteSpace: 'nowrap' }}>\n          <FontAwesomeIcon\n            icon={faForward}\n            flip=\"horizontal\"\n            style={{ position: 'relative', left: '.25em' }} />\n          <FontAwesomeIcon\n            icon={faForward}\n            flip=\"horizontal\"\n            style={{ position: 'relative', left: '-.25em' }} />\n        </span>\n      ),\n      text: '-60s',\n      help: 'Go backwards 1 minute',\n      action: () => {\n        this.player().currentTime -= 60\n        return `Current time: ${this.player().currentTime}`\n      },\n      keys: [ 'ArrowUp' ],\n      group: 'advanced prev',\n    },\n    {\n      icon: <FontAwesomeIcon icon={ faForward } flip=\"horizontal\" />,\n      text: '-10s',\n      help: 'Go backwards 10 seconds',\n      action: () => {\n        this.player().currentTime -= 10\n        return `Current time: ${this.player().currentTime}`\n      },\n      keys: [ 'ArrowLeft' ],\n      group: 'advanced prev',\n    },\n    {\n      icon: () => this.props.isPlaying ?\n         <FontAwesomeIcon icon={ faPause } /> :\n         <FontAwesomeIcon icon={ faPlay } /> ,\n      text: () => this.props.isPlaying ? 'Pause' : 'Play',\n      help: 'Toggle Play/Pause',\n      action: () => {\n        this.player().paused ? this.player().play() : this.player().pause()\n        return `Current pause status: ${this.player().paused}`\n      },\n      keys: [ ' ', 'p', 'P' ],\n      group: 'basic',\n    },\n    {\n      icon: <FontAwesomeIcon icon={ faForward } />,\n      text: '+10s',\n      help: 'Go forward 10 seconds',\n      action: () => {\n        this.player().currentTime += 10\n        return `Current time: ${this.player().currentTime}`\n      },\n      keys: [ 'ArrowRight' ],\n      group: 'advanced next',\n    },\n    {\n      icon: (\n        <span style={{ whiteSpace: 'nowrap' }}>\n          <FontAwesomeIcon\n            icon={faForward}\n            style={{ position: 'relative', left: '.25em' }} />\n          <FontAwesomeIcon\n            icon={faForward}\n            style={{ position: 'relative', left: '-.25em' }} />\n        </span>\n      ),\n      text: '+60s',\n      help: 'Go forward 1 minute',\n      action: () => {\n        this.player().currentTime += 60\n        return `Current time: ${this.player().currentTime}`\n      },\n      keys: [ 'ArrowDown' ],\n      group: 'advanced next',\n    },\n    {\n      icon: (\n        <span style={{ whiteSpace: 'nowrap' }}>\n          <FontAwesomeIcon icon={ faForward } />\n          <FontAwesomeIcon icon={ faForward } />\n        </span>\n      ),\n      text: '+10m',\n      help: 'Go forward 10 minutes',\n      action: () => {\n        this.player().currentTime += 600\n        return `Current time: ${this.player().currentTime}`\n      },\n      keys: [ 'PageDown' ],\n      group: 'advanced next',\n    },\n    {\n      icon: <FontAwesomeIcon icon={ faFastForward } />,\n      text: 'Next',\n      help: 'Play next podcast',\n      action: () => this.props.onPlayNext(),\n      keys: [ 'Enter' ],\n      group: 'basic',\n    },\n    {\n      help: 'Decrement volume 5%',\n      action: () => {\n        this.incrementVolume(-.05)\n        return `Current volume: ${this.player().volume}`\n      },\n      keys: [\n        '/',\n        {key: 'ArrowDown', shiftKey: true}\n      ],\n    },\n    {\n      help: 'Increment volume 5%',\n      action: () => {\n        this.incrementVolume(.05)\n        return `Current volume: ${this.player().volume}`\n      },\n      keys: [\n        '*',\n        {key: 'ArrowUp', shiftKey: true}\n      ],\n    },\n    {\n      help: 'Toggle mute status',\n      action: () => {\n        this.setMuted( !this.player().muted )\n        return `Current mute status: ${this.player().muted}`\n      },\n      keys: [ 'm', 'M' ],\n    },\n  ];\n\n  constructor(props) {\n    super();\n\n    // Keybindings disabled by default\n    // Enable for anything but mobiles\n    this.state = {\n      noKeys: true,\n    };\n\n    // Add extra controls\n    if ( props.extraControls.length ) {\n      this.controls = this.controls.concat( props.extraControls );\n    }\n\n    // Wrap control action to send event to GA on action execution\n    this.controls.forEach( c => {\n      c._action = c.action;\n      c.action = (origin) => this.sendEvent(origin, c.help, c._action());\n    });\n  }\n\n  keyHandlerFocus = () => {};\n  _keyHandlerFocus = (e, force) => {\n    let doFocus = true;\n\n    // Allow datepicker to get focus\n    if ( e && e.relatedTarget &&\n          this.props.allowFocus( e.relatedTarget ) ) {\n      doFocus = false;\n    }\n\n    if ( doFocus || force ) {\n      this.timer = setTimeout(() => this._keyHandler.focus(), 100);\n    }\n  };\n\n  componentDidMount() {\n\n    let noKeys = true;\n\n    // Disable key handler on mobile devices (enable on the rest)\n    if ( !(/Mobi|Android/i.test(navigator.userAgent)) ) {\n      noKeys = false;\n      this.keyHandlerFocus = this._keyHandlerFocus;\n      this.keyHandlerFocus();\n    }\n\n    this.setState({\n      ...this.state,\n      noKeys,\n    });\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timer);\n  }\n\n  filterButtonsGroup(controls, group) {\n    const { hideButtons } = this.props;\n    const { noKeys } = this.state;\n\n    return controls\n\n      // Filter controls without button attributes\n      .filter( control => 'icon' in control && 'text' in control )\n\n      // Filter hidden buttons\n      .filter( control => !hideButtons.includes(control.text) )\n\n      // Filter buttons by group\n      .filter( control => control.group.split(' ').includes(group) )\n\n      // Remove keys info if keys are disabled\n      .map( control => {\n        if ( noKeys ) {\n          const { keys, ...rest } = control;\n          return rest\n        }\n        return control\n      })\n  }\n\n  render() {\n    const { showAdvanced, volumeAsAdvanced, volume, muted } = this.props;\n    const { noKeys } = this.state;\n\n    // Separate control buttons into 2 groups\n    const buttons = ['basic','advanced'].reduce( (res, group) => {\n      res[group] = this.filterButtonsGroup(this.controls, group);\n      return res;\n    }, {});\n\n    return (\n      <div style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-end',\n      }}>\n        { buttons['basic'].length ? (\n          <div style={{\n            display: 'flex',\n            alignItems: 'flex-end',\n          }}>\n            <ButtonsGroup\n              buttons={ buttons['basic'] }\n              keyHandlerFocus={ this.keyHandlerFocus.bind(this) }\n            >\n              { buttons['advanced'].length ? (\n                <Button\n                  onMouseUp={ e => this.keyHandlerFocus(e, true) }\n                  action={ this.handleShowAdvancedChange.bind(this, !showAdvanced) }\n                  help={ `Show ${ showAdvanced ? 'less' : 'more' } controls` }\n                  text={ showAdvanced ? 'Less' : 'More' }\n                  icon={ <FontAwesomeIcon icon={ showAdvanced ? faEyeSlash : faEye } /> }\n                />\n              ) : null }\n            </ButtonsGroup>\n            { !volumeAsAdvanced ? (\n              <Volume\n                volume={ volume }\n                muted={ muted }\n                onSetVolume={ this.setVolume.bind(this) }\n                onSetMuted={ this.setMuted.bind(this) }\n                keyHandlerFocus={ this.keyHandlerFocus.bind(this) }\n              />\n            ) : null }\n          </div>\n        ) : null }\n        <div style={{ display: 'flex' }}>\n          { showAdvanced && buttons['advanced'].length ? (\n            <div style={{\n              display: 'flex',\n              flexDirection: 'column',\n              justifyContent: 'space-around',\n            }}>\n              <ButtonsGroup\n                buttons={ this.filterButtonsGroup(buttons['advanced'], 'prev') }\n                keyHandlerFocus={ this.keyHandlerFocus.bind(this) }\n              />\n              <ButtonsGroup\n                buttons={ this.filterButtonsGroup(buttons['advanced'], 'next') }\n                keyHandlerFocus={ this.keyHandlerFocus.bind(this) }\n              />\n            </div>\n          ) : null }\n          { showAdvanced && volumeAsAdvanced ? (\n            <Volume\n              volume={ volume }\n              muted={ muted }\n              onSetVolume={ this.setVolume.bind(this) }\n              onSetMuted={ this.setMuted.bind(this) }\n              keyHandlerFocus={ this.keyHandlerFocus.bind(this) }\n            />\n          ) : null }\n        </div>\n        { noKeys ? null : (\n          <input\n            name='player-key-handler'\n            style={{ // Almost invisible ;)\n              width: '1px',\n              height: '1px',\n              border: 0,\n              margin: 0,\n              padding: 0,\n              bottom: 0,\n              right: 0,\n              position: 'fixed',\n              backgroundColor: 'transparent',\n              color: 'transparent',\n              cursor: 'default',\n            }}\n            ref={ element => { this._keyHandler = element } }\n            onKeyUp={ this.handleKey.bind(this) }\n            onBlur={ this.keyHandlerFocus.bind(this) }\n            aria-label=\"Key input handler\"\n          />\n        )}\n      </div>\n    );\n  }\n\n  player = () => this.props.getPlayer();\n\n  setMuted(muted) {\n    this.player().muted = muted;\n    this.props.onSetMuted(muted);\n  }\n\n  setVolume(volume) {\n    this.player().volume = volume;\n    this.props.onSetVolume(volume);\n  }\n\n  incrementVolume(increment) {\n    const { volume } = this.props;\n    let volumeNew = volume;\n\n    // Increment\n    if ( increment > 0 && volume < 1 ) {\n      volumeNew = volume <= (1 - increment) ? volume + increment : 1;\n    }\n\n    // Decrement\n    if ( increment < 0 && volume > 0 ) {\n      volumeNew = volume >= (-increment) ? volume + increment : 0;\n    }\n\n    // Prevent updating volume if limit reached\n    if ( volumeNew !== volume ) {\n      this.setVolume(volumeNew);\n    }\n  }\n\n  // Send event to GA: get this func from GAListener HOC `withGAEvent`\n  sendEvent(origin, help, status) {\n    this.props.sendEvent(origin, help, status);\n  }\n\n  handleKey(e) {\n    let stopPropagation = false;\n\n    // Handle controls keys\n    this.controls.forEach( control => {\n      (control.keys||[]).forEach( key_orig => {\n\n        // Understand plain string or custom key object\n        let key = typeof key_orig === 'string' ? {key: key_orig} : key_orig;\n\n        // If it's exact key match\n        if(e.key === key.key &&\n          ['shiftKey', 'altKey', 'ctrlKey', 'metaKey']\n            .every( (mod) => !!e[mod] === !!key[mod] )) {\n          stopPropagation = true;\n          control.action(\"Key pressed\");\n        }\n      });\n    });\n\n    if ( stopPropagation ) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n\n  handleShowAdvancedChange(showAdvanced, origin, event) {\n    event.preventDefault();\n    this.sendEvent(\n      origin,\n      this.props.onShowAdvancedChange(showAdvanced),\n    );\n  }\n}\n\nControls.defaultProps = {\n  onSetVolume:   e => {},\n  onSetMuted:    e => {},\n  onPlayPrev:    e => {},\n  onPlayNext:    e => {},\n  allowFocus:    e => {},\n  onShowAdvancedChange: e => {},\n  sendEvent:     (origin, help, status) => {},\n  extraControls: [],\n  hideButtons:   [],\n  volume:        1,\n  muted:         false,\n  isPlaying:     false,\n  showAdvanced:  false,\n  volumeAsAdvanced: false,\n};\n\nControls.propTypes = {\n  getPlayer: PropTypes.func.isRequired,\n  volume: PropTypes.number.isRequired,\n  muted: PropTypes.bool.isRequired,\n  allowFocus: PropTypes.func.isRequired,\n  onSetVolume: PropTypes.func.isRequired,\n  onSetMuted: PropTypes.func.isRequired,\n  onPlayPrev: PropTypes.func.isRequired,\n  onPlayNext: PropTypes.func.isRequired,\n  isPlaying: PropTypes.bool.isRequired,\n  volumeAsAdvanced: PropTypes.bool.isRequired,\n  showAdvanced: PropTypes.bool.isRequired,\n  onShowAdvancedChange: PropTypes.func.isRequired,\n  hideButtons: PropTypes.arrayOf(\n    PropTypes.oneOf(\n      ['Prev', 'Next', '-10m', '-60s', '-10s', '+10m', '+60s', '+10s', 'Play/Pause']\n  )).isRequired,\n  extraControls: PropTypes.arrayOf(\n    // As a button, but `text` and `icon` are not required\n    PropTypes.shape({\n      ...Button.propTypes,\n      text: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.node,\n      ]),\n      icon: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.node,\n      ]),\n    })\n  ).isRequired,\n  sendEvent: PropTypes.func.isRequired,\n};\n\nexport default withGAEvent(Controls);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { translate } from \"react-translate\"\nimport DatePicker from 'react-date-picker'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faSyncAlt as faRefresh,\n  faCalendarAlt as faCalendar,\n} from '@fortawesome/free-solid-svg-icons'\n\nconst ReloadButton = translate(\"ReloadButton\")( props => {\n  const { t, ...restProps } = props;\n  const text = t('Reload');\n  return (\n    <button\n      { ...restProps }\n      aria-label={ text }\n      style={{\n        borderRadius: '.5em',\n        padding: '.25em',\n        margin: '0 0 0 1em',\n      }}\n    >\n      <div style={{\n        fontSize: 'calc(.5em + 2vmin)',\n        fontWeight: 'bold',\n        marginBottom: '-.25em'\n      }}>\n        <FontAwesomeIcon icon={faRefresh} />\n      </div>\n      <span style={{\n        fontSize: 'calc(5px + 1vmin)',\n        color: '#333'\n      }}>\n        { text }\n      </span>\n    </button>\n  )\n});\n\nclass Playlist extends React.PureComponent {\n  render() {\n    const { completedDownload, date, children, minDate, maxDate } = this.props;\n\n    return (\n      <div style={{\n        color: '#333',\n        backgroundColor: 'white',\n        padding: '2em',\n        borderRadius: '1em',\n        margin: '1em',\n        textAlign: 'left',\n        position: 'relative',\n        fontSize: 'large'\n      }}>\n        <div style={{\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n        }}>\n          <DatePicker\n            onChange={ this.handleDateChange.bind(this) }\n            onBlur={ this.handleDateBlur.bind(this) }\n            minDate={ minDate }\n            maxDate={ maxDate }\n            required={ true }\n            value={ date }\n            clearIcon={ null }\n            calendarIcon={ <FontAwesomeIcon icon={faCalendar} /> }\n          />\n          <ReloadButton\n            onClick={ this.props.onClickReload.bind(this) }\n            disabled={ !completedDownload }\n          />\n        </div>\n        <div style={{\n          textAlign: 'center',\n        }}>\n          { children }\n        </div>\n      </div>\n    );\n  }\n\n  handleDateChange(date) {\n    date.setHours(0);\n    date.setMinutes(0);\n    this.props.onDateChange(date);\n  }\n\n  handleDateBlur(e) {\n    let focus = true;\n    if ( e && e.relatedTarget &&\n      e.relatedTarget.className.match(/(calendar|date-?picker)/) ) {\n      focus = false;\n    }\n\n    if ( focus ) {\n      this.props.onDateBlur(e);\n    }\n  }\n}\n\n\nPlaylist.defaultProps = {\n  onClickReload: (e) => {},\n  onDateBlur: (e) => {},\n  onDateChange: (e) => {},\n  completedDownload: true,\n  date: new Date(),\n  maxDate: new Date(),\n};\n\nPlaylist.propTypes = {\n  onClickReload: PropTypes.func.isRequired,\n  onDateBlur: PropTypes.func.isRequired,\n  onDateChange: PropTypes.func.isRequired,\n  completedDownload: PropTypes.bool.isRequired,\n  date: PropTypes.instanceOf(Date).isRequired,\n  minDate: PropTypes.instanceOf(Date).isRequired,\n  maxDate: PropTypes.instanceOf(Date).isRequired,\n};\n\nexport default Playlist;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport MediaQuery from 'react-responsive';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPlay } from '@fortawesome/free-solid-svg-icons'\n\nclass PodcastsList extends React.PureComponent {\n\n  renderChildren() {\n    const { children, current } = this.props;\n    return children === undefined || children.length === 0 ?\n      null : children.map( (child, index) =>\n          <li\n            key={ child.key }\n            style={{\n              position: 'relative',\n              marginLeft: '2.5em',\n              textIndent: '-1.5em',\n              padding: '1pt 0',\n            }}\n          >\n            { index === current ? (\n              <FontAwesomeIcon\n                icon={ faPlay }\n                style={{\n                  position: 'absolute',\n                  left: '-2.75em',\n                  padding: '1pt 0',\n                }}/>\n            ) : null\n            }\n            { child }\n          </li>\n        )\n  }\n\n  render() {\n    const { children } = this.props;\n    const styles = {\n      listStyleType: 'none',\n      marginLeft: 0,\n      paddingLeft: 0,\n      textAlign: 'left',\n    };\n\n    return children === undefined || children.length === 0 ?\n      null : (\n        <MediaQuery minWidth={ 1024 }>\n          { matches => {\n            return (\n              <ul style={{\n                ...styles,\n                columnCount: matches ? Math.floor(children.length / 10) || 1 : 1,\n              }}>\n                { this.renderChildren() }\n              </ul>\n            )\n          }}\n        </MediaQuery>\n      )\n  }\n}\n\nPodcastsList.defaultProps = {\n};\n\nPodcastsList.propTypes = {\n  children: PropTypes.arrayOf( PropTypes.element ),\n  current: PropTypes.number.isRequired,\n};\n\n\nexport default PodcastsList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Podcast extends React.PureComponent {\n  render() {\n    const { path, uuid, hour, minute, title} = this.props;\n    const pad2 = num => ( num < 10 ? '0' : '' ) + num;\n\n    return (\n      <span>\n        { !path ?\n            (\n              <span>{ uuid }</span>\n            ) :\n            (\n              <a\n                href={ path }\n                onClick={ this.handleClick.bind(this) }\n                style={{ textDecoration: \"none\" }}\n              >\n                { hour }h{ minute ? pad2(minute) : '' }: { title }\n              </a>\n            )\n        }\n      </span>\n    )\n  }\n\n  handleClick = (e) => this.props.onClick(e);\n}\n\nPodcast.defaultProps = {\n  onClick: (e) => {},\n};\n\nPodcast.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  path: PropTypes.string,\n  title: PropTypes.string,\n  hour: PropTypes.number,\n  minute: PropTypes.number,\n  onClick: PropTypes.func.isRequired,\n};\n\n\nexport default Podcast;\n","import 'abortcontroller-polyfill'; // For GoogleBot\n\nclass Rac1 {\n\n  // Cache for UUID => podcast\n  _podcastsData = {};\n\n  // Cache for pageNumber => UUIDs\n  _pages_uuids = [];\n\n  // Cache for reloads\n  _previous_uuids = [];\n\n  // Abort controller\n  controller = new AbortController();\n\n  // Anti-CORS backends\n  antiCorsBackends = [\n    { // Direct access to server\n      url: url => `${url}`,\n      parser: async response => {\n        return await response.text();\n      },\n      extraOptions: {\n        \"Content-Type\": \"application/json; charset=utf-8\",\n      },\n    },\n    {\n      url: url => `https://cors-anywhere.herokuapp.com/${url}`,\n      parser: response => response.text(),\n      extraOptions: {\n        credentials: 'same-origin',\n      },\n    },\n    {\n      url: url => `https://api.allorigins.ml/get?url=${encodeURIComponent(url)}`,\n      parser: async response => {\n        const json = await response.json();\n        if ( json.status.http_code === 200 ) {\n          return json.contents;\n        }\n        else {\n          throw Error(json);\n        }\n      },\n    },\n    { // https://github.com/messier31/cors-proxy-server\n      url: url => `https://secret-ocean-49799.herokuapp.com/${url}`,\n      parser: async response => {\n        return await response.text();\n      },\n      extraOptions: {\n        \"Content-Type\": \"application/json; charset=utf-8\",\n      },\n    },\n    /*\n    {\n      url: url => `http://www.whateverorigin.org/get?url=${encodeURIComponent(url)}`,\n      parser: async response => {\n        const text = await response.text();\n        console.log({text: JSON.parse(JSON.stringify(text))});\n        const json = JSON.parse(text);\n        console.log({json});\n        if ( json.status.http_code === 200 ) {\n          return json.contents;\n        }\n        else {\n          throw Error(json);\n        }\n      },\n      extraOptions: {\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        headers: {\n          \"Accept\": \"application/jsonp\",\n          \"Content-Type\": \"application/json; charset=utf-8\",\n          \"Access-Control-Request-Method\": \"GET\",\n          \"Access-Control-Request-Headers\": \"content-type,script-charset\",\n        },\n      },\n    },\n    {\n      url: url => `https://crossorigin.me/${url}`,\n      parser: async response => await response.text(),\n      extraOptions: {\n        \"Content-Type\": \"application/json; charset=utf-8\",\n      },\n    },\n    {\n      url: url => `http://alloworigin.com/get?compress=1&url=${encodeURIComponent(url)}`,\n      parser: response => response.text(),\n      extraOptions: {\n      },\n    },\n    */\n  ];\n\n  constructor(props) {\n    const noop = () => {};\n    this.onListUpdate = props.onListUpdate || noop;\n    this.onError = props.onError || noop;\n    this.setDate(props.date);\n  }\n\n  abort() {\n    this.controller.abort();\n  }\n\n  // Raises exception on response error\n  handleFetchErrors(response) {\n    if ( !response.ok ) {\n      throw Error(`Rac1 backend: ${response.statusText}`);\n    }\n    return response;\n  }\n\n  // Catches the fetch error, original or 'self-raised'\n  catchFetchErrors(callback) {\n    return err => {\n      if ( err.name === 'AbortError' ) {\n        console.log(err.message);\n        return Promise.reject(err);\n      }\n      else {\n        err.message = `Rac1 backend: ${err.message}`;\n        if ( typeof callback === 'function' ) {\n          callback(err);\n        }\n        else {\n          this.onError(err);\n        }\n      }\n    }\n  }\n\n  setDate(date) {\n    if ( this.date !== date ) {\n      this._previous_uuids = [];\n    }\n    this.date = date;\n    this.updateList();\n  }\n\n  // Download podcasts UUIDs and then, each podcast data\n  updateList(pageNumber=0) {\n    if ( pageNumber === 0 ) {\n      this._pages_uuids = [];\n      this.pages = [0];\n      this.handleListUpdate();\n    }\n\n    // Get list of UUIDs\n    return this.getPodcastsUUIDs(pageNumber)\n\n      // Download podcast data if needed\n      .then( this.getPodcasts.bind(this, pageNumber) )\n\n      // Trigger event for list updated\n      .then( this.handleListUpdate.bind(this, pageNumber) )\n\n      // Catch Exceptions\n      .catch( this.catchFetchErrors() )\n  }\n\n  getPodcasts(pageNumber, podcasts) {\n    return podcasts\n      .map( podcast => {\n\n        // If it's a podcast and is not in the cache\n        if ( podcast.uuid !== '...' && !(podcast.uuid in this._podcastsData) ) {\n\n          // Download podcast data and then trigger\n          // event when updated\n          this.getPodcastData(podcast.uuid)\n            .then( this.handlePodcastUpdate.bind(this, pageNumber) )\n            .catch( this.catchFetchErrors() )\n        }\n        return podcast;\n      })\n  }\n\n  // Creates a list with all known podcast or UUIDs\n  // and fires event onListUpdate with that\n  // () => null\n  handleListUpdate() {\n    let newList = [ ...this._previous_uuids.filter(w => w.uuid !== '...') ];\n    let completed = true;\n\n    // Helper functions\n    const dateToString = d => `${d.getFullYear()}/${d.getMonth()+1}/${d.getDate()}`;\n    const compareDates = (d1, d2) => dateToString(d1) === dateToString(d2);\n    const filterByDates = podcast => {\n      return !(\"date\" in podcast) || compareDates( podcast.date, this.date )\n    };\n\n    // Create a virtual list of all podcasts correctly ordered\n    this.pages.forEach( page => {\n\n      // Get UUIDs from the pages cache\n      var pageUuids = this._pages_uuids[ page ];\n\n      // Set temporal UUID for unresolved pages\n      if ( pageUuids === undefined ) {\n        newList.push({uuid: '...'});\n        completed = false;\n      }\n      else {\n\n        // Add this page's podcasts to the list\n        pageUuids\n\n          // Filter out already added podcasts\n          .filter( podcastPage => {\n            const found = newList.filter(\n              podcast => podcast.uuid === podcastPage.uuid );\n            return found.length === 0;\n          })\n\n          // Filter out podcasts from other dates\n          .filter( filterByDates )\n\n          // Add remaining podcasts to the list\n          .forEach( podcast => newList.push( podcast ) );\n      }\n    });\n\n    // Get cached data if available\n    newList = newList.map( podcast => this._podcastsData[podcast.uuid] || podcast )\n          // Filter out podcasts from other dates\n          .filter( filterByDates );\n\n    // Save complete list on finish\n    if ( completed ) {\n      this._previous_uuids = newList;\n    }\n\n    // See if all podcasts have already been downloaded\n    const allCompleted = completed && newList.every( podcast => 'path' in podcast );\n\n    // Trigger update event\n    this.onListUpdate(newList, allCompleted);\n\n    return newList;\n  }\n\n  // Saves the new podcast to the pages cache and fires onPodcastUpdate\n  // (pageNumber, podcastNew) => null\n  handlePodcastUpdate(pageNumber, podcastNew) {\n    podcastNew.page = pageNumber;\n    this._pages_uuids[pageNumber].forEach( (podcast,index) => {\n      if ( podcast.uuid === podcastNew.uuid ) {\n        this._pages_uuids[pageNumber][index] = podcastNew;\n      }\n    });\n\n    // Trigger update event\n    this.handleListUpdate(podcastNew);\n  }\n\n  // Gets all the podcasts UUIDs of a date\n  // (pageNumber) => Promise(Array(String(UUID)))\n  getPodcastsUUIDs(pageNumber=0) {\n    return this.getPage(pageNumber)\n      .then( dataRaw => {\n\n        const { uuidsPage, pages } = this.parsePage(dataRaw);\n\n\n        // If it's the first page, call the rest\n        if ( pageNumber === 0 ) {\n\n          // Save the list of pages, in reverse order\n          // If there are no pages (only one page), create a one element array,\n          // with page zero in it's first element\n          this.pages = pages.length > 0 ? pages.reverse() : [0];\n\n          // Resolve first the last page, so we have first the first day's UUIDs\n          // Don't call again first page\n          this.pages.forEach( page => (page !== 0) && this.updateList( page ) );\n        }\n\n        // Save in reversed order and along with the page number\n        this._pages_uuids[pageNumber] = uuidsPage\n          .reverse()\n          .map( uuid => { return {uuid, page: pageNumber} } );\n\n        return this._pages_uuids[pageNumber];\n      });\n  }\n\n  // Gets a page with HTML containning a list of podcasts from the server\n  // (pageNumber) => Promise(String)\n  getPage(pageNumber=0, backend=0) {\n\n    // Format day and month to 2 digits 0 padded strings\n    const pad2 = num => ( num < 10 ? '0' : '' ) + num;\n    const date =\n      pad2( this.date.getDate() ) + '/' +\n      pad2( 1 + this.date.getMonth() ) + '/' +\n      this.date.getFullYear();\n\n    // Set next day's date and string\n    let next = new Date(this.date.getTime());\n    next.setDate(next.getDate() + 1);\n    let dateNext = '';\n\n    // Don't use next day date if it's 2018's last day\n    if ( !(next.getFullYear() === 2019 && next.getMonth() === 0 && next.getDate() === 1) ) {\n      dateNext =\n        pad2( next.getDate() ) + '/' +\n        pad2( 1 + next.getMonth() ) + '/' +\n        next.getFullYear();\n    }\n\n    return fetch(\n      this.antiCorsBackends[backend].url( // Anti CORS\n      \"https://api.audioteca.rac1.cat/a-la-carta/cerca?\"\n      + \"text=&programId=&sectionId=HOUR&\"\n      + `from=${date}&to=${dateNext}&pageNumber=${pageNumber}`),\n      {\n        ...this.antiCorsBackends[backend].extraOptions,\n        signal: this.controller.signal,\n      })\n      .then( this.handleFetchErrors )\n\n      .then( this.antiCorsBackends[backend].parser )\n\n      // Early catch backend error to retry with the next on list\n      // Reraise error when no more backends available\n      .catch( this.catchFetchErrors( err => {\n        console.error(err);\n\n        // If user aborted, reject promise silently\n        if ( err.name !== 'AbortError' ) {\n\n          // Deactivate AntiCORS feature\n          if ( true || backend === (this.antiCorsBackends.length - 1) ) {\n            //console.log(`AntiCORS backend ${backend} failed. No more backends available.`);\n            throw Error(err);\n          }\n          else {\n            console.log(`AntiCORS backend ${backend} failed. Trying next.`);\n            return this.getPage(pageNumber, backend + 1)\n          }\n        }\n        else {\n          Promise.reject(err);\n        }\n      }))\n  }\n\n  // Cached/compiled regexps & strings for parsing HTML\n  dataAttrsFind  = / class=\"(audioteca-item|pagination-link)\" /;\n  dataAttrsClean = /.* (data-(audio-id|audioteca-search-page))=\"([^\"]*)\".*/;\n  searchData = ['data-audio-id','data-audioteca-search-page'];\n\n  // Parses a page raw HTML to obtain audio UUIDs and the list of pages\n  // (dataRawHTML) => {uuidsPage: Array(String), pages: Array(Number)}\n  parsePage(dataRaw) {\n    const data = dataRaw\n      .split('\\n')\n\n      // Filter by class, eliminating sidebar unwanted info\n      .filter( line => this.dataAttrsFind.test(line) )\n\n      // Get relevant data-* attributes\n      .map( v => v.replace(this.dataAttrsClean, '$1=$3') )\n\n      // Convert to an array of 2 strings separating attr name and it's value\n      .map( line => line.split('=') );\n\n    return {\n\n      // Filter audio UUID's\n      uuidsPage: data\n        .filter( v => v[0] === this.searchData[0] )\n        .map( v => v[1] ),\n\n      // Filter page numbers\n      pages: data\n        .filter( v => v[0] === this.searchData[1] )\n        .map( v => Number(v[1]) ),\n    };\n  }\n\n  // Downloads podcast JSON\n  // (uuid) => Promise(podcastJSON)\n  getPodcastData(uuid) {\n\n    // Return cached version if we've got it\n    if ( uuid in this._podcastsData ) {\n      // Return podcast as an immediatelly resolved Promise,\n      // as it is what's expected\n      return new Promise( resolve => resolve(this._podcastsData[uuid]) );\n    }\n\n    return fetch(\n      `https://api.audioteca.rac1.cat/piece/audio?id=${uuid}`,\n      { signal: this.controller.signal }\n    )\n      .then( this.handleFetchErrors )\n      .then( data => data.json() )\n      .then( podcast => {\n\n        // Fix server bug on year's last day, in which gives dates in the future\n        if ( podcast.dateTime.startsWith(\n          `${this.date.getFullYear() + 1}-${this.date.getMonth() + 1}`\n        )) {\n          podcast.dateTime = podcast.dateTime\n            .replace(`${this.date.getFullYear() + 1}`, `${this.date.getFullYear()}`);\n          console.log(\"Podcast date in future. Fixing to: \" + podcast.dateTime);\n        }\n\n        // Add some data to the podcast\n        podcast.uuid      = uuid;\n        podcast.date      = new Date(podcast.dateTime);\n        podcast.hour      = Number(podcast.audio.time.split(':')[0]);\n        podcast.minute    = Number(podcast.audio.time.split(':')[1]);\n        podcast.title     = podcast.appTabletTitle.replace(/ \\d\\d\\/.*/, '');\n        podcast.titleFull = podcast.appTabletTitle;\n\n        // Prevent a redirect of 400ms :/\n        podcast.path = podcast.path.replace(/\\/get\\//, '/file/').replace(/\\/(\\d)\\//, '/$1/-/')\n\n        // Save to cache\n        this._podcastsData[uuid] = podcast;\n\n        return podcast;\n      })\n  }\n}\n\nexport default Rac1;\n","import React, { Component } from 'react';\n\nimport { translate } from \"react-translate\"\nimport ReactAudioPlayer from 'react-audio-player';\nimport MediaQuery from 'react-responsive';\n\nimport Controls from './Controls';\nimport Playlist from './Playlist';\nimport PodcastsList from './PodcastsList';\nimport Podcast from './Podcast';\n\nimport Rac1 from './rac1';\n\nclass Rac1ByDate extends Component {\n\n  getDateFromParams(props) {\n    const date = props.match.params;\n    return new Date(\n        date.year,\n        date.month-1,\n        date.day,\n        date.hour||0,\n        date.minute||0,\n      )\n  }\n\n  constructor(props) {\n    super();\n\n    this.history = props.history;\n    this.initialTitle = document.title;\n\n    // Initial state\n    this.state = {\n      podcasts: [{uuid: '...'}],\n      currentUUID: '',\n      date: this.getDateFromParams(props),\n      maxDate: new Date(),\n      volume: 1,\n      muted: false,\n      isPlaying: false,\n      completed: false,\n      waitingUpdate: false,\n      showAdvancedControls: false,\n      hasError: false,\n      error: {},\n    };\n\n    this.extraControls = [\n      {\n        help: 'Reload playlist',\n        action: this.handleClickReload.bind(this),\n        keys: [ 'r', 'R' ],\n      },\n    ];\n\n    // Debugging on development\n    if ( process.env.NODE_ENV === 'development' ) {\n\n      // Log state changes\n      this._setState = this.setState;\n      this.setState = props => {\n        console.log({\n          a0_prev: JSON.parse(JSON.stringify(this.state)),\n          a1_next: JSON.parse(JSON.stringify(props)),\n        });\n        this._setState(props);\n      };\n\n      // Add a button to remove the last podcast in the list\n      this.extraControls.push({\n        icon: 'RL',\n        text: 'Remove last',\n        help: 'Remove last podcast from playlist',\n        action: this.handlePodcastsLastRemove.bind(this),\n        group: 'advanced basic',\n      });\n    }\n  }\n\n  // Saves errors from backend into state so they\n  // can be reraised into ReactDOM tree and catched correctly\n  handleError(error) {\n    error.message = `Rac1ByDate: ${error.message}`;\n    this.setState({\n      hasError: true,\n      error: error,\n    });\n  }\n\n  componentDidMount() {\n\n    // Register history change event listener\n    this.unlisten = this.history.listen( this.handleHistoryChange.bind(this) );\n\n    // Initiate backend library\n    this.rac1 = new Rac1({\n      date: this.state.date,\n      onListUpdate: this.handleListUpdate.bind(this),\n      // Get errors from backend\n      onError: this.handleError.bind(this),\n    });\n  }\n\n  componentWillUnmount() {\n    // Unregister history change event listener\n    this.unlisten();\n\n    // Unregister player event listeners\n    if ( this._player && this._player.removeEventListener ) {\n      this._player.removeEventListener('onPlay', this.handlePlayStatusChange.bind(this, true));\n      this._player.removeEventListener('onPause', this.handlePlayStatusChange.bind(this, false));\n    }\n\n    // Abort backend fetches\n    this.rac1.abort();\n\n    // Reset initial title\n    document.title = this.initialTitle;\n  }\n\n  render() {\n    const {\n      podcasts,\n      volume,\n      muted,\n      completed,\n      date,\n      maxDate,\n      isPlaying,\n      showAdvancedControls,\n      hasError,\n      error,\n    } = this.state;\n\n    // If we have a backend error, reraise into ReactDOM tree\n    if ( hasError ) {\n      throw Error(error);\n    }\n\n    const dateText = date instanceof Date ?\n      `${date.getDate()}/${1 + date.getMonth()}/${date.getFullYear()}`\n      : '...';\n\n    // Find current podcast (selected by uuid instead of just position)\n    const current = this.findCurrentPodcast();\n    const autoplay = current > 0;\n    const currentPath =\n      podcasts !== undefined\n        && podcasts.length > current\n        && 'path' in podcasts[current]\n        ? podcasts[current].path : '';\n    const title = podcasts !== undefined && podcasts.length > 0 ?\n      ( 'audio' in podcasts[current] ?\n          `${podcasts[current].titleFull}` :\n          dateText )\n      : dateText;\n\n    const controls = <Controls\n          getPlayer={ this.player.bind(this) }\n          volume={ volume }\n          muted={ muted }\n          allowFocus={ el => el.className.match( /date-?picker|rc-slider-handle|ReactModal/ ) }\n          onPlayNext={ this.playNext.bind(this) }\n          onPlayPrev={ this.playPrev.bind(this) }\n          onSetVolume={ volume => this.setState({ ...this.state, volume }) }\n          onSetMuted={ muted => this.setState({ ...this.state, muted }) }\n          showAdvanced={ showAdvancedControls }\n          volumeAsAdvanced={ true }\n          onShowAdvancedChange={ show => {\n            this.setState({ ...this.state, showAdvancedControls: show });\n            return `${show ? 'Show' : 'Hide'} advanced buttons`\n          }}\n          isPlaying={ isPlaying }\n          ref={ el => { if ( el ) { this.keyHandlerFocus = el.keyHandlerFocus } } }\n          extraControls={ this.extraControls }\n        />;\n    const player = <ReactAudioPlayer\n          ref={ element => { this._player = element; }}\n          style={{ width: '100%' }}\n          src={ currentPath }\n          autoPlay={ autoplay }\n          title={ title }\n          controls\n          controlsList='nodownload'\n          preload={ (autoplay ? 'auto' : 'metadata') }\n          onEnded={ this.playNext.bind(this) }\n          volume={ volume }\n          muted={ muted }\n          onPlay={ this.handlePlayStatusChange.bind(this, true) }\n          onPause={ this.handlePlayStatusChange.bind(this, false) }\n          onVolumeChanged={ e => this.setState({\n            ...this.state,\n            volume: e.currentTarget.volume,\n            muted: e.currentTarget.muted,\n          }) }\n        />;\n    const playlist = <Playlist\n          date={ date }\n          minDate={ new Date(2015, 5, 1) /* 1st date with HOUR podcasts */ }\n          maxDate={ maxDate }\n          completedDownload={ completed }\n          onClickReload={ this.handleClickReload.bind(this) }\n          onDateBlur={ () => this.keyHandlerFocus() }\n          onDateChange={ this.handleDateChange.bind(this) }\n        >\n          <PodcastsList current={ current } >\n            { podcasts.map((podcast, index) =>\n              <Podcast\n                key={ podcast.uuid !== '...' ? podcast.uuid : `..._${index}` }\n                { ...podcast }\n                onClick={ this.handlePodcastClick.bind(this, index) }\n              />\n            )}\n          </PodcastsList>\n        </Playlist>;\n\n    return (\n      <MediaQuery minWidth={ 1024 }>\n        { matches => {\n          if ( matches ) {\n            return (\n              <div style={{\n                display: 'flex',\n                alignItems: 'stretch',\n              }}>\n                <div style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'stretch',\n                  justifyContent: 'space-evenly',\n                }}>\n                  <h3>{ title }</h3>\n                  { controls }\n                  { player }\n                </div>\n                { playlist }\n              </div>\n            );\n          } else {\n            return (\n              <React.Fragment>\n                <h3>{ title }</h3>\n                { controls }\n                { player }\n                { playlist }\n              </React.Fragment>\n            );\n          }\n        }}\n      </MediaQuery>\n    );\n  }\n\n  handleHistoryChange(location, action) {\n    const dateNew = this.getDateFromParams(this.props);\n    const { date } = this.state;\n\n    // Do nothing when change is made by us\n    if( action !== 'POP' ) {\n      return;\n    }\n\n    /*\n     * Determine action depending on what changed\n     */\n\n    // Date changed\n    if ( date.getFullYear() !== dateNew.getFullYear() ||\n      date.getMonth() !== dateNew.getMonth() ||\n      date.getDate() !== dateNew.getDate() ) {\n      this.handleDateChange(dateNew);\n    }\n\n    // Podcast changed\n    else if ( date.getHours() !== dateNew.getHours()  ||\n      date.getMinutes() !== dateNew.getMinutes() ) {\n      // Save new date to state\n      this.setState({\n        ...this.state,\n        currentUUID: '',\n        dateNew,\n      });\n      this.selectPodcastByDate(dateNew, false);\n    }\n  }\n\n  historyPush(date, replace=false) {\n    const newPath = `/${date.getFullYear()}/${1 + date.getMonth()}/${date.getDate()}/${date.getHours()}/${date.getMinutes()}`;\n\n    // Only PUSH or REPLACE if something have to change\n    if ( this.history.location.pathname !== newPath ) {\n      if ( !replace ) {\n        this.history.push(newPath + this.history.location.hash);\n      }\n      else {\n        this.history.replace(newPath + this.history.location.hash);\n      }\n    }\n  }\n\n  handlePlayStatusChange(isPlaying) {\n    this.setState({\n      ...this.state,\n      isPlaying,\n    });\n  }\n\n  handleListUpdate(newList, completed) {\n    // Stop waiting if completed\n    const { waitingUpdate, currentUUID, date } = this.state;\n    const waitingUpdateNext = waitingUpdate && completed ? false : waitingUpdate;\n\n    this.setState({\n      ...this.state,\n      podcasts: newList,\n      completed,\n      waitingUpdate: waitingUpdateNext,\n      maxDate: new Date(),\n    });\n\n    // If there is no podcast selected on update completed, select one\n    if ( completed && currentUUID === '' ) {\n      this.selectPodcastByDate(date);\n    }\n\n    // Play next podcast if stop waiting, but without retrying download\n    if ( waitingUpdate === true && waitingUpdateNext === false ) {\n      this.playNext(false);\n    }\n  }\n\n  handleDateChange(date) {\n    if ( date !== this.state.date ) {\n\n      // Save new date to state\n      this.setState({\n        ...this.state,\n        currentUUID: '',\n        date,\n      });\n\n      // If it's a valid date, trigger state change\n      if ( date !== null ) {\n        // Push new date to URL and history\n        this.historyPush(date);\n\n        // Call in background to prevent list update's state overwrite\n        setTimeout(() => this.rac1.setDate(date), 50);\n      }\n    }\n  }\n\n  // Removes last podcast from list\n  handlePodcastsLastRemove() {\n    this.setState({\n      ...this.state,\n      podcasts: [...this.state.podcasts].slice(0,-1),\n    });\n  }\n\n  // Updates podcasts list from backend\n  handleClickReload() {\n\n    // If there is not already an incomplete update\n    if ( this.state.completed ) {\n      this.setState({\n        ...this.state,\n        completed: false,\n      });\n\n      // Trigger a list update\n      return this.rac1.updateList();\n    }\n  }\n\n  // Select a podcast from list using date&time argument\n  selectPodcastByDate(date) {\n    // Find all podcasts matching >= date\n    const found = this.state.podcasts.filter( podcast => {\n      return podcast.hour >= date.getHours() &&\n        (podcast.hour > date.getHours() ||\n        podcast.minute >= date.getMinutes())\n    });\n\n    // Play first matched podcast\n    if ( found.length > 0 ) {\n      this.playPodcast(\n        this.findPodcastByUUID(found[0].uuid));\n    }\n  }\n\n  findPodcastByUUID(uuid) {\n    let found = 0;\n    this.state.podcasts.forEach( (podcast, index) => {\n      if ( podcast.uuid === uuid ) {\n        found = index\n      }\n    });\n\n    return found;\n  }\n\n  findCurrentPodcast() {\n    return this.findPodcastByUUID( this.state.currentUUID );\n  }\n\n  playPodcast(index) {\n    const { date, currentUUID } = this.state;\n    const { t } = this.props;\n    const podcast = this.state.podcasts[index];\n\n    // Force push&replace if it's not exact match with date, and update date in state\n    let replace = false;\n    if ( podcast.hour !== date.getHours() ||\n      podcast.minute !== date.getMinutes() ) {\n      date.setHours( Number(podcast.hour) );\n      date.setMinutes( Number(podcast.minute) );\n    }\n\n    replace = currentUUID === '';\n    document.title = `${ t(this.initialTitle) }: ${podcast.titleFull}`;\n    this.setState({\n      ...this.state,\n      currentUUID: podcast.uuid,\n      date,\n    });\n    this.historyPush(date, replace);\n  }\n\n  playPrev() {\n    const current = this.findCurrentPodcast();\n    if ( current > 0 &&\n       'path' in this.state.podcasts[current - 1]) {\n      this.playPodcast(current - 1);\n      return `${this.state.podcasts[current - 1].titleFull}`\n    }\n  }\n\n  playNext(retry=true) {\n    const current = this.findCurrentPodcast();\n\n    // If there is a next podcast and it has path, play it\n    if ( current < (this.state.podcasts.length - 1 ) &&\n       'path' in this.state.podcasts[current + 1]) {\n      this.playPodcast(current + 1);\n      return `${this.state.podcasts[current + 1].titleFull}`\n    }\n    else {\n      // If we are called to retry, update list\n      if ( retry ) {\n        // If we are not already waiting for update,\n        // set  and trigger a list update\n        if ( !this.state.waitingUpdate ) {\n          this.handleClickReload();\n          this.setState({\n            ...this.state,\n            waitingUpdate: true,\n          });\n          return \"Updating podcasts list\"\n        }\n      }\n    }\n  }\n\n  player() {\n    return this._player.audioEl;\n  }\n\n  handlePodcastClick(index, e) {\n    e.stopPropagation();\n    e.preventDefault();\n    this.playPodcast(index);\n  }\n}\n\nexport default translate('Rac1ByDate')(Rac1ByDate);\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport { withRouter } from \"react-router\"\nimport ReactGA from 'react-ga';\n\nclass GAListenerActive extends React.Component {\n  constructor(){\n    super();\n\n    const GACode = 'UA-129704402-1';\n    this.loadGoogleTag(GACode);\n    ReactGA.initialize(GACode, {\n      titleCase: false,\n    });\n  }\n\n  componentDidMount() {\n    this.sendPageView( this.props.history.location );\n    this.props.history.listen( this.sendPageView );\n\n    ReactGA.set({ PageLanguage: this.props.language });\n  }\n\n  componentDidUpdate(prevProps) {\n    if ( prevProps.language !== this.props.language ) {\n      ReactGA.set({ PageLanguage: this.props.language });\n    }\n  }\n\n  sendPageView(location) {\n    ReactGA.set({ page: location.pathname });\n    ReactGA.pageview(location.pathname);\n  }\n\n  loadGoogleTag(GACode) {\n    // Global site tag (gtag.js) - Google Analytics\n    global.dataLayer = global.dataLayer || [];\n    global.gtag = function(){ global.dataLayer.push(arguments) }\n\n    global.gtag('js', new Date());\n    global.gtag('config', GACode);\n\n    // Load GTag script async\n    setTimeout(() => {\n      let scriptTag = document.createElement('script');\n      scriptTag.src = `https://www.googletagmanager.com/gtag/js?id=${GACode}`;\n      document.body.appendChild(scriptTag);\n    }, 1);\n  }\n\n  removeGA() {\n    this._ga = ReactGA.ga;\n    ReactGA.ga = null;\n    global.gtag = [];\n    global.dataLayer = [];\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n\nGAListenerActive.defaultProps = {\n  language: 'en-en',\n};\n\nGAListenerActive.propTypes = {\n  language: PropTypes.string.isRequired,\n  match: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired\n};\n\nexport default withRouter( GAListenerActive );\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSyncAlt as faRefresh } from '@fortawesome/free-solid-svg-icons'\nimport { translate } from 'react-translate'\nimport { withGAEvent } from './GAListener';\n\n// Catches unhandled errors:\n// - Show it to user\n// - Send them to GA to help improve app\nclass ErrorCatcher extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      errorMessage: '',\n      errorStack: '',\n      info: '',\n    };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return {\n      hasError: true,\n      errorMessage: error.message,\n      errorStack: error.stack,\n    };\n  }\n\n  // Catch unhandled errors and send them to help improving the app\n  componentDidCatch(error, info) {\n\n    this.setState({\n      info: info.componentStack,\n    });\n\n    this.sendEvent('Unhandled Error');\n  }\n\n  reloadApp() {\n    this.sendEvent('Reload from Error');\n\n    // Reload app\n    window.location.reload();\n  }\n\n  // Send event to GA\n  sendEvent(event) {\n    this.props.sendEvent(event, this.props.origin, this.state.errorMessage);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      const { t } = this.props;\n      const { errorMessage, errorStack } = this.state;\n\n      // Show error to user\n      return (\n        <React.Fragment>\n          <h1>{ t('Something went wrong :(') }</h1>\n          <button\n            onClick={ this.reloadApp.bind(this) }\n            style={{ padding: '1em' }}\n          >\n            <FontAwesomeIcon\n              icon={ faRefresh }\n              style={{ margin: '0 .8em 0 .2em' }}\n            />\n            { t(\"Try reloading the app to recover from it\") }\n          </button>\n          <div style={{ textAlign: 'left' }}>\n            <h3>{ errorMessage }</h3>\n            <details style={{ whiteSpace: \"pre-wrap\" }}>\n              { errorStack }\n            </details>\n          </div>\n        </React.Fragment>\n      );\n    }\n\n    return this.props.children\n  }\n}\n\nErrorCatcher.defaultProps = {\n  origin: 'No name',\n};\n\nErrorCatcher.propTypes = {\n  origin: PropTypes.string.isRequired,\n};\n\nexport default translate('ErrorCatcher')(withGAEvent(ErrorCatcher));\n","const actions = {\n    \"Key\": \"Key\",\n    \"Keys\": \"Keys\",\n    \"SHIFT\": \"SHIFT\",\n    \"PageUp\": \"Page up\",\n    \"PageDown\": \"Page down\",\n    \"ArrowUp\": \"Arrow up\",\n    \"ArrowDown\": \"Arrow down\",\n    \"ArrowRight\": \"Arrow right\",\n    \"ArrowLeft\": \"Arrow left\",\n    \"Space\": \"Espace\",\n    \"Enter\": \"Enter\",\n    \"Prev\": \"Prev\",\n    \"Next\": \"Next\",\n    \"More\": \"More\",\n    \"Less\": \"Less\",\n    \"Play\": \"Play\",\n    \"Pause\": \"Pause\",\n    \"Mute\": \"Mute\",\n    \"Unmute\": \"Unmute\",\n    \"Remove last\": \"Remove last\",\n    \"Remove last podcast from playlist\": \"Remove last podcast from playlist\",\n    \"Play previous podcast\": \"Play previous podcast\",\n    \"Play next podcast\": \"Play next podcast\",\n    \"Toggle mute status\": \"Toggle mute status\",\n    \"Toggle Play/Pause\": \"Toggle Play/Pause\",\n    \"Update the list of podcasts\": \"Update the list of podcasts\",\n    \"Show more controls\": \"Show more controls\",\n    \"Show less controls\": \"Show less controls\",\n    ...[\n        { symbol: '10s', orig: '10 seconds'},\n        { symbol: '60s', orig: '1 minute'  },\n        { symbol: '10m', orig: '10 minutes'},\n      ].reduce( (res, item) => {\n        return {\n          ...res,\n          [`-${ item.symbol }`]: `-${ item.symbol }`,\n          [`+${ item.symbol }`]: `+${ item.symbol }`,\n          [`Go backwards ${ item.orig }`]: `Go backwards ${ item.orig }`,\n          [`Go forward ${ item.orig }`  ]: `Go forward ${ item.orig }`,\n        }\n      }, {}),\n};\n\nconst common = {\n    \"Rac1 Radio Podcasts Player\": \"Rac1 Radio Podcasts Player\",\n    \"Live\": \"Live\",\n    \"About\": \"About\",\n    \"Help\": \"Help\",\n    \"Privacy policy\": \"Privacy policy\",\n    \"Yes\": \"Yes\",\n    \"No\": \"No\",\n    \"or\": \"or\",\n};\n\nconst tracking = {\n    \"Allow tracking\": \"Allow tracking\",\n    \"Allow tracking user interactions for usage analysis\": \"Allow tracking user interactions for usage analysis\",\n};\n\nexport default {\n  locale: \"en-en\",\n\n  AppMenu: {\n    ...common,\n    ...tracking,\n    \"By date\": \"By date\",\n    \"Update!\": \"Update!\",\n    \"New version available!\": \"New version available!\",\n    \"Language\": \"Language\",\n    \"Change application language\": \"Change application language\",\n    ...['Català', 'Castellano', 'English']\n      .reduce( (res, lang) => {\n        return {\n          ...res,\n          [`Change language to ${lang}`]: `Change language to ${lang}`,\n        }\n      }, {}),\n  },\n\n  ErrorCatcher: {\n    \"Something went wrong :(\": \"Something went wrong :(\",\n    \"Try reloading the app to recover from it\": \"Try reloading the app to recover from it\",\n  },\n\n  Rac1ByDate: {\n    ...common,\n  },\n\n  Rac1Directe: {\n    ...common,\n    \"Rac1 live\": \"Rac1 Live\",\n  },\n\n  ReloadButton: {\n    \"Reload\": \"Reload\",\n  },\n\n  Button: {\n    ...actions,\n  },\n\n  About: {\n    ...common,\n    \"Play Rac1 catalan radio station podcasts or live emission.\": \"Play Rac1 catalan radio station podcasts or live emission.\",\n    \"I made this app for fun and for learning how to use the React library.\": \"I made this app for fun and for learning how to use the React library.\",\n    \"This app is served using GitHub Pages.\": \"This app is served using GitHub Pages.\",\n    \"Want more information?\": \"Want more information?\",\n    \"The source code is publicly available.\": \"The source code is publicly available.\",\n    \"There, you can find more information about how it has been done, licence and credits.\": \"There, you can find more information about how it has been done, licence and credits.\",\n    \"Found a bug? Have a petition?\": \"Found a bug? Have a petition?\",\n    \"Create an issue at GitHub.\": \"Create an issue at GitHub.\",\n  },\n\n  Help: {\n    ...common,\n    ...actions,\n    \"Key bindings:\": \"Key bindings:\",\n    \"Good UI controls for use with mobile devices: big buttons, disabled key bindings.\": \"Good UI controls for use with mobile devices: big buttons, disabled key bindings.\",\n  },\n\n  Cookies: {\n    ...common,\n    ...tracking,\n    \"This site uses cookies and other tracking technologies to assist with navigation and your ability to provide feedback, analyse your use of our products and services, assist with our promotional and marketing efforts, and provide content from third parties.\": \"This site uses cookies and other tracking technologies to assist with navigation and your ability to provide feedback, analyse your use of our products and services, assist with our promotional and marketing efforts, and provide content from third parties.\",\n    \"We need to reload the page when you change this option in order to ensure it is taken completely into account.\": \"We need to reload the page when you change this option in order to ensure it is taken completely into account.\",\n  },\n}\n","const actions = {\n    \"Key\": \"Tecla\",\n    \"Keys\": \"Tecles\",\n    \"SHIFT\": \"MAJÚS\",\n    \"PageUp\": \"Pàgina amunt\",\n    \"PageDown\": \"Pàgina avall\",\n    \"ArrowUp\": \"Fletxa amunt\",\n    \"ArrowDown\": \"Fletxa avall\",\n    \"ArrowRight\": \"Fletxa dreta\",\n    \"ArrowLeft\": \"Fletxa esquerra\",\n    \"Space\": \"Espai\",\n    \"Enter\": \"Enter\",\n    \"Prev\": \"Ant.\",\n    \"Next\": \"Seg.\",\n    \"More\": \"Més\",\n    \"Less\": \"Menys\",\n    \"Play\": \"Play\",\n    \"Pause\": \"Pausa\",\n    \"Mute\": \"Silenciar\",\n    \"Unmute\": \"Act. so\",\n    \"Adjust volume\": \"Adjusta el volum\",\n    \"Remove last\": \"Elimina últ\",\n    \"Remove last podcast from playlist\": \"Elimina l'últim podcast de la llista de reproducció\",\n    \"Play previous podcast\": \"Reprodueix el podcast anterior\",\n    \"Play next podcast\": \"Reprodueix el podcast següent\",\n    \"Toggle mute status\": \"Canvia l'estat del silenci\",\n    \"Toggle Play/Pause\": \"Canvia Reprodueix/Pausa\",\n    \"Update the list of podcasts\": \"Actualitza la llista de podcasts\",\n    \"Show more controls\": \"Mostra més controls\",\n    \"Show less controls\": \"Mostra menys controls\",\n    ...[\n        { symbol: '10s', orig: '10 seconds', trans: '10 segons'},\n        { symbol: '60s', orig: '1 minute'  , trans: '1 minut'},\n        { symbol: '10m', orig: '10 minutes', trans: '10 minuts'},\n      ].reduce( (res, item) => {\n        return {\n          ...res,\n          [`-${ item.symbol }`]: `-${ item.symbol }`,\n          [`+${ item.symbol }`]: `+${ item.symbol }`,\n          [`Go backwards ${ item.orig }`]: `Retrocedir ${ item.trans }`,\n          [`Go forward ${ item.orig }`  ]: `Avançar ${ item.trans }`,\n        }\n      }, {}),\n};\n\nconst common = {\n    \"Rac1 Radio Podcasts Player\": \"Reproductor de podcasts de Rac1\",\n    \"Live\": \"En directe\",\n    \"About\": \"Quant a...\",\n    \"Help\": \"Ajuda\",\n    \"Privacy policy\": \"Política de privacitat\",\n    \"Yes\": \"Si\",\n    \"No\": \"No\",\n    \"or\": \"o\",\n};\n\nconst tracking = {\n    \"Allow tracking\": \"Seguiment\",\n    \"Allow tracking user interactions for usage analysis\": \"Permet el seguiment de les accions de l'usuari amb fins d'anàlisi d'ús\",\n};\n\nexport default {\n  locale: \"fr\", // :(\n\n  AppMenu: {\n    ...common,\n    ...tracking,\n    \"By date\": \"Per data\",\n    \"Update!\": \"Actualitza!\",\n    \"New version available!\": \"Nova versió disponible!\",\n    \"Language\": \"Idioma\",\n    \"Change application language\": \"Canvia l'idioma de l'aplicació\",\n    ...['Català', 'Castellano', 'English']\n      .reduce( (res, lang) => {\n        return {\n          ...res,\n          [`Change language to ${lang}`]: `Canvia l'idioma a ${lang}`,\n        }\n      }, {}),\n  },\n\n  ErrorCatcher: {\n    \"Something went wrong :(\": \"Alguna cosa ha anat malament :(\",\n    \"Try reloading the app to recover from it\": \"Intenta recarregar l'aplicació per a continuar\",\n  },\n\n  Rac1ByDate: {\n    ...common,\n  },\n\n  Rac1Directe: {\n    ...common,\n    \"Rac1 live\": \"Rac1 en Directe\",\n  },\n\n  ReloadButton: {\n    \"Reload\": \"Recarrega\",\n  },\n\n  Button: {\n    ...actions,\n  },\n\n  About: {\n    ...common,\n    \"Play Rac1 catalan radio station podcasts or live emission.\": \"Reprodueix els podcasts o l'emissió en directe de l'estació de ràdio Rac1\",\n    \"I made this app for fun and for learning how to use the React library.\": \"He fet aquesta aplicació per diversió i per a aprendre a usar la llibreria React.\",\n    \"This app is served using GitHub Pages.\": \"Aquesta pàgina es serveix usant GitHub Pages.\",\n    \"Want more information?\": \"Vols més informació?\",\n    \"The source code is publicly available.\": \"El codi font està disponible públicament.\",\n    \"There, you can find more information about how it has been done, licence and credits.\": \"Allà trobaràs més informació sobre com s'ha fet, llicències i crèdits.\",\n    \"Found a bug? Have a petition?\": \"Has trobat un error? Tens una petició?\",\n    \"Create an issue at GitHub.\": \"Crea una incidència a GitHub\",\n  },\n\n  Help: {\n    ...common,\n    ...actions,\n    \"Key bindings:\": \"Associacions del teclat:\",\n    \"Good UI controls for use with mobile devices: big buttons, disabled key bindings.\": \"Bons controls d'interfície per a ús amb dispositius mòbils: grans butons, associacions de teclat deshabilitades.\",\n  },\n\n  Cookies: {\n    ...common,\n    ...tracking,\n    \"This site uses cookies and other tracking technologies to assist with navigation and your ability to provide feedback, analyse your use of our products and services, assist with our promotional and marketing efforts, and provide content from third parties.\": \"Aquest lloc utilitza cookies i altres tecnologies de seguiment per ajudar-vos amb la navegació i la vostra capacitat de proporcionar comentaris, analitzar l'ús dels nostres productes i serveis, ajudar-vos amb els nostres esforços promocionals i de màrqueting i proporcionar continguts de tercers.\",\n    \"We need to reload the page when you change this option in order to ensure it is taken completely into account.\": \"Hem de tornar a carregar la pàgina quan canvieu aquesta opció per assegurar-se que es tingui en compte completament.\",\n  },\n}\n","const actions = {\n    \"Key\": \"Tecla\",\n    \"Keys\": \"Tecles\",\n    \"SHIFT\": \"MAYÚS\",\n    \"PageUp\": \"Página arriba\",\n    \"PageDown\": \"Página abajo\",\n    \"ArrowUp\": \"Flecha arriba\",\n    \"ArrowDown\": \"Flecha abajo\",\n    \"ArrowRight\": \"Flecha derecha\",\n    \"ArrowLeft\": \"Flecha izquierda\",\n    \"Space\": \"Espacio\",\n    \"Enter\": \"Enter\",\n    \"Prev\": \"Ant.\",\n    \"Next\": \"Sig.\",\n    \"More\": \"Más\",\n    \"Less\": \"Menos\",\n    \"Play\": \"Play\",\n    \"Pause\": \"Pausa\",\n    \"Mute\": \"Silenciar\",\n    \"Unmute\": \"Act. sonido\",\n    \"Adjust volume\": \"Ajustar el volumen\",\n    \"Remove last\": \"Eliminar últ\",\n    \"Remove last podcast from playlist\": \"Eliminar el último podcast de la lista de reproducción\",\n    \"Play previous podcast\": \"Reproducir el podcast anterior\",\n    \"Play next podcast\": \"Reproducir el podcast seguinte\",\n    \"Toggle mute status\": \"Canviar el estado del silencio\",\n    \"Toggle Play/Pause\": \"Canviar Reproducir/Pausa\",\n    \"Update the list of podcasts\": \"Actualizar la lista de podcasts\",\n    \"Show more controls\": \"Mostrar más controles\",\n    \"Show less controls\": \"Mostrar menos controles\",\n    ...[\n        { symbol: '10s', orig: '10 seconds', trans: '10 segundos'},\n        { symbol: '60s', orig: '1 minute'  , trans: '1 minuto'},\n        { symbol: '10m', orig: '10 minutes', trans: '10 minutos'},\n      ].reduce( (res, item) => {\n        return {\n          ...res,\n          [`-${ item.symbol }`]: `-${ item.symbol }`,\n          [`+${ item.symbol }`]: `+${ item.symbol }`,\n          [`Go backwards ${ item.orig }`]: `Retroceder ${ item.trans }`,\n          [`Go forward ${ item.orig }`  ]: `Avanzar ${ item.trans }`,\n        }\n      }, {}),\n};\n\nconst common = {\n    \"Rac1 Radio Podcasts Player\": \"Reproductor de podcasts de Rac1\",\n    \"Live\": \"En directo\",\n    \"About\": \"Acerca de...\",\n    \"Help\": \"Ayuda\",\n    \"Privacy policy\": \"Política de privacidad\",\n    \"Yes\": \"Sí\",\n    \"No\": \"No\",\n    \"or\": \"o\",\n};\n\nconst tracking = {\n  \"Allow tracking\": \"Seguimiento\",\n  \"Allow tracking user interactions for usage analysis\": \"Permitir el seguimiento de las acciones del usuario con fines de análisis de uso\",\n};\n\nexport default {\n  locale: \"es-es\",\n\n  AppMenu: {\n    ...common,\n    ...actions,\n    ...tracking,\n    \"By date\": \"Por fecha\",\n    \"Update!\": \"¡Actualiza!\",\n    \"New version available!\": \"¡Nueva versión disponible!\",\n    \"Language\": \"Idioma\",\n    \"Change application language\": \"Cambiar el idioma de la aplicación\",\n    ...['Català', 'Castellano', 'English']\n      .reduce( (res, lang) => {\n        return {\n          ...res,\n          [`Change language to ${lang}`]: `Cambiar idioma a ${lang}`,\n        }\n      }, {}),\n  },\n\n  ErrorCatcher: {\n    \"Something went wrong :(\": \"Alguna cosa ha fallado :(\",\n    \"Try reloading the app to recover from it\": \"Intenta recargar la aplicación para continuar\",\n  },\n\n  Rac1ByDate: {\n    ...common,\n  },\n\n  Rac1Directe: {\n    ...common,\n    \"Rac1 live\": \"Rac1 en Directo\",\n  },\n\n  ReloadButton: {\n    \"Reload\": \"Recarga\",\n  },\n\n  Button: {\n    ...actions,\n  },\n\n  About: {\n    ...common,\n    \"Play Rac1 catalan radio station podcasts or live emission.\": \"Reproducir los podcasts o la emisión en directo de la estación de radio Rac1\",\n    \"I made this app for fun and for learning how to use the React library.\": \"He hecho esta aplicación por diversión y para aprender a usar la libreria React.\",\n    \"This app is served using GitHub Pages.\": \"Esta página se sirve usando GitHub Pages.\",\n    \"Want more information?\": \"¿Quieres más información?\",\n    \"The source code is publicly available.\": \"El código fuente está disponible públicamente.\",\n    \"There, you can find more information about how it has been done, licence and credits.\": \"Allí encontrarás más información sobre como se ha hecho, licències y créditos.\",\n    \"Found a bug? Have a petition?\": \"¿Has encontrado un error? ¿Tienes una petición?\",\n    \"Create an issue at GitHub.\": \"Crea una incidencia en GitHub\",\n  },\n\n  Help: {\n    ...common,\n    ...actions,\n    \"Key bindings:\": \"Asociaciones del teclado:\",\n    \"Good UI controls for use with mobile devices: big buttons, disabled key bindings.\": \"Buenos controles de interfaz para usar con dispositivos móviles: grandes botones, asociacions de teclado deshabilitadas.\",\n  },\n\n  Cookies: {\n    ...common,\n    ...tracking,\n    \"This site uses cookies and other tracking technologies to assist with navigation and your ability to provide feedback, analyse your use of our products and services, assist with our promotional and marketing efforts, and provide content from third parties.\": \"Este sitio utiliza cookies y otras tecnologías de seguimiento para ayudar con la navegación y su capacidad de proporcionar comentarios, analizar el uso de nuestros productos y servicios, ayudar con nuestros esfuerzos de promoción y marketing, y proporcionar contenido de terceros.\",\n    \"We need to reload the page when you change this option in order to ensure it is taken completely into account.\": \"Necesitamos volver a cargar la página cuando cambie esta opción para garantizar que se tenga en cuenta por completo.\",\n  },\n}\n","import en_en from \"./en-en.lang.js\";\nimport ca_es from \"./ca-es.lang.js\";\nimport es_es from \"./es-es.lang.js\";\n\nexport default {\n  'en'   : en_en,\n  'en-en': en_en,\n  'en-us': en_en,\n  'en-au': en_en,\n  'ca'   : ca_es,\n  'ca-es': ca_es,\n  'es'   : es_es,\n  'es-es': es_es,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\n\nimport Storage from 'react-simple-storage';\nimport { TranslatorProvider } from 'react-translate';\nimport available from './i18n/available';\n\nimport AppMenu from './AppMenu';\nimport ModalRouter from './ModalRouter';\nimport GAListener from './GAListener';\nimport ErrorCatcher from './ErrorCatcher';\nimport Rac1Directe from './Rac1Directe';\nimport Rac1ByDate from './Rac1ByDate';\nimport Cookies from './Cookies';\nimport About from './About';\nimport Help from './Help';\nimport botCheck from './botCheck';\n\nimport './App.css';\n\nclass App extends React.Component {\n\n  constructor() {\n    super();\n\n    // Get DoNotTrack user preference\n    // Deactivate tracking by default to users with DNT and to all bots\n    this.isBot = botCheck();\n    const dnt = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;\n    this.dnt = process.env.NODE_ENV === 'test' || dnt === '1' || dnt === 'yes' || this.isBot;\n\n    // Fix bad browser encoding HASH\n    const decoded = decodeURIComponent(global.location.hash);\n    if ( decoded !==  '' && decoded !== global.location.hash ) {\n      const hash = decoded.replace(/[^#]*(#.*)$/, '$1');\n      global.location.replace(hash);\n    }\n\n    this.registration = false;\n    this.state = {\n      initializing: true,\n      newServiceWorkerDetected: false,\n      language: available.hasOwnProperty(navigator.language) ? navigator.language : 'en-en',\n      trackingSeen: false,\n      trackOptIn: !this.dnt,\n      isBot: this.isBot,\n      dnt: this.dnt,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('onNewServiceWorker', this.handleNewServiceWorker.bind(this));\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('onNewServiceWorker', this.handleNewServiceWorker.bind(this));\n  }\n\n  handleNewServiceWorker(event) {\n    this.registration = event.detail.registration;\n    this.setState({\n      ...this.state,\n      newServiceWorkerDetected: true,\n    });\n  }\n\n  render() {\n    const date = new Date();\n    const todayStr = `/${date.getFullYear()}/${1 + date.getMonth()}/${date.getDate()}/0/0`;\n    const { newServiceWorkerDetected, language, trackOptIn, trackingSeen, initializing } = this.state;\n    const translations = available[language];\n    const withErrorCatcher = (origin, component) => <ErrorCatcher {...{ origin , key: origin }}>{ component }</ErrorCatcher>;\n\n    return (\n      <TranslatorProvider translations={ translations }>\n        <Router>\n          <div className='App' id='router-container'>\n            {/* Persistent state saver into localStorage */}\n            <Storage\n              parent={ this }\n              prefix='App'\n              blacklist={ ['newServiceWorkerDetected'] }\n              onParentStateHydrated={ () => this.setState({ initializing: false }) }\n            />\n\n            {/* GoogleAnalytics event provider and route change detector */}\n            <GAListener language={ language } trackOptIn={ trackOptIn } >\n\n              {/*\n                  Modal routes hash paths ;)\n                  Force initial modal to 'cookies' if all these conditions are true:\n                  - Cookies modal not seen yet\n                  - App completely initialized\n                  - User is not a Bot\n                  - User does not have DoNotTrack activated (consider bots as if they have DNT)\n              */}\n              <ModalRouter\n                initializing={ initializing }\n                force={ !trackingSeen && !initializing && !this.isBot ? 'cookies' : false }\n              >\n                <Route\n                  exact\n                  path='about'\n                  render={ props => withErrorCatcher('About', <About />) }\n                />\n                <Route\n                  exact\n                  path='help'\n                  render={ props => withErrorCatcher('Help', <Help />) }\n                />\n                <Route\n                  exact\n                  path='cookies'\n                  render={ props => withErrorCatcher('Cookies',\n                    <Cookies\n                      { ...{ trackOptIn, trackingSeen } }\n                      onTrackingSeen={ seen =>\n                        this.setState({...this.state, trackingSeen: seen })\n                      }\n                      onTrackOptIn={ track =>\n                        this.setState({...this.state, trackOptIn: track })\n                      } /> )}\n                />\n\n              </ModalRouter>\n\n              {/* Menu */}\n              <ErrorCatcher origin='AppMenu'>\n                <AppMenu\n                  newServiceWorkerDetected={ newServiceWorkerDetected }\n                  onLoadNewServiceWorkerAccept={ this.handleLoadNewServiceWorkerAccept.bind(this) }\n                  language={ language }\n                  onLanguageChange={ this.handleLanguageChange.bind(this) }\n                  trackOptIn={ trackOptIn }\n                />\n              </ErrorCatcher>\n\n              {/* App Route */}\n              <header className='App-header' id='page-wrap'>\n                <Switch>\n                  <Route\n                    exact\n                    path={ '/live' }\n                    render={ props => withErrorCatcher('Rac1Live', <Rac1Directe { ...props } />) } />\n\n                  <Route\n                    exact\n                    path={ '/(directe|directo)' }\n                  >\n                    <Redirect to={{ pathname: 'live' }} />\n                  </Route>\n\n                  <Route\n                    path={ '/:year(\\\\d{4})/:month(\\\\d{1,2})/:day(\\\\d{1,2})/:hour(\\\\d{1,2})/:minute(\\\\d{1,2})' }\n                    render={ props => withErrorCatcher('Rac1ByDate 1', <Rac1ByDate { ...props } />) } />\n\n                  <Route\n                    path={ '/:year(\\\\d{4})/:month(\\\\d{1,2})/:day(\\\\d{1,2})/:hour(\\\\d{1,2})' }\n                    render={ props => withErrorCatcher('Rac1ByDate 2', <Rac1ByDate { ...props } />) } />\n\n                  <Route\n                    path={ '/:year(\\\\d{4})/:month(\\\\d{1,2})/:day(\\\\d{1,2})' }\n                    render={ props => withErrorCatcher('Rac1ByDate 3', <Rac1ByDate { ...props } />) } />\n\n                  {/* Set default date to today */}\n                  <Route\n                    exact\n                    path={ ':all(.*)' }\n                    render={ ({ match, ...props }) => {\n                      return <Redirect\n                        push\n                        to={{\n                          pathname: todayStr,\n                          hash: props.location.hash.replace('#',''),\n                        }}\n                      />\n                    }}\n                  />\n                </Switch>\n              </header>\n            </GAListener>\n          </div>\n        </Router>\n      </TranslatorProvider>\n    )\n  }\n\n  handleLoadNewServiceWorkerAccept() {\n    this.props.onLoadNewServiceWorkerAccept(this.registration);\n  }\n\n  handleLanguageChange(language) {\n    this.setState({\n      ...this.state,\n      language,\n    });\n  }\n}\n\nApp.defaultProps = {\n  onLoadNewServiceWorkerAccept: registration => {},\n};\n\nApp.propTypes = {\n  onLoadNewServiceWorkerAccept: PropTypes.func.isRequired,\n};\n\nexport default App;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\n\nimport { translate } from 'react-translate'\nimport Switch from 'rc-switch';\nimport 'rc-switch/assets/index.css';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faCalendarAlt as faByDate,\n  faBroadcastTower as faLive,\n  faArrowAltCircleUp as faUpgrade,\n  faInfoCircle as faAbout,\n  faQuestionCircle as faHelp,\n  faBalanceScale as faCookies,\n  faLanguage,\n  faCaretRight,\n  faCaretDown,\n} from '@fortawesome/free-solid-svg-icons'\n\nimport MediaQuery from 'react-responsive';\nimport {\n  slide as SmallMenu,\n  scaleRotate as BigMenu,\n} from 'react-burger-menu'\n\nimport { withGAEvent } from './GAListener';\nimport './AppMenu.css';\n\nclass AppMenu extends React.Component {\n  constructor(props) {\n    super();\n\n    this.state = {\n      isOpen: false,\n      isLanguageOpen: false,\n    };\n  }\n\n  renderLinks() {\n    const { newServiceWorkerDetected, trackOptIn, children, t } = this.props;\n    const { isLanguageOpen } = this.state;\n\n    return (\n      <div\n        style={{\n          padding: '3em 1em 1em',\n          background: `url(${ process.env.PUBLIC_URL }/logo-rac1.png)`,\n          backgroundSize: 50,\n          backgroundRepeat: 'no-repeat',\n          backgroundPosition: 'center .5em',\n        }}>\n        <NavLink\n          className='bm-item'\n          onClick={ this.handleClick.bind(this) }\n          isActive={ (match, location) => location.pathname.match(/\\/\\d{4}(\\/\\d{1,2}){2,4}(#.*)?$/) }\n          to=\"/\"\n          title={ t(\"Play podcasts filtered by date and ordered chronologically\") }\n        >\n          <FontAwesomeIcon icon={ faByDate } style={{ marginRight: '.5em' }} />\n          <span>{ t(\"By date\") }</span>\n        </NavLink>\n        <NavLink\n          className='bm-item'\n          onClick={ this.handleClick.bind(this) }\n          to=\"/live\"\n          title={ t(\"Play live stream\") }\n        >\n          <FontAwesomeIcon icon={ faLive } style={{ marginRight: '.5em' }} />\n          <span>{ t(\"Live\") }</span>\n        </NavLink>\n        <NavLink\n          className='bm-item'\n          onClick={ this.handleClickModal.bind(this) }\n          to=\"#about\"\n          isActive={ (match, location) => location.hash === '#about' }\n          title={ t(\"Information about this app and its author\") }\n        >\n          <FontAwesomeIcon icon={ faAbout } style={{ marginRight: '.5em' }} />\n          <span>{ t(\"About\") }</span>\n        </NavLink>\n        <NavLink\n          className='bm-item'\n          onClick={ this.handleClickModal.bind(this) }\n          to=\"#help\"\n          isActive={ (match, location) => location.hash === '#help' }\n          title={ t(\"Help using this app\") }\n        >\n          <FontAwesomeIcon icon={ faHelp } style={{ marginRight: '.5em' }} />\n          <span>{ t(\"Help\") }</span>\n        </NavLink>\n        <NavLink\n          className='bm-item'\n          onClick={ this.handleClickModal.bind(this) }\n          to=\"#cookies\"\n          isActive={ (match, location) => location.hash === '#cookies' }\n          title={ t(\"Allow tracking user interactions for usage analysis\") }\n        >\n          <span style={{\n            display: 'flex',\n            alignItems: 'center',\n          }}>\n            <FontAwesomeIcon icon={ faCookies } style={{ marginRight: '.5em' }} />\n            <span style={{ marginRight: '.5em' }} >{ t(\"Privacy policy\") }</span>\n            <Switch\n              onChange={ () => {} }\n              disabled={ false }\n              checkedChildren={ t('Yes') }\n              unCheckedChildren={ t('No') }\n              checked={ trackOptIn }\n              style={{ minWidth: '3.5em' }}\n            />\n          </span>\n        </NavLink>\n        { newServiceWorkerDetected ? (\n            <a\n              href='/'\n              className='bm-item'\n              style={{ color: 'green' }}\n              title={ t(\"New version available!\") }\n              onClick={ this.handleClickUpdate.bind(this) }\n              >\n              <FontAwesomeIcon icon={ faUpgrade } style={{ marginRight: '.5em' }} />\n              <span>{ t(\"Update!\") }</span>\n            </a>\n          ) : null\n        }\n        <a\n          href='/'\n          className='bm-item'\n          title={ t(\"Change application language\") }\n          onClick={ this.handleLanguageSectionClick.bind(this) }\n          >\n          <FontAwesomeIcon icon={ faLanguage } style={{ marginRight: '.5em' }} />\n          <span>{ t(\"Language\") }</span>\n          <FontAwesomeIcon\n            icon={ isLanguageOpen ? faCaretDown : faCaretRight }\n            style={{ marginLeft: '.5em' }} />\n        </a>\n        { isLanguageOpen ? (\n          <ul style={{\n            listStyleType: 'none',\n            marginTop: 0,\n          }}>\n            { [\n                {code: 'ca', name: \"Català\"},\n                {code: 'es', name: \"Castellano\"},\n                {code: 'en', name: \"English\"},\n              ].map( lang => (\n                <li key={ lang.code } >\n                  <a\n                    href='/'\n                    className='bm-item'\n                    title={ t(`Change language to ${lang.name}`) }\n                    onClick={ this.handleClickLanguage.bind(this, lang.code) }\n                  >\n                    <span>{ lang.name }</span>\n                  </a>\n                </li>\n              ))\n            }\n          </ul>\n        ) : null }\n        { children }\n      </div>\n    )\n  }\n\n  render() {\n    const { newServiceWorkerDetected } = this.props;\n    const { isOpen } = this.state;\n    const extraClass = newServiceWorkerDetected ? ' news' : '';\n\n    return (\n      <MediaQuery minWidth={ 1024 }>\n        { matches => {\n          const Menu = matches ? BigMenu : SmallMenu;\n\n          return (\n            <div className={ `menu-${matches ? 'big' : 'small'}${extraClass}` }>\n              <Menu\n                pageWrapId='page-wrap'\n                outerContainerId='router-container'\n                isOpen={ isOpen }\n                onStateChange={ state => this.handleMenuStateChange(state.isOpen) }\n                disableCloseOnEsc\n              >\n                { this.renderLinks() }\n              </Menu>\n            </div>\n          )\n        }}\n      </MediaQuery>\n    )\n  }\n\n  handleMenuStateChange(isOpen) {\n    if ( isOpen !== this.state.isOpen ) {\n      this.setState({\n        isOpen,\n      });\n      this.props.sendEvent('Menu', 'Change open state', `Menu is open: ${isOpen}`);\n    }\n  }\n\n  handleClick(e) {\n    this.handleMenuStateChange(false);\n    this.props.sendEvent('Menu', 'Click link', `${e.currentTarget.text}`);\n  }\n\n  handleClickModal(e) {\n    this.handleMenuStateChange(false);\n    this.props.sendEvent('Menu', 'Click modal', `${e.currentTarget.text}`);\n  }\n\n  handleLanguageSectionClick(e) {\n    const { isLanguageOpen } = this.state;\n    e.preventDefault();\n    this.setState({\n      ...this.state,\n      isLanguageOpen: !isLanguageOpen\n    });\n  }\n\n  handleClickLanguage(language, e) {\n    e.preventDefault();\n    this.handleMenuStateChange(false);\n    this.props.onLanguageChange(language);\n    this.props.sendEvent('Menu', 'Change language', `Current language: ${language}`);\n  }\n\n  handleClickUpdate(e) {\n    e.preventDefault();\n    this.handleMenuStateChange(false);\n    this.props.onLoadNewServiceWorkerAccept();\n    this.props.sendEvent('Menu', 'Update!');\n  }\n}\n\nAppMenu.defaultProps = {\n  onLoadNewServiceWorkerAccept: () => {},\n  newServiceWorkerDetected: false,\n  onLanguageChange: language => {},\n  trackOptIn: false,\n  sendEvent: (origin, help, status) => {},\n};\n\nAppMenu.propTypes = {\n  onLoadNewServiceWorkerAccept: PropTypes.func.isRequired,\n  newServiceWorkerDetected: PropTypes.bool.isRequired,\n  onLanguageChange: PropTypes.func.isRequired,\n  trackOptIn: PropTypes.bool.isRequired,\n  sendEvent: PropTypes.func.isRequired,\n};\n\nexport default translate('AppMenu')(withGAEvent(AppMenu));\n","import React from 'react';\nimport {\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\nimport Modal from 'react-modal';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faTimesCircle as faClose,\n} from '@fortawesome/free-solid-svg-icons'\n\nimport './ModalRouter.css';\n\nif ( process.env.NODE_ENV !== 'test' ) {\n  Modal.setAppElement('#root')\n}\n\nclass CloseModal extends React.PureComponent {\n  constructor(props) {\n    super();\n\n    if ( !('history' in props) ||\n         props.history.location.hash !== '' ) {\n      global.setTimeout( () => props.history.push('#'), 10);\n    }\n  }\n\n  render() {\n    return null;\n  }\n};\n\nclass ModalRouterInner extends React.PureComponent {\n\n  constructor(props) {\n    super();\n\n    // Set initial state\n    this.history = props.history;\n    this.state = {\n      ...this.getPathState(props.location),\n      autoForce: false,\n      forced: props.force,\n    };\n\n    // Register history change event listener\n    this.unlisten = this.history.listen(this.handleHistoryChange.bind(this));\n  }\n\n  getPathState(location) {\n    const path = location.hash.replace(/[^#]*#(.*)$/, '$1');\n    return {\n      modalIsOpen: !!path.length && path !== 'close',\n      path,\n      initialPath: this.state ? this.state.initialPath : path,\n    };\n  }\n\n  componentWillUnmount() {\n    // Unregister history change event listener\n    this.unlisten();\n    if ( this.timer ) {\n      global.clearTimeout( this.timer );\n    }\n  }\n\n  // Force user to different URLs\n  componentDidUpdate(prevProps, prevState) {\n\n    // Remember old URL when forcing\n    if ( this.props.force !== false &&\n         this.props.force !== prevProps.force &&\n         this.state.forced !== this.props.force ) {\n      this.setState({ forced: this.props.force });\n    }\n\n    // Clear autoForce after it has been forced\n    if ( this.state.autoForce === this.state.path ) {\n      this.setState({ autoForce: false });\n    }\n\n    // Force old modal after forcing another (do auto force)\n    if ( prevState.path === this.state.forced &&\n         prevState.path !== this.state.path &&\n         this.state.initialPath !== false &&\n         this.state.initialPath.length > 1 &&\n         this.state.autoForce !== this.state.initialPath ) {\n      this.setState({ autoForce: this.state.initialPath });\n    }\n  }\n\n  openModal() {\n    this.setState({modalIsOpen: true})\n  }\n\n  closeModal(propsClose={}) {\n    if ( !('history' in propsClose) ||\n         propsClose.history.location.hash !== '' ) {\n\n      if(!this.timer) {\n        this.timer = global.setTimeout( () => {\n          this.history.push('#');\n          this.timer = undefined;\n        }, 10);\n      }\n    }\n  }\n\n  handleHistoryChange(location, action) {\n    const state = this.getPathState(location);\n    this.setState(state);\n  }\n\n  render() {\n    const { children, initializing, force } = this.props;\n    const { autoForce, path, forced } = this.state;\n\n    if ( initializing ) {\n      return null;\n    }\n\n    // Redirect to forced URL\n    if ( force !== false && force !== path ) {\n      return <Redirect push to={{ hash: force }} />;\n    }\n\n    // If previously have been forced when showing a modal,\n    // force to go back there once the forced has been visited\n    if (  autoForce !== false &&\n          autoForce !== path &&\n          forced !== path ) {\n      return <Redirect push to={{ hash: autoForce }} />;\n    }\n\n    return (\n      <Modal\n        isOpen={ this.state.modalIsOpen }\n        onAfterOpen={ this.openModal.bind(this) }\n        onRequestClose={ this.closeModal.bind(this) }\n        contentLabel='Dialog'\n        closeTimeoutMS={ 200 }\n        aria={{\n          labelledby: 'modal_heading',\n          describedby: 'modal_description',\n        }}\n        style={{\n          overlay: {\n            zIndex: 2000,\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n          },\n          content: {\n            top: 'auto',\n            left: 'auto',\n            right: 'auto',\n            bottom: 'auto',\n            borderRadius: '1em',\n            padding: '1em 2em 2em 2em',\n            margin: '0 -.25em 0 0',\n            maxHeight: '80vh',\n            minHeight: '50vh',\n            maxWidth: '70vw',\n            minWidth: '50vw',\n            textAlign: 'center',\n          },\n        }}\n      >\n        <button\n          style={{\n            position: 'absolute',\n            right: '.5em',\n            background: 'transparent',\n            border: '0',\n            color: '#c33',\n            fontSize: '20px',\n            cursor: 'pointer',\n          }}\n          title={ 'Close modal' }\n          aeia-label={ 'Close modal' }\n          onClick={ () => this.closeModal() }\n        >\n          <FontAwesomeIcon icon={ faClose } />\n        </button>\n        <Switch location={ { pathname: path } } >\n\n          { children }\n\n          {/* Close modal if nothing is shown */}\n          <Route render={ props => <CloseModal { ...props } /> } />\n        </Switch>\n      </Modal>\n    );\n  }\n}\n\nclass ModalRouter extends React.PureComponent {\n  render() {\n    const { children, ...rest } = this.props;\n    return (\n      <Route\n        path=':path(.*)'\n        render={ props => <ModalRouterInner { ...{ children, ...rest, ...props } } /> }\n      />\n    );\n  }\n}\n\nexport default ModalRouter;\n","import React, { Component } from 'react';\n\nimport { translate } from \"react-translate\"\nimport ReactAudioPlayer from 'react-audio-player';\n\nimport Controls from './Controls';\n\nclass Rac1Directe extends Component {\n  // Initial state\n  state = {\n    volume: 1,\n  };\n\n  player() {\n    return this._player.audioEl;\n  }\n\n  constructor(props, history) {\n    super();\n\n    this.history = props.history;\n\n    // Initial state\n    this.state = {\n      volume: 1,\n      muted: false,\n      isPlaying: false,\n    };\n  }\n\n  componentDidMount() {\n    const { t } = this.props;\n    this.initialTitle = document.title;\n    document.title = `${ t(this.initialTitle) } - ${ t(\"Live\") }`;\n  }\n\n  componentWillUnmount() {\n    // Unregister player event listeners\n    if ( this._player && this._player.removeEventListener ) {\n      this._player.removeEventListener('onPlay', this.handlePlayStatusChange.bind(this, true));\n      this._player.removeEventListener('onPause', this.handlePlayStatusChange.bind(this, false));\n    }\n\n    // Reset initial title\n    document.title = this.initialTitle;\n  }\n\n  render() {\n    const { volume, muted, isPlaying } = this.state;\n    const { t } = this.props;\n    const currentPath = 'http://rac1.radiocat.net/;*.nsv';\n    const autoplay = true;\n    const title = t('Rac1 live');\n\n    return (\n      <React.Fragment>\n        <h3>{ title }</h3>\n        <Controls\n          getPlayer={ this.player.bind(this) }\n          volume={ volume }\n          muted={ muted }\n          allowFocus={ (el) => el.className.match( /rc-slider-handle/ ) }\n          isPlaying={ isPlaying }\n          onSetVolume={ volume => this.setState({ ...this.state, volume }) }\n          onSetMuted={ muted => this.setState({ ...this.state, muted }) }\n          hideButtons={['Prev', 'Next', '-10m', '-60s', '-10s', '+10m', '+60s', '+10s']}\n        />\n        <ReactAudioPlayer\n          ref={(element) => { this._player = element; }}\n          style={{ width: '100%' }}\n          src={ currentPath }\n          autoPlay={ autoplay }\n          title={ title }\n          controls\n          controlsList='nodownload'\n          preload={ (autoplay ? 'auto' : 'metadata') }\n          volume={ volume }\n          muted={ muted }\n          onPlay={ this.handlePlayStatusChange.bind(this, true) }\n          onPause={ this.handlePlayStatusChange.bind(this, false) }\n          onVolumeChanged={ e => this.setState({\n            ...this.state,\n            volume: e.currentTarget.volume,\n            muted: e.currentTarget.muted,\n          }) }\n        />\n      </React.Fragment>\n    );\n  }\n\n  handlePlayStatusChange(isPlaying) {\n    this.setState({\n      ...this.state,\n      isPlaying,\n    });\n  }\n}\n\nexport default translate('Rac1Directe')(Rac1Directe);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { translate } from 'react-translate'\nimport Switch from 'rc-switch';\nimport 'rc-switch/assets/index.css';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faBalanceScale as faCookies\n} from '@fortawesome/free-solid-svg-icons'\n\nimport { withGAEvent } from './GAListener';\n\nimport raw from \"raw.macro\";\nconst legal = raw(\"./legal.html\");\n\nclass Cookies extends React.Component {\n  componentDidMount() {\n    if ( !this.props.trackingSeen ) {\n      this.props.onTrackingSeen(true);\n    }\n  }\n\n  render() {\n    const { t, trackOptIn } = this.props;\n    return (\n      <React.Fragment>\n        <h1 id='modal_heading'>\n          <FontAwesomeIcon icon={ faCookies } style={{ marginRight: '.5em' }} />\n          { t(\"Privacy policy\") }\n        </h1>\n        <div id='modal_description' style={{ textAlign: 'left' }}>\n          <p>\n            { t(\"This site uses cookies and other tracking technologies to assist with navigation and your ability to provide feedback, analyse your use of our products and services, assist with our promotional and marketing efforts, and provide content from third parties.\") }\n          </p>\n          <details>\n            <div dangerouslySetInnerHTML={{ __html: legal }} />\n          </details>\n        </div>\n        <p><span style={{\n          display: 'inline-flex',\n          alignItems: 'center',\n        }}>\n          <Switch\n            onChange={ this.handleClickTrackOptIn.bind(this) }\n            disabled={ false }\n            checkedChildren={ t('Yes') }\n            unCheckedChildren={ t('No') }\n            checked={ trackOptIn }\n          />\n          <a\n            href='/'\n            className='bm-item'\n            title={ t(\"Allow tracking user interactions for usage analysis\") }\n            onClick={ this.handleClickTrackOptIn.bind(this) }\n            >\n            { t('Allow tracking') }\n          </a>\n        </span></p>\n        <p><i>\n          { t(\"We need to reload the page when you change this option in order to ensure it is taken completely into account.\") }\n        </i></p>\n      </React.Fragment>\n    )\n  }\n\n  handleClickTrackOptIn(e) {\n    if ( typeof e !== 'boolean' && 'preventDefault' in e ) {\n      e.preventDefault();\n    }\n    this.props.onTrackOptIn(!this.props.trackOptIn)\n    this.props.sendEvent('Menu', 'Change tracking preference', `Current tracking preference: ${!this.props.trackOptIn}`);\n    window.location.reload();\n  }\n}\n\nCookies.defaultProps = {\n  onTrackOptIn: optIn => {},\n  onTrackingSeen: optIn => {},\n};\n\nCookies.propTypes = {\n  onTrackingSeen: PropTypes.func.isRequired,\n  trackingSeen: PropTypes.bool.isRequired,\n  onTrackOptIn: PropTypes.func.isRequired,\n  trackOptIn: PropTypes.bool.isRequired,\n};\n\nexport default translate('Cookies')(withGAEvent(Cookies));\n","import React from 'react';\n\nimport { translate } from 'react-translate'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faInfoCircle as faAbout,\n} from '@fortawesome/free-solid-svg-icons'\n\nclass About extends React.Component {\n  render() {\n    const { t } = this.props;\n    return (\n      <React.Fragment>\n        <h1 id='modal_heading'>\n          <FontAwesomeIcon icon={ faAbout } style={{ marginRight: '.5em' }} />\n          { t(\"About\") }\n        </h1>\n        <div id='modal_description' style={{ textAlign: 'left' }}>\n          <p>{ t(\"Play Rac1 catalan radio station podcasts or live emission.\") }</p>\n          <p>\n            <span>{ t(\"I made this app for fun and for learning how to use the React library.\") } </span>\n            { t(\"This app is served using GitHub Pages.\") }\n          </p>\n          <h3>{ t(\"Want more information?\") }</h3>\n          <p><a target='_blank' rel=\"noopener noreferrer\" href='https://github.com/emibcn/Rac1.js'>{ t(\"The source code is publicly available.\") }</a> { t(\"There, you can find more information about how it has been done, licence and credits.\") }</p>\n          <h3>{ t(\"Found a bug? Have a petition?\") }</h3>\n          <p><a target='_blank' rel=\"noopener noreferrer\" href='https://github.com/emibcn/Rac1.js/issues'>{ t(\"Create an issue at GitHub.\") }</a></p>\n\n        </div>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default translate('About')(About);\n","import React from 'react';\n\nimport { translate } from 'react-translate'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faQuestionCircle as faHelp,\n  faPlay as faArrow,\n} from '@fortawesome/free-solid-svg-icons'\n\nconst Key = ({k}, props) => <pre style={{ display: 'inline' }} title={ k }>{ k }</pre>;\nconst Arrow = (props) => <FontAwesomeIcon icon={ faArrow } { ...props }  style={{ marginRight: '1em' }} />;\n\nclass Help extends React.Component {\n  render() {\n    const { t } = this.props;\n    return (\n      <React.Fragment>\n        <h1 id='modal_heading'>\n          <FontAwesomeIcon icon={ faHelp } style={{ marginRight: '.5em' }} />\n          { t(\"Help\") }\n        </h1>\n        <div id='modal_description' style={{ textAlign: 'left' }}>\n          <h3>{ t(\"Key bindings:\") }</h3>\n          <ul>\n            <li><Arrow flip='horizontal'/><Key k={ t(\"ArrowLeft\") }/>: { t(\"Go backwards 10 seconds\") }</li>\n            <li><Arrow className='fa-rotate-270'/><Key k={ t(\"ArrowUp\") }/>: { t(\"Go backwards 1 minute\") }</li>\n            <li><Key k={ t(\"PageUp\") }/>: { t(\"Go backwards 10 minutes\") }</li>\n            <li><Arrow/><Key k={ t(\"ArrowRight\") }/>: { t(\"Go forward 10 seconds\") }</li>\n            <li><Arrow className='fa-rotate-90'/><Key k={ t(\"ArrowDown\") }/>: { t(\"Go forward 1 minute\") }</li>\n            <li><Key k={ t(\"PageDown\") }/>: { t(\"Go forward 10 minutes\") }</li>\n            <li><Key k={ t(\"SHIFT\") }/> + <Key k={ t(\"ArrowUp\") }/> / <Key k={ t(\"ArrowDown\") }/> { t(\"or\") } <Key k='*'/> / <Key k='/'/>: { t(\"Adjust volume\") }</li>\n            <li><Key k={ t(\"Space\") }/> / <Key k='P'/>: { t(\"Toggle Play/Pause\") }</li>\n            <li><Key k='M'/>: { t(\"Mute\") } / { t(\"Unmute\") }</li>\n            <li><Key k={ t(\"Enter\") }/>: { t(\"Play next podcast\") }</li>\n            <li><Key k={ t(\"SHIFT\") }/> + <Key k={ t(\"Enter\") }/>: { t(\"Play previous podcast\") }</li>\n            <li><Key k='R'/>: { t(\"Update the list of podcasts\") }</li>\n          </ul>\n          <p>{ t(\"Good UI controls for use with mobile devices: big buttons, disabled key bindings.\") }</p>\n        </div>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default translate('Help')(Help);\n","const botPattern = \"(googlebot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)\";\nconst re = new RegExp(botPattern, 'i');\nconst userAgent = global.navigator.userAgent;\n\nconst botCheck = () => {\n\tif ( re.test(userAgent) ) {\n\t\t\treturn true;\n\t}\n\n  return false;\n}\n\nexport default botCheck\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'react-app-polyfill/stable';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// Callback to call when user accepts loading new service worker\n// - Send message to SW to trigger the update\n// - Once updated, reload this window to load new assets\nconst updateSW = (registration) => {\n  if( registration.waiting ) {\n\n    // When the user asks to refresh the UI, we'll need to reload the window\n    var preventDevToolsReloadLoop;\n    navigator.serviceWorker.addEventListener('controllerchange', function(event) {\n\n      // Ensure refresh is only called once.\n      // This works around a bug in \"force update on reload\".\n      if (preventDevToolsReloadLoop) {\n        return;\n      }\n\n      preventDevToolsReloadLoop = true;\n      console.log('Controller loaded');\n      global.location.reload(true);\n    });\n\n    // Send a message to the new serviceWorker to activate itself\n    registration.waiting.postMessage('skipWaiting');\n  }\n};\n\nReactDOM.render(\n  <App onLoadNewServiceWorkerAccept={ updateSW } />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register({\n\n  // When new ServiceWorker is available, trigger an event on `document`,\n  // passing `registration` as extra data\n  onUpdate: registration => {\n    var event = new CustomEvent('onNewServiceWorker', { detail: { registration } });\n    document.dispatchEvent(event);\n  }\n\n});\n","import React from 'react';\n\nconst GAEventContext = React.createContext(() => {});\n\nexport default GAEventContext;\n\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport ReactGA from 'react-ga';\n\nimport GAEventContext from './GAEventContext';\nimport GAListenerActive from './GAListenerActive';\n\n// Renders GA+children in production, only children for the rest\nclass GAListener extends React.Component {\n\n  sendEvent(origin, help, status) {\n    const event = {\n      category: origin,\n      action: help,\n    };\n\n    if ( typeof status === 'string' ) {\n      console.log(status);\n      event.label = status;\n    }\n\n    console.log(event);\n    ReactGA.event(event);\n  }\n\n  render() {\n    const { children, trackOptIn, ...props } = this.props;\n\n    // Disable GA unless user has opt'ed in to tracking\n    return trackOptIn ? (\n      <GAEventContext.Provider value={ this.sendEvent.bind(this) }>\n        <GAListenerActive { ...props } >\n          { children }\n        </GAListenerActive>\n      </GAEventContext.Provider>\n    ) : (\n      <GAEventContext.Provider value={ () => {} }>\n        { children }\n      </GAEventContext.Provider>\n    )\n  }\n}\n\nGAListener.defaultProps = {\n  ...GAListenerActive.defaultProps,\n  trackOptIn: false,\n};\n\nGAListener.propTypes = {\n  ...GAListenerActive.propTypes,\n  trackOptIn: PropTypes.bool.isRequired,\n};\n\nexport default GAListener;\n","import React from 'react';\n\nimport GAEventContext from './GAEventContext';\n\n// HOC to add `sendEvent` function respecting refs\nexport function withGAEvent(Component) {\n\n  // Wrapper component\n  class GAEvent extends React.Component {\n    render() {\n      const { forwardedRef, ...props } = this.props;\n\n      // Get `sendEvent` from context and pass it to the wrapped\n      // component, along with ref and the rest of props\n      return (\n        <GAEventContext.Consumer>\n          { sendEvent => <Component ref={ forwardedRef } { ...props } {...{ sendEvent }} /> }\n        </GAEventContext.Consumer>\n      );\n    }\n  }\n\n  // Return wrapper respecting ref\n  return React.forwardRef( (props, ref) => {\n    return <GAEvent { ...props } forwardedRef={ ref } />\n  });\n}\n\nexport default withGAEvent;\n","import GAListener from './GAListener';\nimport withGAEvent from './withGAEvent';\n\nexport { withGAEvent };\nexport default GAListener;\n"],"sourceRoot":""}